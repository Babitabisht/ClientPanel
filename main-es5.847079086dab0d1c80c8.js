function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(u((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,t,n),a=this.destination;a.add(i);var s=Object(r.a)(this,e,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("mrSG"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,a=n("q/0M"),s=n("zVF4"),u=n("x7I3"),c=n("S+S0"),l=o.SDK_VERSION,h=new a.Logger("@firebase/firestore");function f(){return h.logLevel}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(h.logLevel<=a.LogLevel.DEBUG){var r=t.map(v);h.debug.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+e],r))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(h.logLevel<=a.LogLevel.ERROR){var r=t.map(v);h.error.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+e],r))}}function v(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(i){return e}}function y(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function g(e,t){e||y()}function m(e,t){return e}function _(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var w=function(){function e(){}return e.t=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=_(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function C(e,t){return e<t?-1:e>t?1:0}function b(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function E(e){return e+"\0"}var k=function(e,t,n,r,i){this.s=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},I=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.o=function(e){return C(this.projectId,e.projectId)||C(this.database,e.database)},e}();function S(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function D(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function T(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var A=function(){function e(e,t){this.h=e,this.u=t,this.l={}}return e.prototype.get=function(e){var t=this.h(e),n=this.l[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.u(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.h(e),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.l[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.h(e),n=this.l[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],e))return 1===n.length?delete this.l[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){D(this.l,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype._=function(){return T(this.l)},e}(),x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(t,e),t}(Error),N=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.T=function(e){return this.seconds===e.seconds?C(this.nanoseconds,e.nanoseconds):C(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),P=function(){function e(e){this.timestamp=e}return e.I=function(t){return new e(t)},e.min=function(){return new e(new N(0,0))},e.prototype.o=function(e){return this.timestamp.T(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.A=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.R=function(){return this.timestamp},e}(),R=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&y(),void 0===n?n=e.length-t:n>e.length-t&&y(),this.segments=e,this.offset=t,this.m=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.m},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.P(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.V(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.g=function(e){return this.V(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},e.prototype.v=function(){return this.segments[this.offset]},e.prototype.S=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype._=function(){return 0===this.length},e.prototype.D=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.C=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},e.P=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.V=function(e,n,r){return new t(e,n,r)},t.prototype.N=function(){return this.F().join("/")},t.prototype.toString=function(){return this.N()},t.$=function(e){if(e.indexOf("//")>=0)throw new O(x.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t}(R);F.k=new F([]);var M=/^[_a-zA-Z][_a-zA-Z0-9]*$/,j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.V=function(e,n,r){return new t(e,n,r)},t.M=function(e){return M.test(e)},t.prototype.N=function(){return this.F().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.M(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.N()},t.prototype.L=function(){return 1===this.length&&"__name__"===this.get(0)},t.O=function(){return new t(["__name__"])},t.B=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new O(x.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new O(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new O(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new O(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t}(R);j.k=new j([]);var L=function(){function e(e){this.path=e}return e.q=function(t){return new e(F.$(t).g(5))},e.prototype.U=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===F.P(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.P=function(e,t){return F.P(e.path,t.path)},e.W=function(e){return e.length%2==0},e.j=function(t){return new e(new F(t.slice()))},e}();function V(e){return null==e}function U(e){return-0===e&&1/e==-1/0}function B(e){return"number"==typeof e&&Number.isInteger(e)&&!U(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}L.EMPTY=new L(new F([]));var q=function(){function e(e){this.K=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.K)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.K)},e.prototype.G=function(){return 2*this.K.length},e.prototype.o=function(e){return C(this.K,e.K)},e.prototype.isEqual=function(e){return this.K===e.K},e}();q.H=new q("");var H,W,Q=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=P.min()),void 0===o&&(o=P.min()),void 0===a&&(a=q.H),this.target=e,this.targetId=t,this.Y=n,this.sequenceNumber=r,this.J=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.X=function(t){return new e(this.target,this.targetId,this.Y,t,this.J,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.Z=function(t,n){return new e(this.target,this.targetId,this.Y,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.tt=function(t){return new e(this.target,this.targetId,this.Y,this.sequenceNumber,this.J,t,this.resumeToken)},e}(),z=function(e){this.count=e};function G(e){switch(e){case x.OK:return y();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return y()}}function K(e){if(void 0===e)return p("GRPC error has no .code"),x.UNKNOWN;switch(e){case H.OK:return x.OK;case H.CANCELLED:return x.CANCELLED;case H.UNKNOWN:return x.UNKNOWN;case H.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case H.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case H.INTERNAL:return x.INTERNAL;case H.UNAVAILABLE:return x.UNAVAILABLE;case H.UNAUTHENTICATED:return x.UNAUTHENTICATED;case H.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case H.NOT_FOUND:return x.NOT_FOUND;case H.ALREADY_EXISTS:return x.ALREADY_EXISTS;case H.PERMISSION_DENIED:return x.PERMISSION_DENIED;case H.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case H.ABORTED:return x.ABORTED;case H.OUT_OF_RANGE:return x.OUT_OF_RANGE;case H.UNIMPLEMENTED:return x.UNIMPLEMENTED;case H.DATA_LOSS:return x.DATA_LOSS;default:return y()}}(W=H||(H={}))[W.OK=0]="OK",W[W.CANCELLED=1]="CANCELLED",W[W.UNKNOWN=2]="UNKNOWN",W[W.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W[W.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W[W.NOT_FOUND=5]="NOT_FOUND",W[W.ALREADY_EXISTS=6]="ALREADY_EXISTS",W[W.PERMISSION_DENIED=7]="PERMISSION_DENIED",W[W.UNAUTHENTICATED=16]="UNAUTHENTICATED",W[W.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W[W.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W[W.ABORTED=10]="ABORTED",W[W.OUT_OF_RANGE=11]="OUT_OF_RANGE",W[W.UNIMPLEMENTED=12]="UNIMPLEMENTED",W[W.INTERNAL=13]="INTERNAL",W[W.UNAVAILABLE=14]="UNAVAILABLE",W[W.DATA_LOSS=15]="DATA_LOSS";var Y=function(){function e(e,t){this.P=e,this.root=t||$.EMPTY}return e.prototype.et=function(t,n){return new e(this.P,this.root.et(t,n,this.P).st(null,null,$.nt,null,null))},e.prototype.remove=function(t){return new e(this.P,this.root.remove(t,this.P).st(null,null,$.nt,null,null))},e.prototype.get=function(e){for(var t=this.root;!t._();){var n=this.P(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n._();){var r=this.P(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype._=function(){return this.root._()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.it=function(){return this.root.it()},e.prototype.rt=function(){return this.root.rt()},e.prototype.ot=function(e){return this.root.ot(e)},e.prototype.forEach=function(e){this.ot((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.ot((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.ht=function(e){return this.root.ht(e)},e.prototype.at=function(){return new Z(this.root,null,this.P,!1)},e.prototype.ut=function(e){return new Z(this.root,e,this.P,!1)},e.prototype.ct=function(){return new Z(this.root,null,this.P,!0)},e.prototype.lt=function(e){return new Z(this.root,e,this.P,!0)},e}(),Z=function(){function e(e,t,n,r){this._t=r,this.ft=[];for(var i=1;!e._();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this._t?e.left:e.right;else{if(0===i){this.ft.push(e);break}this.ft.push(e),e=this._t?e.right:e.left}}return e.prototype.dt=function(){var e=this.ft.pop(),t={key:e.key,value:e.value};if(this._t)for(e=e.left;!e._();)this.ft.push(e),e=e.right;else for(e=e.right;!e._();)this.ft.push(e),e=e.left;return t},e.prototype.wt=function(){return this.ft.length>0},e.prototype.Tt=function(){if(0===this.ft.length)return null;var e=this.ft[this.ft.length-1];return{key:e.key,value:e.value}},e}(),$=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.st=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype._=function(){return!1},e.prototype.ot=function(e){return this.left.ot(e)||e(this.key,this.value)||this.right.ot(e)},e.prototype.ht=function(e){return this.right.ht(e)||e(this.key,this.value)||this.left.ht(e)},e.prototype.min=function(){return this.left._()?this:this.left.min()},e.prototype.it=function(){return this.min().key},e.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},e.prototype.et=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.st(null,null,null,r.left.et(e,t,n),null):0===i?r.st(null,t,null,null,null):r.st(null,null,null,null,r.right.et(e,t,n))).Et()},e.prototype.It=function(){if(this.left._())return e.EMPTY;var t=this;return t.left.At()||t.left.left.At()||(t=t.Rt()),(t=t.st(null,null,null,t.left.It(),null)).Et()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.st(null,null,null,i.left.remove(t,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.Vt()),0===n(t,i.key)){if(i.right._())return e.EMPTY;r=i.right.min(),i=i.st(r.key,r.value,null,null,i.right.It())}i=i.st(null,null,null,null,i.right.remove(t,n))}return i.Et()},e.prototype.At=function(){return this.color},e.prototype.Et=function(){var e=this;return e.right.At()&&!e.left.At()&&(e=e.gt()),e.left.At()&&e.left.left.At()&&(e=e.Pt()),e.left.At()&&e.right.At()&&(e=e.pt()),e},e.prototype.Rt=function(){var e=this.pt();return e.right.left.At()&&(e=(e=(e=e.st(null,null,null,null,e.right.Pt())).gt()).pt()),e},e.prototype.Vt=function(){var e=this.pt();return e.left.left.At()&&(e=(e=e.Pt()).pt()),e},e.prototype.gt=function(){var t=this.st(null,null,e.RED,null,this.right.left);return this.right.st(null,null,this.color,t,null)},e.prototype.Pt=function(){var t=this.st(null,null,e.RED,this.left.right,null);return this.left.st(null,null,this.color,null,t)},e.prototype.pt=function(){var e=this.left.st(null,null,!this.left.color,null,null),t=this.right.st(null,null,!this.right.color,null,null);return this.st(null,null,!this.color,e,t)},e.prototype.yt=function(){var e=this.bt();return Math.pow(2,e)<=this.size+1},e.prototype.bt=function(){if(this.At()&&this.left.At())throw y();if(this.right.At())throw y();var e=this.left.bt();if(e!==this.right.bt())throw y();return e+(this.At()?0:1)},e}();$.EMPTY=null,$.RED=!0,$.nt=!1,$.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw y()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw y()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw y()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw y()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw y()},enumerable:!0,configurable:!0}),e.prototype.st=function(e,t,n,r,i){return this},e.prototype.et=function(e,t,n){return new $(e,t)},e.prototype.remove=function(e,t){return this},e.prototype._=function(){return!0},e.prototype.ot=function(e){return!1},e.prototype.ht=function(e){return!1},e.prototype.it=function(){return null},e.prototype.rt=function(){return null},e.prototype.At=function(){return!1},e.prototype.yt=function(){return!0},e.prototype.bt=function(){return 0},e}());var X=function(){function e(e){this.P=e,this.data=new Y(this.P)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.it()},e.prototype.last=function(){return this.data.rt()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ot((function(t,n){return e(t),!1}))},e.prototype.vt=function(e,t){for(var n=this.data.ut(e[0]);n.wt();){var r=n.dt();if(this.P(r.key,e[1])>=0)return;t(r.key)}},e.prototype.St=function(e,t){var n;for(n=void 0!==t?this.data.ut(t):this.data.at();n.wt();)if(!e(n.dt().key))return},e.prototype.Dt=function(e){var t=this.data.ut(e);return t.wt()?t.dt().key:null},e.prototype.at=function(){return new J(this.data.at())},e.prototype.ut=function(e){return new J(this.data.ut(e))},e.prototype.add=function(e){return this.st(this.data.remove(e).et(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.st(this.data.remove(e)):this},e.prototype._=function(){return this.data._()},e.prototype.Ct=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.at(),r=t.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},e.prototype.F=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.st=function(t){var n=new e(this.P);return n.data=t,n},e}(),J=function(){function e(e){this.Ft=e}return e.prototype.dt=function(){return this.Ft.dt().key},e.prototype.wt=function(){return this.Ft.wt()},e}(),ee=new Y(L.P);function te(){return ee}function ne(){return te()}var re=new Y(L.P);function ie(){return re}var oe=new Y(L.P),ae=new X(L.P);function se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ae,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ue=new X(C);function ce(){return ue}var le=function(){function e(e){this.P=e?function(t,n){return e(t,n)||L.P(t.key,n.key)}:function(e,t){return L.P(e.key,t.key)},this.Nt=ie(),this.$t=new Y(this.P)}return e.kt=function(t){return new e(t.P)},e.prototype.has=function(e){return null!=this.Nt.get(e)},e.prototype.get=function(e){return this.Nt.get(e)},e.prototype.first=function(){return this.$t.it()},e.prototype.last=function(){return this.$t.rt()},e.prototype._=function(){return this.$t._()},e.prototype.indexOf=function(e){var t=this.Nt.get(e);return t?this.$t.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.$t.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.$t.ot((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.st(t.Nt.et(e.key,e),t.$t.et(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.st(this.Nt.remove(e),this.$t.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.$t.at(),r=t.$t.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.st=function(t,n){var r=new e;return r.P=this.P,r.Nt=t,r.$t=n,r},e}(),he=function(){function e(){this.xt=new Y(L.P)}return e.prototype.track=function(e){var t=e.doc.key,n=this.xt.get(t);n?0!==e.type&&3===n.type?this.xt=this.xt.et(t,e):3===e.type&&1!==n.type?this.xt=this.xt.et(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.xt=this.xt.et(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.xt=this.xt.et(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.xt=this.xt.remove(t):1===e.type&&2===n.type?this.xt=this.xt.et(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.xt=this.xt.et(t,{type:2,doc:e.doc}):y():this.xt=this.xt.et(t,e)},e.prototype.Mt=function(){var e=[];return this.xt.ot((function(t,n){e.push(n)})),e},e}(),fe=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.Lt=n,this.docChanges=r,this.Ot=i,this.fromCache=o,this.Bt=a,this.qt=s}return e.Ut=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,le.kt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Ot._()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Bt===e.Bt&&this.Ot.isEqual(e.Ot)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.Lt.isEqual(e.Lt)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),de=function(){function e(e,t,n,r,i){this.J=e,this.Qt=t,this.Wt=n,this.jt=r,this.Kt=i}return e.Gt=function(t,n){var r=new Map;return r.set(t,pe.zt(t,n)),new e(P.min(),r,ce(),te(),se())},e}(),pe=function(){function e(e,t,n,r,i){this.resumeToken=e,this.Ht=t,this.Yt=n,this.Jt=r,this.Xt=i}return e.zt=function(t,n){return new e(q.H,n,se(),se(),se())},e}(),ve=function(e,t,n,r){this.Zt=e,this.removedTargetIds=t,this.key=n,this.te=r},ye=function(e,t){this.targetId=e,this.ee=t},ge=function(e,t,n,r){void 0===n&&(n=q.H),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},me=function(){function e(){this.se=0,this.ne=Ce(),this.ie=q.H,this.re=!1,this.oe=!0}return Object.defineProperty(e.prototype,"Ht",{get:function(){return this.re},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"he",{get:function(){return 0!==this.se},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ae",{get:function(){return this.oe},enumerable:!0,configurable:!0}),e.prototype.ue=function(e){e.G()>0&&(this.oe=!0,this.ie=e)},e.prototype.ce=function(){var e=se(),t=se(),n=se();return this.ne.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:y()}})),new pe(this.ie,this.re,e,t,n)},e.prototype.le=function(){this.oe=!1,this.ne=Ce()},e.prototype._e=function(e,t){this.oe=!0,this.ne=this.ne.et(e,t)},e.prototype.fe=function(e){this.oe=!0,this.ne=this.ne.remove(e)},e.prototype.de=function(){this.se+=1},e.prototype.we=function(){this.se-=1},e.prototype.Te=function(){this.oe=!0,this.re=!0},e}(),_e=function(){function e(e){this.Ee=e,this.Ie=new Map,this.Ae=te(),this.Re=we(),this.me=new X(C)}return e.prototype.Pe=function(e){for(var t=0,n=e.Zt;t<n.length;t++){var r=n[t];e.te instanceof Mt?this.Ve(r,e.te):e.te instanceof jt&&this.ge(r,e.key,e.te)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.ge(o[i],e.key,e.te)},e.prototype.pe=function(e){var t=this;this.ye(e,(function(n){var r=t.be(n);switch(e.state){case 0:t.ve(n)&&r.ue(e.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(e.resumeToken);break;case 2:r.we(),r.he||t.removeTarget(n);break;case 3:t.ve(n)&&(r.Te(),r.ue(e.resumeToken));break;case 4:t.ve(n)&&(t.Se(n),r.ue(e.resumeToken));break;default:y()}}))},e.prototype.ye=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ie.forEach((function(e,r){n.ve(r)&&t(r)}))},e.prototype.De=function(e){var t=e.targetId,n=e.ee.count,r=this.Ce(t);if(r){var i=r.target;if(tn(i))if(0===n){var o=new L(i.path);this.ge(t,o,new jt(o,P.min()))}else g(1===n);else this.Fe(t)!==n&&(this.Se(t),this.me=this.me.add(t))}},e.prototype.Ne=function(e){var t=this,n=new Map;this.Ie.forEach((function(r,i){var o=t.Ce(i);if(o){if(r.Ht&&tn(o.target)){var a=new L(o.target.path);null!==t.Ae.get(a)||t.$e(i,a)||t.ge(i,a,new jt(a,e))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=se();this.Re.forEach((function(e,n){var i=!0;n.St((function(e){var n=t.Ce(e);return!n||2===n.Y||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new de(e,n,this.me,this.Ae,r);return this.Ae=te(),this.Re=we(),this.me=new X(C),i},e.prototype.Ve=function(e,t){if(this.ve(e)){var n=this.$e(e,t.key)?2:0;this.be(e)._e(t.key,n),this.Ae=this.Ae.et(t.key,t),this.Re=this.Re.et(t.key,this.ke(t.key).add(e))}},e.prototype.ge=function(e,t,n){if(this.ve(e)){var r=this.be(e);this.$e(e,t)?r._e(t,1):r.fe(t),this.Re=this.Re.et(t,this.ke(t).delete(e)),n&&(this.Ae=this.Ae.et(t,n))}},e.prototype.removeTarget=function(e){this.Ie.delete(e)},e.prototype.Fe=function(e){var t=this.be(e).ce();return this.Ee.xe(e).size+t.Yt.size-t.Xt.size},e.prototype.de=function(e){this.be(e).de()},e.prototype.be=function(e){var t=this.Ie.get(e);return t||(t=new me,this.Ie.set(e,t)),t},e.prototype.ke=function(e){var t=this.Re.get(e);return t||(t=new X(C),this.Re=this.Re.et(e,t)),t},e.prototype.ve=function(e){var t=null!==this.Ce(e);return t||d("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.Ce=function(e){var t=this.Ie.get(e);return t&&t.he?null:this.Ee.Me(e)},e.prototype.Se=function(e){var t=this;this.Ie.set(e,new me),this.Ee.xe(e).forEach((function(n){t.ge(e,n,null)}))},e.prototype.$e=function(e,t){return this.Ee.xe(e).has(t)},e}();function we(){return new Y(L.P)}function Ce(){return new Y(L.P)}function be(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ee(e){var t=Oe(e.mapValue.fields.__local_write_time__.timestampValue);return new N(t.seconds,t.nanos)}var ke=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ie(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?be(e)?4:10:y()}function Se(e,t){var n=Ie(e);if(n!==Ie(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ee(e).isEqual(Ee(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Oe(e.timestampValue),r=Oe(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pe(e.bytesValue).isEqual(Pe(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ne(e.geoPointValue.latitude)===Ne(t.geoPointValue.latitude)&&Ne(e.geoPointValue.longitude)===Ne(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ne(e.integerValue)===Ne(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ne(e.doubleValue),r=Ne(t.doubleValue);return n===r?U(n)===U(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return b(e.arrayValue.values||[],t.arrayValue.values||[],Se);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(S(n)!==S(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Se(n[i],r[i])))return!1;return!0}(e,t);default:return y()}}function De(e,t){return void 0!==(e.values||[]).find((function(e){return Se(e,t)}))}function Te(e,t){var n=Ie(e),r=Ie(t);if(n!==r)return C(n,r);switch(n){case 0:return 0;case 1:return C(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ne(e.integerValue||e.doubleValue),r=Ne(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ae(e.timestampValue,t.timestampValue);case 4:return Ae(Ee(e),Ee(t));case 5:return C(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Pe(e),r=Pe(t);return n.o(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=C(n[i],r[i]);if(0!==o)return o}return C(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=C(Ne(e.latitude),Ne(t.latitude));return 0!==n?n:C(Ne(e.longitude),Ne(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Te(n[i],r[i]);if(o)return o}return C(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=C(r[a],o[a]);if(0!==s)return s;var u=Te(n[r[a]],i[o[a]]);if(0!==u)return u}return C(r.length,o.length)}(e.mapValue,t.mapValue);default:throw y()}}function Ae(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return C(e,t);var n=Oe(e),r=Oe(t),i=C(n.seconds,r.seconds);return 0!==i?i:C(n.nanos,r.nanos)}function xe(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=Oe(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Pe(t.bytesValue).toBase64():"referenceValue"in t?L.q(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):y();var n}(e)}function Oe(e){if(g(!!e),"string"==typeof e){var t=0,n=ke.exec(e);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ne(e.seconds),nanos:Ne(e.nanos)}}function Ne(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pe(e){return"string"==typeof e?q.fromBase64String(e):q.fromUint8Array(e)}function Re(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.N()}}function Fe(e){return!!e&&"integerValue"in e}function Me(e){return!!e&&"arrayValue"in e}function je(e){return!!e&&"nullValue"in e}function Le(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ve(e){return!!e&&"mapValue"in e}var Ue={asc:"ASCENDING",desc:"DESCENDING"},Be={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qe=function(e,t){this.s=e,this.Le=t};function He(e){return{integerValue:""+e}}function We(e,t){if(e.Le){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U(t)?"-0":t}}function Qe(e,t){return e.Le?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ze(e,t){return e.Le?t.toBase64():t.toUint8Array()}function Ge(e,t){return e.Le?(g(void 0===t||"string"==typeof t),q.fromBase64String(t||"")):(g(void 0===t||t instanceof Uint8Array),q.fromUint8Array(t||new Uint8Array))}function Ke(e,t){return Qe(e,t.R())}function Ye(e){return g(!!e),P.I(function(e){var t=Oe(e);return new N(t.seconds,t.nanos)}(e))}function Ze(e,t){return function(e){return new F(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).N()}function $e(e){var t=F.$(e);return g(yt(t)),t}function Xe(e,t){return Ze(e.s,t.path)}function Je(e,t){var n=$e(t);return g(n.get(1)===e.s.projectId),g(!n.get(3)&&!e.s.database||n.get(3)===e.s.database),new L(rt(n))}function et(e,t){return Ze(e.s,t)}function tt(e){var t=$e(e);return 4===t.length?F.k:rt(t)}function nt(e){return new F(["projects",e.s.projectId,"databases",e.s.database]).N()}function rt(e){return g(e.length>4&&"documents"===e.get(4)),e.g(5)}function it(e,t,n){return{name:Xe(e,t),fields:n.proto.mapValue.fields}}function ot(e,t){var n;if(t instanceof Dt)n={update:it(e,t.key,t.value)};else if(t instanceof xt)n={delete:Xe(e,t.key)};else if(t instanceof Tt)n={update:it(e,t.key,t.data),updateMask:vt(t.Oe)};else if(t instanceof At)n={transform:{document:Xe(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof gt)return{fieldPath:t.field.N(),setToServerValue:"REQUEST_TIME"};if(n instanceof mt)return{fieldPath:t.field.N(),appendMissingElements:{values:n.elements}};if(n instanceof _t)return{fieldPath:t.field.N(),removeAllFromArray:{values:n.elements}};if(n instanceof wt)return{fieldPath:t.field.N(),increment:n.Be};throw y()}(0,e)}))}};else{if(!(t instanceof Ot))return y();n={verify:Xe(e,t.key)}}return t.Ue.qe||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ke(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y()}(e,t.Ue)),n}function at(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?It.updateTime(Ye(e.updateTime)):void 0!==e.exists?It.exists(e.exists):It.Qe()}(t.currentDocument):It.Qe();if(t.update){var r=Je(e,t.update.name),i=new Nt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){return new bt((e.fieldPaths||[]).map((function(e){return j.B(e)})))}(t.updateMask);return new Tt(r,i,o,n)}return new Dt(r,i,n)}if(t.delete){var a=Je(e,t.delete);return new xt(a,n)}if(t.transform){var s=Je(e,t.transform.document),u=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(g("REQUEST_TIME"===t.setToServerValue),n=gt.instance):"appendMissingElements"in t?n=new mt(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new _t(t.removeAllFromArray.values||[]):"increment"in t?n=new wt(e,t.increment):y();var r=j.B(t.fieldPath);return new Et(r,n)}(e,t)}));return g(!0===n.exists),new At(s,u)}if(t.verify){var c=Je(e,t.verify);return new Ot(c,n)}return y()}function st(e,t){return{documents:[et(e,t.path)]}}function ut(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=et(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=et(e,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return e instanceof Ut?function(e){if("=="===e.op){if(Le(e.value))return{unaryFilter:{field:ht(e.field),op:"IS_NAN"}};if(je(e.value))return{unaryFilter:{field:ht(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:ht(e.field),op:(t=e.op,Be[t]),value:e.value}};var t}(e):y()}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return{field:ht((t=e).field),direction:(n=t.dir,Ue[n])};var t,n}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.Le||V(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=ct(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ct(t.endAt)),n}function ct(e){return{before:e.before,values:e.position}}function lt(e){return new zt(e.values||[],!!e.before)}function ht(e){return{fieldPath:e.N()}}function ft(e){return j.B(e.fieldPath)}function dt(e){return Ut.create(ft(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(e.fieldFilter.op),e.fieldFilter.value)}function pt(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ft(e.unaryFilter.field);return Ut.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ft(e.unaryFilter.field);return Ut.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function vt(e){var t=[];return e.fields.forEach((function(e){return t.push(e.N())})),{fieldPaths:t}}function yt(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var gt=function(){function e(){}return e.prototype.je=function(e,t){return function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,e)},e.prototype.Ke=function(e,t){return t},e.prototype.Ge=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e}();gt.instance=new gt;var mt=function(){function e(e){this.elements=e}return e.prototype.je=function(e,t){return this.apply(e)},e.prototype.Ke=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=Ct(e),n=function(e){t.some((function(t){return Se(t,e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:t}}},e.prototype.Ge=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&b(this.elements,t.elements,Se)},e}(),_t=function(){function e(e){this.elements=e}return e.prototype.je=function(e,t){return this.apply(e)},e.prototype.Ke=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=Ct(e),n=function(e){t=t.filter((function(t){return!Se(t,e)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:t}}},e.prototype.Ge=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&b(this.elements,t.elements,Se)},e}(),wt=function(){function e(e,t){this.serializer=e,this.Be=t}return e.prototype.je=function(e,t){var n=this.Ge(e),r=this.asNumber(n)+this.asNumber(this.Be);return Fe(n)&&Fe(this.Be)?He(r):We(this.serializer,r)},e.prototype.Ke=function(e,t){return t},e.prototype.Ge=function(e){return Fe(t=e)||function(e){return!!e&&"doubleValue"in e}(t)?e:{integerValue:0};var t},e.prototype.isEqual=function(t){return t instanceof e&&Se(this.Be,t.Be)},e.prototype.asNumber=function(e){return Ne(e.integerValue||e.doubleValue)},e}();function Ct(e){return Me(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var bt=function(){function e(e){this.fields=e,e.sort(j.P)}return e.prototype.ze=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].D(e))return!0;return!1},e.prototype.isEqual=function(e){return b(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Et=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),kt=function(e,t){this.version=e,this.transformResults=t},It=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.Qe=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"qe",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.He=function(e){return void 0!==this.updateTime?e instanceof Mt&&e.version.isEqual(this.updateTime):void 0===this.exists||this.exists===e instanceof Mt},e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}(),St=function(){function e(){}return e.prototype.Ye=function(e){},e.Je=function(e){return e instanceof Mt?e.version:P.min()},e}(),Dt=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Ue=r,i.type=0,i}return i.__extends(t,e),t.prototype.Ke=function(e,t){return this.Ye(e),new Mt(this.key,t.version,this.value,{hasCommittedMutations:!0})},t.prototype.je=function(e,t,n){if(this.Ye(e),!this.Ue.He(e))return e;var r=St.Je(e);return new Mt(this.key,r,this.value,{Xe:!0})},t.prototype.Ze=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.Ue.isEqual(e.Ue)},t}(St),Tt=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.Oe=r,o.Ue=i,o.type=1,o}return i.__extends(t,e),t.prototype.Ke=function(e,t){if(this.Ye(e),!this.Ue.He(e))return new Lt(this.key,t.version);var n=this.ts(e);return new Mt(this.key,t.version,n,{hasCommittedMutations:!0})},t.prototype.je=function(e,t,n){if(this.Ye(e),!this.Ue.He(e))return e;var r=St.Je(e),i=this.ts(e);return new Mt(this.key,r,i,{Xe:!0})},t.prototype.Ze=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.Oe.isEqual(e.Oe)&&this.Ue.isEqual(e.Ue)},t.prototype.ts=function(e){var t;return t=e instanceof Mt?e.data():Nt.empty(),this.es(t)},t.prototype.es=function(e){var t=this,n=new Pt(e);return this.Oe.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.ss()},t}(St),At=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Ue=It.exists(!0),r}return i.__extends(t,e),t.prototype.Ke=function(e,t){if(this.Ye(e),g(null!=t.transformResults),!this.Ue.He(e))return new Lt(this.key,t.version);var n=this.ns(e),r=this.rs(e,t.transformResults),i=t.version,o=this.os(n.data(),r);return new Mt(this.key,i,o,{hasCommittedMutations:!0})},t.prototype.je=function(e,t,n){if(this.Ye(e),!this.Ue.He(e))return e;var r=this.ns(e),i=this.hs(n,e,t),o=this.os(r.data(),i);return new Mt(this.key,r.version,o,{Xe:!0})},t.prototype.Ze=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof Mt?e.field(i.field):void 0,a=i.transform.Ge(o||null);null!=a&&(t=null==t?(new Pt).set(i.field,a):t.set(i.field,a))}return t?t.ss():null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&b(this.fieldTransforms,e.fieldTransforms,(function(e,t){return e.isEqual(t)}))&&this.Ue.isEqual(e.Ue)},t.prototype.ns=function(e){return e},t.prototype.rs=function(e,t){var n=[];g(this.fieldTransforms.length===t.length);for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof Mt&&(a=e.field(i.field)),n.push(o.Ke(a,t[r]))}return n},t.prototype.hs=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;t instanceof Mt&&(u=t.field(a.field)),null===u&&n instanceof Mt&&(u=n.field(a.field)),r.push(s.je(u,e))}return r},t.prototype.os=function(e,t){for(var n=new Pt(e),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,t[r]);return n.ss()},t}(St),xt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ue=n,r.type=3,r}return i.__extends(t,e),t.prototype.Ke=function(e,t){return this.Ye(e),new jt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.je=function(e,t,n){return this.Ye(e),this.Ue.He(e)?new jt(this.key,P.min()):e},t.prototype.Ze=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.Ue.isEqual(e.Ue)},t}(St),Ot=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ue=n,r.type=4,r}return i.__extends(t,e),t.prototype.Ke=function(e,t){y()},t.prototype.je=function(e,t,n){y()},t.prototype.Ze=function(e){y()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.Ue.isEqual(e.Ue)},t}(St),Nt=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e._())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!Ve(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.S()])||null},e.prototype.isEqual=function(e){return Se(this.proto,e.proto)},e}(),Pt=function(){function e(e){void 0===e&&(e=Nt.empty()),this.as=e,this.us=new Map}return e.prototype.set=function(e,t){return this.cs(e,t),this},e.prototype.delete=function(e){return this.cs(e,null),this},e.prototype.cs=function(e,t){for(var n=this.us,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ie(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.S(),t)},e.prototype.ss=function(){var e=this.ls(j.k,this.us);return null!=e?new Nt(e):this.as},e.prototype.ls=function(e,t){var n=this,r=!1,i=this.as.field(e),o=Ve(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.ls(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function Rt(e){var t=[];return D(e.fields||{},(function(e,n){var r=new j([e]);if(Ve(n)){var i=Rt(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new bt(t)}var Ft=function(e,t){this.key=e,this.version=t},Mt=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this)._s=r,o.Xe=!!i.Xe,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(t,e),t.prototype.field=function(e){return this._s.field(e)},t.prototype.data=function(){return this._s},t.prototype.fs=function(){return this._s.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Xe===e.Xe&&this.hasCommittedMutations===e.hasCommittedMutations&&this._s.isEqual(e._s)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this._s.toString()+", {hasLocalMutations: "+this.Xe+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Xe||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t}(Ft),jt=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ft),Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ft),Vt=function(){function e(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.ds=n,this.filters=r,this.limit=i,this.ws=o,this.startAt=a,this.endAt=s,this.Ts=null,this.Es=null,this.startAt&&this.Is(this.startAt),this.endAt&&this.Is(this.endAt)}return e.As=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.Ts){this.Ts=[];var e=this.Rs(),t=this.ms();if(null!==e&&null===t)e.L()||this.Ts.push(new Zt(e)),this.Ts.push(new Zt(j.O(),"asc"));else{for(var n=!1,r=0,i=this.ds;r<i.length;r++){var o=i[r];this.Ts.push(o),o.field.L()&&(n=!0)}if(!n){var a=this.ds.length>0?this.ds[this.ds.length-1].dir:"asc";this.Ts.push(new Zt(j.O(),a))}}}return this.Ts},enumerable:!0,configurable:!0}),e.prototype.Ps=function(t){var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.ds.slice(),n,this.limit,this.ws,this.startAt,this.endAt)},e.prototype.Vs=function(t){var n=this.ds.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},e.prototype.gs=function(t){return new e(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),t,"F",this.startAt,this.endAt)},e.prototype.ps=function(t){return new e(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),t,"L",this.startAt,this.endAt)},e.prototype.ys=function(t){return new e(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,t,this.endAt)},e.prototype.bs=function(t){return new e(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,t)},e.prototype.vs=function(t){return new e(t,null,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},e.prototype.Ss=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.ds.length||1===this.ds.length&&this.ds[0].field.L())},e.prototype.canonicalId=function(){return Jt(this.We())+"|lt:"+this.ws},e.prototype.toString=function(){return"Query(target="+function(e){var t=e.path.N();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.join(", ")+"]"),V(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.join(", ")+"]"),e.startAt&&(t+=", startAt: "+Gt(e.startAt)),e.endAt&&(t+=", endAt: "+Gt(e.endAt)),"Target("+t+")"}(this.We())+"; limitType="+this.ws+")"},e.prototype.isEqual=function(e){return en(this.We(),e.We())&&this.ws===e.ws},e.prototype.Ds=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.L()}return 0},e.prototype.matches=function(e){return this.Cs(e)&&this.Fs(e)&&this.Ns(e)&&this.$s(e)},e.prototype.ks=function(){return!V(this.limit)&&"F"===this.ws},e.prototype.xs=function(){return!V(this.limit)&&"L"===this.ws},e.prototype.ms=function(){return this.ds.length>0?this.ds[0].field:null},e.prototype.Rs=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Ut&&n.Ms())return n.field}return null},e.prototype.Ls=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof Ut&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.Os=function(){return tn(this.We())},e.prototype.Bs=function(){return null!==this.collectionGroup},e.prototype.We=function(){if(!this.Es)if("F"===this.ws)this.Es=Xt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var e=[],t=0,n=this.orderBy;t<n.length;t++){var r=n[t];e.push(new Zt(r.field,"desc"===r.dir?"asc":"desc"))}var i=this.endAt?new zt(this.endAt.position,!this.endAt.before):null,o=this.startAt?new zt(this.startAt.position,!this.startAt.before):null;this.Es=Xt(this.path,this.collectionGroup,e,this.filters,this.limit,i,o)}return this.Es},e.prototype.Cs=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.U(this.collectionGroup)&&this.path.D(t):L.W(this.path)?this.path.isEqual(t):this.path.C(t)},e.prototype.Fs=function(e){for(var t=0,n=this.ds;t<n.length;t++){var r=n[t];if(!r.field.L()&&null===e.field(r.field))return!1}return!0},e.prototype.Ns=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},e.prototype.$s=function(e){return!(this.startAt&&!Kt(this.startAt,this.orderBy,e)||this.endAt&&Kt(this.endAt,this.orderBy,e))},e.prototype.Is=function(e){},e}(),Ut=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return i.__extends(t,e),t.create=function(e,n,r){if(e.L())return"in"===n?new qt(e,r):new Bt(e,n,r);if(je(r)){if("=="!==n)throw new O(x.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(Le(r)){if("=="!==n)throw new O(x.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return"array-contains"===n?new Ht(e,r):"in"===n?new Wt(e,r):"array-contains-any"===n?new Qt(e,r):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Ie(this.value)===Ie(t)&&this.qs(Te(t,this.value))},t.prototype.qs=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case">":return e>0;case">=":return e>=0;default:return y()}},t.prototype.Ms=function(){return["<","<=",">",">="].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.N()+this.op.toString()+xe(this.value)},t.prototype.isEqual=function(e){return e instanceof t&&this.op===e.op&&this.field.isEqual(e.field)&&Se(this.value,e.value)},t.prototype.toString=function(){return this.field.N()+" "+this.op+" "+xe(this.value)},t}((function(){})),Bt=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=L.q(r.referenceValue),i}return i.__extends(t,e),t.prototype.matches=function(e){var t=L.P(e.key,this.key);return this.qs(t)},t}(Ut),qt=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(e){return L.q(e.referenceValue)})),r}return i.__extends(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Ut),Ht=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return Me(t)&&De(t.arrayValue,this.value)},t}(Ut),Wt=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&De(this.value.arrayValue,t)},t}(Ut),Qt=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!Me(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return De(t.value.arrayValue,e)}))},t}(Ut),zt=function(e,t){this.position=e,this.before=t};function Gt(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return xe(e)})).join(",")}function Kt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.L()?L.P(L.q(a.referenceValue),n.key):Te(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Yt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Se(e.position[n],t.position[n]))return!1;return!0}var Zt=function(){function e(e,t){this.field=e,void 0===t&&(t="asc"),this.dir=t,this.Us=e.L()}return e.prototype.compare=function(e,t){var n=this.Us?L.P(e.key,t.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?Te(r,i):y()}(this.field,e,t);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return y()}},e.prototype.canonicalId=function(){return this.field.N()+this.dir.toString()},e.prototype.toString=function(){return this.field.N()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),$t=function(e){function t(t,n,r,i,o,a,s){void 0===n&&(n=null),void 0===r&&(r=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===a&&(a=null),void 0===s&&(s=null);var u=this;return(u=e.call(this,t,n,r,i,o,a,s)||this).Qs=null,u}return i.__extends(t,e),t}((function(e,t,n,r,i,o,a){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a}));function Xt(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new $t(e,t,n,r,i,o,a)}function Jt(e){var t=m(e);if(null===t.Qs){var n=t.path.N();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return e.canonicalId()})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return e.canonicalId()})).join(","),V(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Gt(t.startAt)),t.endAt&&(n+="|ub:",n+=Gt(t.endAt)),t.Qs=n}return t.Qs}function en(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!e.orderBy[n].isEqual(t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!e.filters[r].isEqual(t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yt(e.startAt,t.startAt)&&Yt(e.endAt,t.endAt)}function tn(e){return L.W(e.path)&&null===e.collectionGroup&&0===e.filters.length}var nn=function(){function e(e,t,n,r){this.batchId=e,this.Ws=t,this.baseMutations=n,this.mutations=r}return e.prototype.Ke=function(e,t,n){for(var r=n.js,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=o.Ke(t,r[i]))}return t},e.prototype.je=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=i.je(t,t,this.Ws))}for(var o=t,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(e)&&(t=u.je(t,o,this.Ws))}return t},e.prototype.Ks=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.je(r.key,e.get(r.key));i&&(n=n.et(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),se())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&b(this.mutations,e.mutations,(function(e,t){return e.isEqual(t)}))&&b(this.baseMutations,e.baseMutations,(function(e,t){return e.isEqual(t)}))},e}(),rn=function(){function e(e,t,n,r){this.batch=e,this.Gs=t,this.js=n,this.zs=r}return e.from=function(t,n,r){g(t.mutations.length===r.length);for(var i=oe,o=t.mutations,a=0;a<o.length;a++)i=i.et(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),on=function(){function e(e){var t=this;this.Hs=null,this.Ys=null,this.result=void 0,this.error=void 0,this.Js=!1,this.Xs=!1,e((function(e){t.Js=!0,t.result=e,t.Hs&&t.Hs(e)}),(function(e){t.Js=!0,t.error=e,t.Ys&&t.Ys(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Xs&&y(),this.Xs=!0,this.Js?this.error?this.Zs(n,this.error):this.tn(t,this.result):new e((function(e,i){r.Hs=function(n){r.tn(t,n).next(e,i)},r.Ys=function(t){r.Zs(n,t).next(e,i)}}))},e.prototype.en=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.sn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.tn=function(t,n){return t?this.sn((function(){return t(n)})):e.resolve(n)},e.prototype.Zs=function(t,n){return t?this.sn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.nn=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.rn=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.nn(r)},e}(),an=function(){function e(){this.on=new A((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.hn=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.an},set:function(e){this.an=e},enumerable:!0,configurable:!0}),e.prototype.un=function(e,t){this.cn(),this.readTime=t,this.on.set(e.key,e)},e.prototype.ln=function(e,t){this.cn(),t&&(this.readTime=t),this.on.set(e,null)},e.prototype._n=function(e,t){this.cn();var n=this.on.get(t);return void 0!==n?on.resolve(n):this.fn(e,t)},e.prototype.getEntries=function(e,t){return this.dn(e,t)},e.prototype.apply=function(e){return this.cn(),this.hn=!0,this.wn(e)},e.prototype.cn=function(){},e}(),sn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",un=function(){function e(){this.Tn=[]}return e.prototype.En=function(e){this.Tn.push(e)},e.prototype.In=function(){this.Tn.forEach((function(e){return e()}))},e}(),cn=function(){function e(e,t,n){this.An=e,this.Rn=t,this.mn=n}return e.prototype.Pn=function(e,t){var n=this;return this.Rn.Vn(e,t).next((function(r){return n.gn(e,t,r)}))},e.prototype.gn=function(e,t,n){return this.An._n(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].je(t,e);return e}))},e.prototype.pn=function(e,t,n){var r=ne();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].je(e,t);r=r.et(e,t)})),r},e.prototype.yn=function(e,t){var n=this;return this.An.getEntries(e,t).next((function(t){return n.bn(e,t)}))},e.prototype.bn=function(e,t){var n=this;return this.Rn.vn(e,t).next((function(r){var i=n.pn(e,t,r),o=te();return i.forEach((function(e,t){t||(t=new jt(e,P.min())),o=o.et(e,t)})),o}))},e.prototype.Sn=function(e,t,n){return t.Os()?this.Dn(e,t.path):t.Bs()?this.Cn(e,t,n):this.Fn(e,t,n)},e.prototype.Dn=function(e,t){return this.Pn(e,new L(t)).next((function(e){var t=ie();return e instanceof Mt&&(t=t.et(e.key,e)),t}))},e.prototype.Cn=function(e,t,n){var r=this,i=t.collectionGroup,o=ie();return this.mn.Nn(e,i).next((function(a){return on.forEach(a,(function(a){var s=t.vs(a.child(i));return r.Fn(e,s,n).next((function(e){e.forEach((function(e,t){o=o.et(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Fn=function(e,t,n){var r,i,o=this;return this.An.Sn(e,t,n).next((function(n){return r=n,o.Rn.$n(e,t)})).next((function(t){return o.kn(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=u.je(l,l,o.Ws);r=h instanceof Mt?r.et(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},e.prototype.kn=function(e,t,n){for(var r=se(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Tt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.An.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Mt&&(c=c.et(e,t))})),c}))},e}(),ln=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.xn=n,this.Mn=r}return e.Ln=function(t,n){for(var r=se(),i=se(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),hn=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.On=function(e){return n.Bn(e)},this.qn=function(e){return t.Un(e)})}return e.prototype.Bn=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.qn&&this.qn(e),e},e}();hn.Qn=-1;var fn=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},dn=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Wn=e,this.jn=t,this.Kn=n,this.Gn=r,this.zn=i,this.Hn=0,this.Yn=null,this.Jn=Date.now(),this.reset()}return e.prototype.reset=function(){this.Hn=0},e.prototype.Xn=function(){this.Hn=this.zn},e.prototype.Zn=function(e){var t=this;this.cancel();var n=Math.floor(this.Hn+this.ti()),r=Math.max(0,Date.now()-this.Jn),i=Math.max(0,n-r);i>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Hn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Yn=this.Wn.ei(this.jn,i,(function(){return t.Jn=Date.now(),e()})),this.Hn*=this.Gn,this.Hn<this.Kn&&(this.Hn=this.Kn),this.Hn>this.zn&&(this.Hn=this.zn)},e.prototype.si=function(){null!==this.Yn&&(this.Yn.ni(),this.Yn=null)},e.prototype.cancel=function(){null!==this.Yn&&(this.Yn.cancel(),this.Yn=null)},e.prototype.ti=function(){return(Math.random()-.5)*this.Hn},e}();function pn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=yn(t)),t=vn(e.get(n),t);return yn(t)}function vn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function yn(e){return e+"\x01\x01"}function gn(e){var t=e.length;if(g(t>=2),2===t)return g("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),F.k;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&y(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:y()}o=a+2}return new F(r)}var mn=function(){function e(){this.ii=new _n}return e.prototype.ri=function(e,t){return this.ii.add(t),on.resolve()},e.prototype.Nn=function(e,t){return on.resolve(this.ii.getEntries(t))},e}(),_n=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.S(),n=e.p(),r=this.index[t]||new X(F.P),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.S(),n=e.p(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new X(F.P)).F()},e}(),wn=function(){function e(){this.oi=new _n}return e.prototype.ri=function(e,t){var n=this;if(!this.oi.has(t)){var r=t.S(),i=t.p();e.En((function(){n.oi.add(t)}));var o={collectionId:r,parent:pn(i)};return Cn(e).put(o)}return on.resolve()},e.prototype.Nn=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[E(t),""],!1,!0);return Cn(e).hi(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(gn(o.parent))}return n}))},e}();function Cn(e){return Wn.ai(e,vr.store)}var bn=function(e){this.ui=e};function En(e,t){if(t.document)return function(e,t,n){var r=Je(e,t.name),i=Ye(t.updateTime),o=new Nt({mapValue:{fields:t.fields}});return new Mt(r,i,o,{hasCommittedMutations:!!n})}(e.ui,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=L.j(t.noDocument.path),r=Tn(t.noDocument.readTime);return new jt(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=L.j(t.unknownDocument.path),o=Tn(t.unknownDocument.version);return new Lt(i,o)}return y()}function kn(e,t,n){var r=In(n),i=t.key.path.p().F();if(t instanceof Mt){var o=function(e,t){return{name:Xe(e,t.key),fields:t.fs().mapValue.fields,updateTime:Qe(e,t.version.R())}}(e.ui,t);return new lr(null,null,o,t.hasCommittedMutations,r,i)}if(t instanceof jt){var a=t.key.path.F(),s=Dn(t.version),u=t.hasCommittedMutations;return new lr(null,new ur(a,s),null,u,r,i)}if(t instanceof Lt){var c=t.key.path.F(),l=Dn(t.version);return new lr(new cr(c,l),null,null,!0,r,i)}return y()}function In(e){var t=e.R();return[t.seconds,t.nanoseconds]}function Sn(e){var t=new N(e[0],e[1]);return P.I(t)}function Dn(e){var t=e.R();return new rr(t.seconds,t.nanoseconds)}function Tn(e){var t=new N(e.seconds,e.nanoseconds);return P.I(t)}function An(e,t){var n=(t.baseMutations||[]).map((function(t){return at(e.ui,t)})),r=t.mutations.map((function(t){return at(e.ui,t)})),i=N.fromMillis(t.localWriteTimeMs);return new nn(t.batchId,i,n,r)}function xn(e){var t,n=Tn(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Tn(e.lastLimboFreeSnapshotVersion):P.min();return t=void 0!==e.query.documents?function(e){return g(1===e.documents.length),Vt.As(tt(e.documents[0])).We()}(e.query):function(e){var t=tt(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[pt(t)]:void 0!==t.fieldFilter?[dt(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):y():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return new Zt(ft((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var u=null;n.limit&&(u=function(e){var t;return V(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=lt(n.startAt));var l=null;return n.endAt&&(l=lt(n.endAt)),new Vt(t,i,s,a,u,"F",c,l).We()}(e.query),new Q(t,e.targetId,0,e.lastListenSequenceNumber,n,r,q.fromBase64String(e.resumeToken))}function On(e,t){var n,r=Dn(t.J),i=Dn(t.lastLimboFreeSnapshotVersion);n=tn(t.target)?st(e.ui,t.target):ut(e.ui,t.target);var o=t.resumeToken.toBase64();return new fr(t.targetId,Jt(t.target),r,o,t.sequenceNumber,i,n)}var Nn=function(){function e(e,t){this.serializer=e,this.mn=t}return e.prototype.un=function(e,t,n){return Rn(e).put(Fn(t),n)},e.prototype.ln=function(e,t){var n=Rn(e),r=Fn(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.ci(e,r)}))},e.prototype._n=function(e,t){var n=this;return Rn(e).get(Fn(t)).next((function(e){return n.li(e)}))},e.prototype._i=function(e,t){var n=this;return Rn(e).get(Fn(t)).next((function(e){var t=n.li(e);return t?{fi:t,size:Mn(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=ne();return this.di(e,t,(function(e,t){var i=n.li(t);r=r.et(e,i)})).next((function(){return r}))},e.prototype.wi=function(e,t){var n=this,r=ne(),i=new Y(L.P);return this.di(e,t,(function(e,t){var o=n.li(t);o?(r=r.et(e,o),i=i.et(e,Mn(t))):(r=r.et(e,null),i=i.et(e,0))})).next((function(){return{Ti:r,Ei:i}}))},e.prototype.di=function(e,t,n){if(t._())return on.resolve();var r=IDBKeyRange.bound(t.first().path.F(),t.last().path.F()),i=t.at(),o=i.dt();return Rn(e).Ii({range:r},(function(e,t,r){for(var a=L.j(e);o&&L.P(o,a)<0;)n(o,null),o=i.dt();o&&o.isEqual(a)&&(n(o,t),o=i.wt()?i.dt():null),o?r.Ai(o.path.F()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},e.prototype.Sn=function(e,t,n){var r=this,i=ie(),o=t.path.length+1,a={};if(n.isEqual(P.min())){var s=t.path.F();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.F(),c=In(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=lr.collectionReadTimeIndex}return Rn(e).Ii(a,(function(e,n,a){if(e.length===o){var s=En(r.serializer,n);t.path.D(s.key.path)?s instanceof Mt&&t.matches(s)&&(i=i.et(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.Ri=function(e,t){var n=this,r=te(),i=In(t),o=Rn(e),a=IDBKeyRange.lowerBound(i,!0);return o.Ii({index:lr.readTimeIndex,range:a},(function(e,t){var o=En(n.serializer,t);r=r.et(o.key,o),i=t.readTime})).next((function(){return{mi:r,readTime:Sn(i)}}))},e.prototype.Pi=function(e){var t=Rn(e),n=P.min();return t.Ii({index:lr.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Sn(t.readTime)),r.done()})).next((function(){return n}))},e.prototype.Vi=function(t){return new e.gi(this,!!t&&t.pi)},e.prototype.yi=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Pn(e).get(hr.key).next((function(e){return g(!!e),e}))},e.prototype.ci=function(e,t){return Pn(e).put(hr.key,t)},e.prototype.li=function(e){if(e){var t=En(this.serializer,e);return t instanceof jt&&t.version.isEqual(P.min())?null:t}return null},e}();function Pn(e){return Wn.ai(e,hr.store)}function Rn(e){return Wn.ai(e,lr.store)}function Fn(e){return e.path.F()}function Mn(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y();t=e.noDocument}return JSON.stringify(t).length}Nn.gi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).bi=t,r.pi=n,r.vi=new A((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return i.__extends(t,e),t.prototype.wn=function(e){var t=this,n=[],r=0,i=new X((function(e,t){return C(e.N(),t.N())}));return this.on.forEach((function(o,a){var s=t.vi.get(o);if(a){var u=kn(t.bi.serializer,a,t.readTime);i=i.add(o.path.p());var c=Mn(u);r+=c-s,n.push(t.bi.un(e,o,u))}else if(r-=s,t.pi){var l=kn(t.bi.serializer,new jt(o,P.min()),t.readTime);n.push(t.bi.un(e,o,l))}else n.push(t.bi.ln(e,o))})),i.forEach((function(r){n.push(t.bi.mn.ri(e,r))})),n.push(this.bi.updateMetadata(e,r)),on.nn(n)},t.prototype.fn=function(e,t){var n=this;return this.bi._i(e,t).next((function(e){return null===e?(n.vi.set(t,0),null):(n.vi.set(t,e.size),e.fi)}))},t.prototype.dn=function(e,t){var n=this;return this.bi.wi(e,t).next((function(e){var t=e.Ti;return e.Ei.forEach((function(e,t){n.vi.set(e,t)})),t}))},t}(an);var jn=function(){function e(e){this.Si=e}return e.prototype.next=function(){return this.Si+=2,this.Si},e.Di=function(){return new e(0)},e.Ci=function(){return new e(-1)},e}(),Ln=function(){function e(e,t){this.Fi=e,this.serializer=t}return e.prototype.Ni=function(e){var t=this;return this.$i(e).next((function(n){var r=new jn(n.highestTargetId);return n.highestTargetId=r.next(),t.ki(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.xi=function(e){return this.$i(e).next((function(e){return P.I(new N(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.Mi=function(e){return this.$i(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.Li=function(e,t,n){var r=this;return this.$i(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.R()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ki(e,i)}))},e.prototype.Oi=function(e,t){var n=this;return this.Bi(e,t).next((function(){return n.$i(e).next((function(r){return r.targetCount+=1,n.qi(t,r),n.ki(e,r)}))}))},e.prototype.Ui=function(e,t){return this.Bi(e,t)},e.prototype.Qi=function(e,t){var n=this;return this.Wi(e,t.targetId).next((function(){return Vn(e).delete(t.targetId)})).next((function(){return n.$i(e)})).next((function(t){return g(t.targetCount>0),t.targetCount-=1,n.ki(e,t)}))},e.prototype.ji=function(e,t,n){var r=this,i=0,o=[];return Vn(e).Ii((function(a,s){var u=xn(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.Qi(e,u)))})).next((function(){return on.nn(o)})).next((function(){return i}))},e.prototype.ye=function(e,t){return Vn(e).Ii((function(e,n){var r=xn(n);t(r)}))},e.prototype.$i=function(e){return Un(e).get(pr.key).next((function(e){return g(null!==e),e}))},e.prototype.ki=function(e,t){return Un(e).put(pr.key,t)},e.prototype.Bi=function(e,t){return Vn(e).put(On(this.serializer,t))},e.prototype.qi=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.Ki=function(e){return this.$i(e).next((function(e){return e.targetCount}))},e.prototype.Gi=function(e,t){var n=Jt(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vn(e).Ii({range:r,index:fr.queryTargetsIndexName},(function(e,n,r){var o=xn(n);en(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.zi=function(e,t,n){var r=this,i=[],o=Bn(e);return t.forEach((function(t){var a=pn(t.path);i.push(o.put(new dr(n,a))),i.push(r.Fi.Hi(e,n,t))})),on.nn(i)},e.prototype.Yi=function(e,t,n){var r=this,i=Bn(e);return on.forEach(t,(function(t){var o=pn(t.path);return on.nn([i.delete([n,o]),r.Fi.Ji(e,n,t)])}))},e.prototype.Wi=function(e,t){var n=Bn(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.Xi=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Bn(e),i=se();return r.Ii({range:n,Zi:!0},(function(e,t,n){var r=gn(e[1]),o=new L(r);i=i.add(o)})).next((function(){return i}))},e.prototype.tr=function(e,t){var n=pn(t.path),r=IDBKeyRange.bound([n],[E(n)],!1,!0),i=0;return Bn(e).Ii({index:dr.documentTargetsIndex,Zi:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.Me=function(e,t){return Vn(e).get(t).next((function(e){return e?xn(e):null}))},e}();function Vn(e){return Wn.ai(e,fr.store)}function Un(e){return Wn.ai(e,pr.store)}function Bn(e){return Wn.ai(e,dr.store)}var qn="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).er=t,r.sr=n,r}return i.__extends(t,e),t}(un),Wn=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Wn=o,this.window=a,this.document=s,this.nr=c,this.ir=l,this.rr=null,this.or=!1,this.isPrimary=!1,this.networkEnabled=!0,this.hr=null,this.inForeground=!1,this.ar=null,this.ur=null,this.cr=Number.NEGATIVE_INFINITY,this.lr=function(e){return Promise.resolve()},!e._r())throw new O(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Fi=new Gn(this,i),this.dr=n+e.wr,this.serializer=new bn(u),this.Tr=new Ln(this.Fi,this.serializer),this.mn=new wn,this.An=new Nn(this.serializer,this.mn),this.window&&this.window.localStorage?this.Er=this.window.localStorage:(this.Er=null,!1===l&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.ai=function(e,t){if(e instanceof Hn)return _r.ai(e.er,t);throw y()},e.prototype.start=function(){var e=this;return _r.Ir(this.dr,tr,new nr(this.serializer)).then((function(t){return e.Ar=t,e.Rr()})).then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new O(x.FAILED_PRECONDITION,qn);return e.mr(),e.Pr(),e.Vr(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Tr.Mi(t)}))})).then((function(t){e.rr=new hn(t,e.nr)})).then((function(){e.or=!0})).catch((function(t){return e.Ar&&e.Ar.close(),Promise.reject(t)}))},e.prototype.gr=function(e){var t=this;return this.lr=function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.pr?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.yr=function(e){var t=this;this.Ar.br((function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.vr=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Wn.Sr((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.pr?[4,this.Rr()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Rr=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return zn(t).put(new gr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Dr(t).next((function(t){t||(e.isPrimary=!1,e.Wn.Cr((function(){return e.lr(!1)})))}))})).next((function(){return e.Fr(t)})).next((function(n){return e.isPrimary&&!n?e.Nr(t).next((function(){return!1})):!!n&&e.$r(t).next((function(){return!0}))}))})).catch((function(t){if(br(t))return d("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Wn.Cr((function(){return e.lr(t)})),e.isPrimary=t}))},e.prototype.Dr=function(e){var t=this;return Qn(e).get(ir.key).next((function(e){return on.resolve(t.kr(e))}))},e.prototype.xr=function(e){return zn(e).delete(this.clientId)},e.prototype.Mr=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Lr(this.cr,18e5)?[3,2]:(this.cr=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.ai(t,gr.store);return n.hi().next((function(e){var t=o.Or(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return on.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Er)for(n=0,r=t;n<r.length;n++)this.Er.removeItem(this.Br(r[n].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.Vr=function(){var e=this;this.ur=this.Wn.ei("client_metadata_refresh",4e3,(function(){return e.Rr().then((function(){return e.Mr()})).then((function(){return e.Vr()}))}))},e.prototype.kr=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Fr=function(e){var t=this;return this.ir?on.resolve(!0):Qn(e).get(ir.key).next((function(n){if(null!==n&&t.Lr(n.leaseTimestampMs,5e3)&&!t.qr(n.ownerId)){if(t.kr(n)&&t.networkEnabled)return!0;if(!t.kr(n)){if(!n.allowTabSynchronization)throw new O(x.FAILED_PRECONDITION,qn);return!1}}return!(!t.networkEnabled||!t.inForeground)||zn(e).hi().next((function(e){return void 0===t.Or(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&d("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.Ur=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){switch(t.label){case 0:return this.or=!1,this.Qr(),this.ur&&(this.ur.cancel(),this.ur=null),this.Wr(),this.jr(),[4,this.runTransaction("shutdown","readwrite",(function(t){return e.Nr(t).next((function(){return e.xr(t)}))})).catch((function(e){d("IndexedDbPersistence","Proceeding with shutdown despite failure: ",e)}))];case 1:return t.sent(),this.Ar.close(),this.Kr(),[2]}}))}))},e.prototype.Or=function(e,t){var n=this;return e.filter((function(e){return n.Lr(e.updateTimeMs,t)&&!n.qr(e.clientId)}))},e.prototype.Gr=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return zn(t).hi().next((function(t){return e.Or(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return e._r()?[4,_r.delete(t+e.wr)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),e.prototype.zr=function(e){return Yn.Hr(e,this.serializer,this.mn,this.Fi)},e.prototype.Yr=function(){return this.Tr},e.prototype.Jr=function(){return this.An},e.prototype.Xr=function(){return this.mn},e.prototype.runTransaction=function(e,t,n){var r,i=this;return d("IndexedDbPersistence","Starting transaction:",e),this.Ar.runTransaction("readonly"===t?"readonly":"readwrite",mr,(function(o){return r=new Hn(o,i.rr?i.rr.next():hn.Qn),"readwrite-primary"===t?i.Dr(r).next((function(e){return!!e||i.Fr(r)})).next((function(t){if(!t)throw p("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Wn.Cr((function(){return i.lr(!1)})),new O(x.FAILED_PRECONDITION,sn);return n(r)})).next((function(e){return i.$r(r).next((function(){return e}))})):i.Zr(r).next((function(){return n(r)}))})).then((function(e){return r.In(),e}))},e.prototype.Zr=function(e){var t=this;return Qn(e).get(ir.key).next((function(e){if(null!==e&&t.Lr(e.leaseTimestampMs,5e3)&&!t.qr(e.ownerId)&&!t.kr(e)&&!(t.ir||t.allowTabSynchronization&&e.allowTabSynchronization))throw new O(x.FAILED_PRECONDITION,qn)}))},e.prototype.$r=function(e){var t=new ir(this.clientId,this.allowTabSynchronization,Date.now());return Qn(e).put(ir.key,t)},e._r=function(){return _r._r()},e.to=function(e){var t=e.s.projectId;return e.s.i||(t+="."+e.s.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.Nr=function(e){var t=this,n=Qn(e);return n.get(ir.key).next((function(e){return t.kr(e)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(ir.key)):on.resolve()}))},e.prototype.Lr=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(p("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.mr=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ar=function(){e.Wn.Sr((function(){return e.inForeground="visible"===e.document.visibilityState,e.Rr()}))},this.document.addEventListener("visibilitychange",this.ar),this.inForeground="visible"===this.document.visibilityState)},e.prototype.Wr=function(){this.ar&&(this.document.removeEventListener("visibilitychange",this.ar),this.ar=null)},e.prototype.Pr=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.hr=function(){t.Qr(),t.Wn.Sr((function(){return t.Ur()}))},this.window.addEventListener("unload",this.hr))},e.prototype.jr=function(){this.hr&&(this.window.removeEventListener("unload",this.hr),this.hr=null)},e.prototype.qr=function(e){var t;try{var n=null!==(null===(t=this.Er)||void 0===t?void 0:t.getItem(this.Br(e)));return d("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return p("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.Qr=function(){if(this.Er)try{this.Er.setItem(this.Br(this.clientId),String(Date.now()))}catch(e){p("Failed to set zombie client id.",e)}},e.prototype.Kr=function(){if(this.Er)try{this.Er.removeItem(this.Br(this.clientId))}catch(e){}},e.prototype.Br=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Qn(e){return Wn.ai(e,ir.store)}function zn(e){return Wn.ai(e,gr.store)}Wn.wr="main";var Gn=function(){function e(e,t){this.db=e,this.eo=new jr(this,t)}return e.prototype.so=function(e){var t=this.no(e);return this.db.Yr().Ki(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.no=function(e){var t=0;return this.io(e,(function(e){t++})).next((function(){return t}))},e.prototype.ye=function(e,t){return this.db.Yr().ye(e,t)},e.prototype.io=function(e,t){return this.ro(e,(function(e,n){return t(n)}))},e.prototype.Hi=function(e,t,n){return Kn(e,n)},e.prototype.Ji=function(e,t,n){return Kn(e,n)},e.prototype.ji=function(e,t,n){return this.db.Yr().ji(e,t,n)},e.prototype.oo=function(e,t){return Kn(e,t)},e.prototype.ho=function(e,t){return function(e,t){var n=!1;return er(e).ao((function(r){return Zn(e,r,t).next((function(e){return e&&(n=!0),on.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.uo=function(e,t){var n=this,r=this.db.Jr().Vi(),i=[],o=0;return this.ro(e,(function(a,s){if(s<=t){var u=n.ho(e,a).next((function(t){if(!t)return o++,r._n(e,a).next((function(){return r.ln(a),Bn(e).delete([0,pn(a.path)])}))}));i.push(u)}})).next((function(){return on.nn(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.X(e.sr);return this.db.Yr().Ui(e,n)},e.prototype.co=function(e,t){return Kn(e,t)},e.prototype.ro=function(e,t){var n,r=Bn(e),i=hn.Qn;return r.Ii({index:dr.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==hn.Qn&&t(new L(gn(n)),i),i=a,n=o):i=hn.Qn})).next((function(){i!==hn.Qn&&t(new L(gn(n)),i)}))},e.prototype.lo=function(e){return this.db.Jr().yi(e)},e}();function Kn(e,t){return Bn(e).put(function(e,t){return new dr(0,pn(e.path),t)}(t,e.sr))}var Yn=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.mn=n,this.Fi=r,this._o={}}return e.Hr=function(t,n,r,i){return g(""!==t.uid),new e(t.fo()?t.uid:"",n,r,i)},e.prototype.do=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xn(e).Ii({index:ar.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.wo=function(e,t,n,r){var i=this,o=Jn(e),a=Xn(e);return a.add({}).next((function(s){g("number"==typeof s);for(var u=new nn(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return ot(e.ui,t)})),i=n.mutations.map((function(t){return ot(e.ui,t)}));return new ar(t,n.batchId,n.Ws.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new X((function(e,t){return C(e.N(),t.N())})),f=0,d=r;f<d.length;f++){var p=d[f],v=sr.key(i.userId,p.key.path,s);h=h.add(p.key.path.p()),l.push(a.put(c)),l.push(o.put(v,sr.PLACEHOLDER))}return h.forEach((function(t){l.push(i.mn.ri(e,t))})),e.En((function(){i._o[s]=u.keys()})),on.nn(l).next((function(){return u}))}))},e.prototype.To=function(e,t){var n=this;return Xn(e).get(t).next((function(e){return e?(g(e.userId===n.userId),An(n.serializer,e)):null}))},e.prototype.Eo=function(e,t){var n=this;return this._o[t]?on.resolve(this._o[t]):this.To(e,t).next((function(e){if(e){var r=e.keys();return n._o[t]=r,r}return null}))},e.prototype.Io=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Xn(e).Ii({index:ar.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(g(t.batchId>=r),o=An(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.Ao=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xn(e).Ii({index:ar.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.Ro=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xn(e).hi(ar.userMutationsIndex,n).next((function(e){return e.map((function(e){return An(t.serializer,e)}))}))},e.prototype.Vn=function(e,t){var n=this,r=sr.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Jn(e).Ii({range:i},(function(r,i,a){var s=r[0],u=r[2],c=gn(r[1]);if(s===n.userId&&t.path.isEqual(c))return Xn(e).get(u).next((function(e){if(!e)throw y();g(e.userId===n.userId),o.push(An(n.serializer,e))}));a.done()})).next((function(){return o}))},e.prototype.vn=function(e,t){var n=this,r=new X(C),i=[];return t.forEach((function(t){var o=sr.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Jn(e).Ii({range:a},(function(e,i,o){var a=e[0],s=e[2],u=gn(e[1]);a===n.userId&&t.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),on.nn(i).next((function(){return n.mo(e,r)}))},e.prototype.$n=function(e,t){var n=this,r=t.path,i=r.length+1,o=sr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new X(C);return Jn(e).Ii({range:a},(function(e,t,o){var a=e[0],u=e[2],c=gn(e[1]);a===n.userId&&r.D(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.mo(e,s)}))},e.prototype.mo=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Xn(e).get(t).next((function(e){if(null===e)throw y();g(e.userId===n.userId),r.push(An(n.serializer,e))})))})),on.nn(i).next((function(){return r}))},e.prototype.Po=function(e,t){var n=this;return $n(e.er,this.userId,t).next((function(r){return e.En((function(){n.Vo(t.batchId)})),on.forEach(r,(function(t){return n.Fi.oo(e,t)}))}))},e.prototype.Vo=function(e){delete this._o[e]},e.prototype.po=function(e){var t=this;return this.do(e).next((function(n){if(!n)return on.resolve();var r=IDBKeyRange.lowerBound(sr.prefixForUser(t.userId)),i=[];return Jn(e).Ii({range:r},(function(e,n,r){if(e[0]===t.userId){var o=gn(e[1]);i.push(o)}else r.done()})).next((function(){g(0===i.length)}))}))},e.prototype.tr=function(e,t){return Zn(e,this.userId,t)},e.prototype.yo=function(e){var t=this;return er(e).get(this.userId).next((function(e){return e||new or(t.userId,-1,"")}))},e}();function Zn(e,t,n){var r=sr.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Jn(e).Ii({range:o,Zi:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function $n(e,t,n){var r=e.store(ar.store),i=e.store(sr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ii({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){g(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=sr.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return on.nn(o).next((function(){return c}))}function Xn(e){return Wn.ai(e,ar.store)}function Jn(e){return Wn.ai(e,sr.store)}function er(e){return Wn.ai(e,or.store)}var tr=10,nr=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;g(n<r&&n>=0&&r<=tr);var o=new Er(t);n<1&&r>=1&&(function(e){e.createObjectStore(ir.store)}(e),function(e){e.createObjectStore(or.store,{keyPath:or.keyPath}),e.createObjectStore(ar.store,{keyPath:ar.keyPath,autoIncrement:!0}).createIndex(ar.userMutationsIndex,ar.userMutationsKeyPath,{unique:!0}),e.createObjectStore(sr.store)}(e),yr(e),function(e){e.createObjectStore(lr.store)}(e));var a=on.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(dr.store),e.deleteObjectStore(fr.store),e.deleteObjectStore(pr.store)}(e),yr(e)),a=a.next((function(){return function(e){var t=e.store(pr.store),n=new pr(0,0,P.min().R(),0);return t.put(pr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(ar.store).hi().next((function(n){e.deleteObjectStore(ar.store),e.createObjectStore(ar.store,{keyPath:ar.keyPath,autoIncrement:!0}).createIndex(ar.userMutationsIndex,ar.userMutationsKeyPath,{unique:!0});var r=t.store(ar.store),i=n.map((function(e){return r.put(e)}));return on.nn(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(gr.store,{keyPath:gr.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(hr.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(lr.store);t.createIndex(lr.readTimeIndex,lr.readTimeIndexPath,{unique:!1}),t.createIndex(lr.collectionReadTimeIndex,lr.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(lr.store).Ii((function(e,n){t+=Mn(n)})).next((function(){var n=new hr(t);return e.store(hr.store).put(hr.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(or.store),r=e.store(ar.store);return n.hi().next((function(n){return on.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.hi(ar.userMutationsIndex,i).next((function(r){return on.forEach(r,(function(r){g(r.userId===n.userId);var i=An(t.serializer,r);return $n(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(dr.store),n=e.store(lr.store);return e.store(pr.store).get(pr.key).next((function(e){var r=[];return n.Ii((function(n,i){var o=new F(n),a=function(e){return[0,pn(e)]}(o);r.push(t.get(a).next((function(n){return n?on.resolve():function(n){return t.put(new dr(0,pn(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return on.nn(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(vr.store,{keyPath:vr.keyPath});var n=t.store(vr.store),r=new _n,i=function(e){if(r.add(e)){var t=e.S(),i=e.p();return n.put({collectionId:t,parent:pn(i)})}};return t.store(lr.store).Ii({Zi:!0},(function(e,t){var n=new F(e);return i(n.p())})).next((function(){return t.store(sr.store).Ii({Zi:!0},(function(e,t){var n=gn(e[1]);return i(n.p())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(fr.store);return n.Ii((function(e,r){var i=xn(r),o=On(t.serializer,i);return n.put(o)}))},e}(),rr=function(e,t){this.seconds=e,this.nanoseconds=t},ir=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ir.store="owner",ir.key="owner";var or=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};or.store="mutationQueues",or.keyPath="userId";var ar=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ar.store="mutations",ar.keyPath="batchId",ar.userMutationsIndex="userMutationsIndex",ar.userMutationsKeyPath=["userId","batchId"];var sr=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,pn(t)]},e.key=function(e,t,n){return[e,pn(t),n]},e}();sr.store="documentMutations",sr.PLACEHOLDER=new sr;var ur=function(e,t){this.path=e,this.readTime=t},cr=function(e,t){this.path=e,this.version=t},lr=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};lr.store="remoteDocuments",lr.readTimeIndex="readTimeIndex",lr.readTimeIndexPath="readTime",lr.collectionReadTimeIndex="collectionReadTimeIndex",lr.collectionReadTimeIndexPath=["parentPath","readTime"];var hr=function(e){this.byteSize=e};hr.store="remoteDocumentGlobal",hr.key="remoteDocumentGlobalKey";var fr=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};fr.store="targets",fr.keyPath="targetId",fr.queryTargetsIndexName="queryTargetsIndex",fr.queryTargetsKeyPath=["canonicalId","targetId"];var dr=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};dr.store="targetDocuments",dr.keyPath=["targetId","path"],dr.documentTargetsIndex="documentTargetsIndex",dr.documentTargetsKeyPath=["path","targetId"];var pr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pr.key="targetGlobalKey",pr.store="targetGlobal";var vr=function(e,t){this.collectionId=e,this.parent=t};function yr(e){e.createObjectStore(dr.store,{keyPath:dr.keyPath}).createIndex(dr.documentTargetsIndex,dr.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(fr.store,{keyPath:fr.keyPath}).createIndex(fr.queryTargetsIndexName,fr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(pr.store)}vr.store="collectionParents",vr.keyPath=["collectionId","parent"];var gr=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};gr.store="clientMetadata",gr.keyPath="clientId";var mr=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([or.store,ar.store,sr.store,lr.store,fr.store,ir.store,pr.store,dr.store],[gr.store]),[hr.store]),[vr.store]),_r=function(){function e(t){this.db=t,12.2===e.bo(s.getUA())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.Ir=function(t,n,r){return d("SimpleDb","Opening database:",t),new on((function(i,o){var a=indexedDB.open(t,n);a.onsuccess=function(t){i(new e(t.target.result))},a.onblocked=function(){o(new O(x.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var t=e.target.error;o("VersionError"===t.name?new O(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):t)},a.onupgradeneeded=function(e){d("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion),r.createOrUpgrade(e.target.result,a.transaction,e.oldVersion,tr).next((function(){d("SimpleDb","Database upgrade to version "+tr+" complete")}))}})).en()},e.delete=function(e){return d("SimpleDb","Removing database:",e),Ir(window.indexedDB.deleteDatabase(e)).en()},e._r=function(){if("undefined"==typeof indexedDB)return!1;if(e.vo())return!0;var t=s.getUA(),n=e.bo(t),r=0<n&&n<10,i=e.So(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.vo=function(){var e;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(e=__PRIVATE_process.__PRIVATE_env)||void 0===e?void 0:e.Do)},e.ai=function(e,t){return e.store(t)},e.bo=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.So=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.br=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===e,o=0,a=function(){var e,a,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,e=Er.open(s.db,r?"readonly":"readwrite",t),i.label=1;case 1:return i.trys.push([1,3,,4]),a=n(e).catch((function(t){return e.abort(t),on.reject(t)})).en(),u={},a.catch((function(){})),[4,e.Co];case 2:return[2,(u.value=(i.sent(),a),u)];case 3:return d("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=i.sent()).message,l="FirebaseError"!==c.name&&o<3),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),wr=function(){function e(e){this.Fo=e,this.No=!1,this.$o=null}return Object.defineProperty(e.prototype,"Js",{get:function(){return this.No},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ko",{get:function(){return this.$o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Fo=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.No=!0},e.prototype.Ai=function(e){this.$o=e},e.prototype.delete=function(){return Ir(this.Fo.delete())},e}(),Cr=function(e){function t(t){var n=this;return(n=e.call(this,x.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",n}return i.__extends(t,e),t}(O);function br(e){return"IndexedDbTransactionError"===e.name}var Er=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.xo=new fn,this.transaction.oncomplete=function(){t.xo.resolve()},this.transaction.onabort=function(){e.error?t.xo.reject(new Cr(e.error)):t.xo.resolve()},this.transaction.onerror=function(e){var n=Dr(e.target.error);t.xo.reject(new Cr(n))}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"Co",{get:function(){return this.xo.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.xo.reject(e),this.aborted||(d("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new kr(t)},e}(),kr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(d("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ir(n)},e.prototype.add=function(e){return d("SimpleDb","ADD",this.store.name,e,e),Ir(this.store.add(e))},e.prototype.get=function(e){var t=this;return Ir(this.store.get(e)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return d("SimpleDb","DELETE",this.store.name,e),Ir(this.store.delete(e))},e.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),Ir(this.store.count())},e.prototype.hi=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Mo(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Lo=function(e,t){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Zi=!1;var r=this.cursor(n);return this.Mo(r,(function(e,t,n){return n.delete()}))},e.prototype.Ii=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Mo(r,t)},e.prototype.ao=function(e){var t=this.cursor({});return new on((function(n,r){t.onerror=function(e){var t=Dr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Mo=function(e,t){var n=[];return new on((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new wr(i),a=t(i.primaryKey,i.value,o);if(a instanceof on){var s=a.catch((function(e){return o.done(),on.reject(e)}));n.push(s)}o.Js?r():null===o.ko?i.continue():i.continue(o.ko)}else r()}})).next((function(){return on.nn(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Zi?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Ir(e){return new on((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Dr(e.target.error);n(t)}}))}var Sr=!1;function Dr(e){var t=_r.bo(s.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new O("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sr||(Sr=!0,setTimeout((function(){throw r}),0)),r}}return e}function Tr(){return"undefined"!=typeof window?window:null}var Ar=function(){function e(e,t,n,r,i){this.Oo=e,this.jn=t,this.Bo=n,this.op=r,this.qo=i,this.Uo=new fn,this.then=this.Uo.promise.then.bind(this.Uo.promise),this.Uo.promise.catch((function(e){}))}return e.Qo=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.Wo=setTimeout((function(){return t.jo()}),e)},e.prototype.ni=function(){return this.jo()},e.prototype.cancel=function(e){null!==this.Wo&&(this.clearTimeout(),this.Uo.reject(new O(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.jo=function(){var e=this;this.Oo.Sr((function(){return null!==e.Wo?(e.clearTimeout(),e.op().then((function(t){return e.Uo.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.Wo&&(this.qo(this),clearTimeout(this.Wo),this.Wo=null)},e}(),xr=function(){function e(){var e=this;this.Ko=Promise.resolve(),this.Go=Promise.resolve(),this.zo=!1,this.Ho=[],this.Yo=null,this.Jo=!1,this.Xo=[],this.Zo=new dn(this,"async_queue_retry"),this.th=function(){return e.Zo.si()};var t=Tr();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.th)}return Object.defineProperty(e.prototype,"eh",{get:function(){return this.zo},enumerable:!0,configurable:!0}),e.prototype.Sr=function(e){this.enqueue(e)},e.prototype.sh=function(e){this.nh(),this.ih(e)},e.prototype.rh=function(e){return this.nh(),this.ih(e)},e.prototype.oh=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return this.nh(),this.zo?[3,2]:(this.zo=!0,(t=Tr())&&t.removeEventListener("visibilitychange",this.th),[4,this.rh(e)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.nh(),this.zo?new Promise((function(e){})):this.ih(e)},e.prototype.Cr=function(e){var t=this;this.nh(),this.zo||(this.Go=this.Go.then((function(){var n=new fn;return t.Sr((function r(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e()];case 1:return i.sent(),n.resolve(),this.Zo.reset(),[3,3];case 2:if(!br(t=i.sent()))throw n.resolve(),t;return d("AsyncQueue","Operation failed with retryable error: "+t),this.Zo.Zn(r),[3,3];case 3:return[2]}}))}))})),n.promise})))},e.prototype.ih=function(e){var t=this,n=this.Ko.then((function(){return t.Jo=!0,e().catch((function(e){throw t.Yo=e,t.Jo=!1,p("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Jo=!1,e}))}));return this.Ko=n,n},e.prototype.ei=function(e,t,n){var r=this;this.nh(),this.Xo.indexOf(e)>-1&&(t=0);var i=Ar.Qo(this,e,t,n,(function(e){return r.hh(e)}));return this.Ho.push(i),i},e.prototype.nh=function(){this.Yo&&y()},e.prototype.ah=function(){},e.prototype.uh=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return[4,e=this.Ko];case 1:t.sent(),t.label=2;case 2:if(e!==this.Ko)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.lh=function(e){for(var t=0,n=this.Ho;t<n.length;t++)if(n[t].jn===e)return!0;return!1},e.prototype._h=function(e){var t=this;return this.uh().then((function(){t.Ho.sort((function(e,t){return e.Bo-t.Bo}));for(var n=0,r=t.Ho;n<r.length;n++){var i=r[n];if(i.ni(),"all"!==e&&i.jn===e)break}return t.uh()}))},e.prototype.fh=function(e){this.Xo.push(e)},e.prototype.hh=function(e){var t=this.Ho.indexOf(e);this.Ho.splice(t,1)},e}();function Or(e,t){if(p("AsyncQueue",t+": "+e),br(e))return new O(x.UNAVAILABLE,t+": "+e);throw e}function Nr(e,t){var n=e[1],r=t[1],i=C(e[0],t[0]);return 0===i?C(n,r):i}var Pr=function(){function e(e){this.dh=e,this.buffer=new X(Nr),this.wh=0}return e.prototype.Th=function(){return++this.wh},e.prototype.Eh=function(e){var t=[e,this.Th()];if(this.buffer.size<this.dh)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Nr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Rr={Ih:!1,Ah:0,Rh:0,mh:0},Fr=function(){function e(e,t,n){this.Ph=e,this.Vh=t,this.gh=n}return e.ph=function(t){return new e(t,e.yh,e.bh)},e}();Fr.vh=-1,Fr.Sh=1048576,Fr.Dh=41943040,Fr.yh=10,Fr.bh=1e3,Fr.Ch=new Fr(Fr.Dh,Fr.yh,Fr.bh),Fr.DISABLED=new Fr(Fr.vh,0,0);var Mr=function(){function e(e,t){this.eo=e,this.Oo=t,this.Fh=!1,this.Nh=null}return e.prototype.start=function(e){this.eo.$h.Ph!==Fr.vh&&this.kh(e)},e.prototype.stop=function(){this.Nh&&(this.Nh.cancel(),this.Nh=null)},Object.defineProperty(e.prototype,"pr",{get:function(){return null!==this.Nh},enumerable:!0,configurable:!0}),e.prototype.kh=function(e){var t=this,n=this.Fh?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Nh=this.Oo.ei("lru_garbage_collection",n,(function(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:this.Nh=null,this.Fh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.xh(this.eo)];case 2:return n.sent(),[3,7];case 3:return br(t=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Ur(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.kh(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),jr=function(){function e(e,t){this.Mh=e,this.$h=t}return e.prototype.Lh=function(e,t){return this.Mh.so(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.Oh=function(e,t){var n=this;if(0===t)return on.resolve(hn.Qn);var r=new Pr(t);return this.Mh.ye(e,(function(e){return r.Eh(e.sequenceNumber)})).next((function(){return n.Mh.io(e,(function(e){return r.Eh(e)}))})).next((function(){return r.maxValue}))},e.prototype.ji=function(e,t,n){return this.Mh.ji(e,t,n)},e.prototype.uo=function(e,t){return this.Mh.uo(e,t)},e.prototype.Bh=function(e,t){var n=this;return this.$h.Ph===Fr.vh?(d("LruGarbageCollector","Garbage collection skipped; disabled"),on.resolve(Rr)):this.lo(e).next((function(r){return r<n.$h.Ph?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.$h.Ph),Rr):n.qh(e,t)}))},e.prototype.lo=function(e){return this.Mh.lo(e)},e.prototype.qh=function(e,t){var n,r,i,o,s,u,c,l=this,h=Date.now();return this.Lh(e,this.$h.Vh).next((function(t){return t>l.$h.gh?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.$h.gh+" from "+t),r=l.$h.gh):r=t,o=Date.now(),l.Oh(e,r)})).next((function(r){return n=r,s=Date.now(),l.ji(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.uo(e,n)})).next((function(e){return c=Date.now(),f()<=a.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),on.resolve({Ih:!0,Ah:r,Rh:i,mh:e})}))},e}(),Lr=function(){function e(e,t,n){this.persistence=e,this.Uh=t,this.Qh=new Y(C),this.Wh=new A((function(e){return Jt(e)}),en),this.jh=P.min(),this.Rn=e.zr(n),this.Kh=e.Jr(),this.Tr=e.Yr(),this.Gh=new cn(this.Kh,this.Rn,this.persistence.Xr()),this.Uh.zh(this.Gh)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Hh=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.Rn,n=this.Gh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.Rn.Ro(r).next((function(a){return i=a,t=o.persistence.zr(e),n=new cn(o.Kh,t,o.persistence.Xr()),t.Ro(r)})).next((function(e){for(var t=[],o=[],a=se(),s=0,u=i;s<u.length;s++){var c=u[s];t.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];o.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return n.yn(r,a).next((function(e){return{Yh:e,Jh:t,Xh:o}}))}))}))];case 1:return r=i.sent(),[2,(this.Rn=t,this.Gh=n,this.Uh.zh(this.Gh),r)]}}))}))},e.prototype.Zh=function(e){var t,n=this,r=N.now(),i=e.reduce((function(e,t){return e.add(t.key)}),se());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Gh.yn(o,i).next((function(i){t=i;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=c.Ze(t.get(c.key));null!=l&&a.push(new Tt(c.key,l,Rt(l.proto.mapValue),It.exists(!0)))}return n.Rn.wo(o,r,a,e)}))})).then((function(e){var n=e.Ks(t);return{batchId:e.batchId,on:n}}))},e.prototype.ta=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),i=t.Kh.Vi({pi:!0});return t.ea(n,e,i).next((function(){return i.apply(n)})).next((function(){return t.Rn.po(n)})).next((function(){return t.Gh.yn(n,r)}))}))},e.prototype.sa=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.Rn.To(n,e).next((function(e){return g(null!==e),r=e.keys(),t.Rn.Po(n,e)})).next((function(){return t.Rn.po(n)})).next((function(){return t.Gh.yn(n,r)}))}))},e.prototype.Ao=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Rn.Ao(t)}))},e.prototype.xi=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Tr.xi(t)}))},e.prototype.na=function(t){var n=this,r=t.J,i=this.Qh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var a=n.Kh.Vi({pi:!0});i=n.Qh;var s=[];t.Qt.forEach((function(t,a){var u=i.get(a);if(u){s.push(n.Tr.Yi(o,t.Xt,a).next((function(){return n.Tr.zi(o,t.Yt,a)})));var c=t.resumeToken;if(c.G()>0){var l=u.Z(c,r).X(o.sr);i=i.et(a,l),e.ia(u,l,t)&&s.push(n.Tr.Ui(o,l))}}}));var u=te(),c=se();if(t.jt.forEach((function(e,t){c=c.add(e)})),s.push(a.getEntries(o,c).next((function(e){t.jt.forEach((function(i,c){var l=e.get(i);c instanceof jt&&c.version.isEqual(P.min())?(a.ln(i,r),u=u.et(i,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(a.un(c,r),u=u.et(i,c)):d("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),t.Kt.has(i)&&s.push(n.persistence.Fi.co(o,i))}))}))),!r.isEqual(P.min())){var l=n.Tr.xi(o).next((function(e){return n.Tr.Li(o,o.sr,r)}));s.push(l)}return on.nn(s).next((function(){return a.apply(o)})).next((function(){return n.Gh.bn(o,u)}))})).then((function(e){return n.Qh=i,e}))},e.ia=function(e,t,n){return g(t.resumeToken.G()>0),0===e.resumeToken.G()||t.J.A()-e.J.A()>=this.ra||n.Yt.size+n.Jt.size+n.Xt.size>0},e.prototype.oa=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return on.forEach(e,(function(e){return on.forEach(e.xn,(function(n){return c.persistence.Fi.Hi(t,e.targetId,n)})).next((function(){return on.forEach(e.Mn,(function(n){return c.persistence.Fi.Ji(t,e.targetId,n)}))}))}))}))];case 1:return i.sent(),[3,3];case 2:if(!br(t=i.sent()))throw t;return d("LocalStore","Failed to update sequence numbers: "+t),[3,3];case 3:for(n=0,r=e;n<r.length;n++)a=(o=r[n]).targetId,o.fromCache||(s=this.Qh.get(a),u=s.tt(s.J),this.Qh=this.Qh.et(a,u));return[2]}}))}))},e.prototype.ha=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.Rn.Io(n,e)}))},e.prototype.aa=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.Gh.Pn(n,e)}))},e.prototype.ua=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return t.Tr.Gi(n,e).next((function(i){return i?on.resolve(r=i):t.Tr.Ni(n).next((function(i){return r=new Q(e,i,0,n.sr),t.Tr.Oi(n,r).next((function(){return r}))}))}))})).then((function(n){var r=t.Qh.get(n.targetId);return(null===r||n.J.o(r.J)>0)&&(t.Qh=t.Qh.et(n.targetId,n),t.Wh.set(e,n.targetId)),n}))},e.prototype.Gi=function(e,t){var n=this.Wh.get(t);return void 0!==n?on.resolve(this.Qh.get(n)):this.Tr.Gi(e,t)},e.prototype.ca=function(e,t){var n=this,r=this.Qh.get(e);return this.persistence.runTransaction("Release target",t?"readwrite":"readwrite-primary",(function(e){return t?on.resolve():n.persistence.Fi.removeTarget(e,r)})).then((function(){n.Qh=n.Qh.remove(e),n.Wh.delete(r.target)}))},e.prototype.la=function(e,t){var n=this,r=P.min(),i=se();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Gi(o,e.We()).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.Tr.Xi(o,e.targetId).next((function(e){i=e}))})).next((function(){return n.Uh.Sn(o,e,t?r:P.min(),t?i:se())})).next((function(e){return{documents:e,_a:i}}))}))},e.prototype.ea=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=on.resolve();return o.forEach((function(r){a=a.next((function(){return n._n(e,r)})).next((function(e){var o=e,a=t.zs.get(r);g(null!==a),(!o||o.version.o(a)<0)&&(o=i.Ke(r,o,t))&&n.un(o,t.Gs)}))})),a.next((function(){return r.Rn.Po(e,i)}))},e.prototype.xh=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.Bh(n,t.Qh)}))},e}();Lr.ra=3e8;var Vr=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).persistence=t,i.Rn=t.zr(r),i.Kh=t.Jr(),i.Tr=t.Yr(),i}return i.__extends(t,e),t.prototype.start=function(){return this.fa()},t.prototype.da=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.Rn.Eo(n,e).next((function(e){return e?t.Gh.yn(n,e):on.resolve(null)}))}))},t.prototype.wa=function(e){this.Rn.Vo(e)},t.prototype.vr=function(e){this.persistence.vr(e)},t.prototype.Gr=function(){return this.persistence.Gr()},t.prototype.Ta=function(e){var t=this,n=this.Qh.get(e);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return t.Tr.Me(n,e).next((function(e){return e?e.target:null}))}))},t.prototype.Ri=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.Kh.Ri(t,e.jh)})).then((function(t){var n=t.mi;return e.jh=t.readTime,n}))},t.prototype.fa=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return e=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return t.Kh.Pi(e)}))];case 1:return e.jh=n.sent(),[2]}}))}))},t}(Lr);function Ur(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){if(e.code!==x.FAILED_PRECONDITION||e.message!==sn)throw e;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Br=function(){function e(){this.Ea=new X(qr.Ia),this.Aa=new X(qr.Ra)}return e.prototype._=function(){return this.Ea._()},e.prototype.Hi=function(e,t){var n=new qr(e,t);this.Ea=this.Ea.add(n),this.Aa=this.Aa.add(n)},e.prototype.ma=function(e,t){var n=this;e.forEach((function(e){return n.Hi(e,t)}))},e.prototype.Ji=function(e,t){this.Pa(new qr(e,t))},e.prototype.Va=function(e,t){var n=this;e.forEach((function(e){return n.Ji(e,t)}))},e.prototype.ga=function(e){var t=this,n=L.EMPTY,r=new qr(n,e),i=new qr(n,e+1),o=[];return this.Aa.vt([r,i],(function(e){t.Pa(e),o.push(e.key)})),o},e.prototype.pa=function(){var e=this;this.Ea.forEach((function(t){return e.Pa(t)}))},e.prototype.Pa=function(e){this.Ea=this.Ea.delete(e),this.Aa=this.Aa.delete(e)},e.prototype.ya=function(e){var t=L.EMPTY,n=new qr(t,e),r=new qr(t,e+1),i=se();return this.Aa.vt([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.tr=function(e){var t=new qr(e,0),n=this.Ea.Dt(t);return null!==n&&e.isEqual(n.key)},e}(),qr=function(){function e(e,t){this.key=e,this.ba=t}return e.Ia=function(e,t){return L.P(e.key,t.key)||C(e.ba,t.ba)},e.Ra=function(e,t){return C(e.ba,t.ba)||L.P(e.key,t.key)},e}();function Hr(e,t){if(0!==t.length)throw new O(x.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+si(t.length,"argument")+".")}function Wr(e,t,n){if(t.length!==n)throw new O(x.INVALID_ARGUMENT,"Function "+e+"() requires "+si(n,"argument")+", but was called with "+si(t.length,"argument")+".")}function Qr(e,t,n){if(t.length<n)throw new O(x.INVALID_ARGUMENT,"Function "+e+"() requires at least "+si(n,"argument")+", but was called with "+si(t.length,"argument")+".")}function zr(e,t,n,r){if(t.length<n||t.length>r)throw new O(x.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+si(t.length,"argument")+".")}function Gr(e,t,n,r){Jr(e,t,ai(n)+" argument",r)}function Kr(e,t,n,r){void 0!==r&&Gr(e,t,n,r)}function Yr(e,t,n,r){Jr(e,t,n+" option",r)}function Zr(e,t,n,r){void 0!==r&&Yr(e,t,n,r)}function $r(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(ti(u))}var c=ti(r);throw new O(x.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function Xr(e,t,n,r){if(!t.some((function(e){return e===r})))throw new O(x.INVALID_ARGUMENT,"Invalid value "+ti(r)+" provided to function "+e+"() for its "+ai(n)+" argument. Acceptable values: "+t.join(", "));return r}function Jr(e,t,n,r){if(!("object"===t?ei(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=ti(r);throw new O(x.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function ei(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ti(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":y()}function ni(e,t,n){if(void 0===n)throw new O(x.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+ai(t)+" argument, but it was undefined.")}function ri(e,t,n){D(t,(function(t,r){if(n.indexOf(t)<0)throw new O(x.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function ii(e,t,n,r){var i=ti(r);return new O(x.INVALID_ARGUMENT,"Function "+e+"() requires its "+ai(n)+" argument to be a "+t+", but it was: "+i)}function oi(e,t,n){if(n<=0)throw new O(x.INVALID_ARGUMENT,"Function "+e+"() requires its "+ai(t)+" argument to be a positive number, but it was: "+n+".")}function ai(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function si(e,t){return e+" "+t+(1===e?"":"s")}function ui(){if("undefined"==typeof Uint8Array)throw new O(x.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ci(){if("undefined"==typeof atob)throw new O(x.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var li=function(){function e(e){ci(),this.va=e}return e.fromBase64String=function(t){Wr("Blob.fromBase64String",arguments,1),Gr("Blob.fromBase64String","string",1,t),ci();try{return new e(q.fromBase64String(t))}catch(t){throw new O(x.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(Wr("Blob.fromUint8Array",arguments,1),ui(),!(t instanceof Uint8Array))throw ii("Blob.fromUint8Array","Uint8Array",1,t);return new e(q.fromUint8Array(t))},e.prototype.toBase64=function(){return Wr("Blob.toBase64",arguments,0),ci(),this.va.toBase64()},e.prototype.toUint8Array=function(){return Wr("Blob.toUint8Array",arguments,0),ui(),this.va.toUint8Array()},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.va.isEqual(e.va)},e}(),hi=function(e){!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new O(x.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+si(1,"element")+".")}(0,e);for(var t=0;t<e.length;++t)if(Gr("FieldPath","string",t,e[t]),0===e[t].length)throw new O(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Sa=new j(e)},fi=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,t)||this}return i.__extends(t,e),t.documentId=function(){return t.Da},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ii("isEqual","FieldPath",1,e);return this.Sa.isEqual(e.Sa)},t}(hi);fi.Da=new fi(j.O().N());var di=new RegExp("[~\\*/\\[\\]]"),pi=function(){this.Ca=this},vi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Fa=t,n}return i.__extends(t,e),t.prototype.Na=function(e){if(2!==e.$a)throw e.ka(1===e.$a?this.Fa+"() can only appear at the top level of your update data":this.Fa+"() cannot be used with set() unless you pass {merge:true}");return e.Oe.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(pi),yi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Fa=t,n}return i.__extends(t,e),t.prototype.Na=function(e){return new Et(e.path,gt.instance)},t.prototype.isEqual=function(e){return e instanceof t},t}(pi),gi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Fa=t,r.xa=n,r}return i.__extends(t,e),t.prototype.Na=function(e){var t=new Ai({$a:3,methodName:this.Fa,Ma:!0},e.s,e.serializer,e.ignoreUndefinedProperties),n=this.xa.map((function(e){return Oi(e,t)})),r=new mt(n);return new Et(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(pi),mi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Fa=t,r.xa=n,r}return i.__extends(t,e),t.prototype.Na=function(e){var t=new Ai({$a:3,methodName:this.Fa,Ma:!0},e.s,e.serializer,e.ignoreUndefinedProperties),n=this.xa.map((function(e){return Oi(e,t)})),r=new _t(n);return new Et(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(pi),_i=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Fa=t,r.La=n,r}return i.__extends(t,e),t.prototype.Na=function(e){var t=new Ai({$a:3,methodName:this.Fa},e.s,e.serializer,e.ignoreUndefinedProperties),n=Oi(this.La,t),r=new wt(e.serializer,n);return new Et(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(pi),wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.delete=function(){return Hr("FieldValue.delete",arguments),new Ci(new vi("FieldValue.delete"))},t.serverTimestamp=function(){return Hr("FieldValue.serverTimestamp",arguments),new Ci(new yi("FieldValue.serverTimestamp"))},t.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Qr("FieldValue.arrayUnion",arguments,1),new Ci(new gi("FieldValue.arrayUnion",e))},t.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Qr("FieldValue.arrayRemove",arguments,1),new Ci(new mi("FieldValue.arrayRemove",e))},t.increment=function(e){return Gr("FieldValue.increment","number",1,e),Wr("FieldValue.increment",arguments,1),new Ci(new _i("FieldValue.increment",e))},t}(pi),Ci=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ca=t,n.Fa=t.Fa,n}return i.__extends(t,e),t.prototype.Na=function(e){return this.Ca.Na(e)},t.prototype.isEqual=function(e){return e instanceof t&&this.Ca.isEqual(e.Ca)},t}(wi),bi=function(){function e(e,t){if(Wr("GeoPoint",arguments,2),Gr("GeoPoint","number",1,e),Gr("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new O(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.Oa=e,this.Ba=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.Oa},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.Ba},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this.Oa===e.Oa&&this.Ba===e.Ba},e.prototype.T=function(e){return C(this.Oa,e.Oa)||C(this.Ba,e.Ba)},e}();function Ei(e){return new qe(e,!0)}var ki=/^__.*__$/,Ii=function(e,t,n){this.qa=e,this.Ua=t,this.Qa=n},Si=function(){function e(e,t,n){this.data=e,this.Oe=t,this.fieldTransforms=n}return e.prototype.Wa=function(e,t){var n=[];return n.push(null!==this.Oe?new Tt(e,this.data,this.Oe,t):new Dt(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new At(e,this.fieldTransforms)),n},e}(),Di=function(){function e(e,t,n){this.data=e,this.Oe=t,this.fieldTransforms=n}return e.prototype.Wa=function(e,t){var n=[new Tt(e,this.data,this.Oe,t)];return this.fieldTransforms.length>0&&n.push(new At(e,this.fieldTransforms)),n},e}();function Ti(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var Ai=function(){function e(e,t,n,r,i,o){this.settings=e,this.s=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ja(),this.fieldTransforms=i||[],this.Oe=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$a",{get:function(){return this.settings.$a},enumerable:!0,configurable:!0}),e.prototype.Ka=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Oe)},e.prototype.Ga=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ka({path:n,Ma:!1});return r.za(e),r},e.prototype.Ha=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ka({path:n,Ma:!1});return r.ja(),r},e.prototype.Ya=function(e){return this.Ka({path:void 0,Ma:!0})},e.prototype.ka=function(e){var t=!this.path||this.path._()?"":" (found in field "+this.path.toString()+")";return new O(x.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.Oe.find((function(t){return e.D(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.D(t.field)}))},e.prototype.ja=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.za(this.path.get(e))},e.prototype.za=function(e){if(0===e.length)throw this.ka("Document fields must not be empty");if(Ti(this.$a)&&ki.test(e))throw this.ka('Document fields cannot begin and end with "__"')},e}(),xi=function(){function e(e,t,n){this.s=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ei(e)}return e.prototype.Ja=function(e,t,n){void 0===n&&(n={});var r=this.Xa(n.merge||n.mergeFields?2:0,e);Ri("Data must be an object, but it was:",r,t);var i,o,a=Ni(t,r);if(n.merge)i=new bt(r.Oe),o=r.fieldTransforms;else if(n.mergeFields){for(var s=[],u=0,c=n.mergeFields;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof hi)h=l.Sa;else{if("string"!=typeof l)throw y();h=Mi(e,l)}if(!r.contains(h))throw new O(x.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");ji(s,h)||s.push(h)}i=new bt(s),o=r.fieldTransforms.filter((function(e){return i.ze(e.field)}))}else i=null,o=r.fieldTransforms;return new Si(new Nt(a),i,o)},e.prototype.Za=function(e,t){var n=this.Xa(1,e);Ri("Data must be an object, but it was:",n,t);var r=[],i=new Pt;D(t,(function(t,o){var a=Mi(e,t),s=n.Ha(a);if(o instanceof pi&&o.Ca instanceof vi)r.push(a);else{var u=Oi(o,s);null!=u&&(r.push(a),i.set(a,u))}}));var o=new bt(r);return new Di(i.ss(),o,n.fieldTransforms)},e.prototype.tu=function(e,t,n,r){var i=this.Xa(1,e),o=[Fi(e,t)],a=[n];if(r.length%2!=0)throw new O(x.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(Fi(e,r[s])),a.push(r[s+1]);for(var u=[],c=new Pt,l=o.length-1;l>=0;--l)if(!ji(u,o[l])){var h=o[l],f=a[l],d=i.Ha(h);if(f instanceof pi&&f.Ca instanceof vi)u.push(h);else{var p=Oi(f,d);null!=p&&(u.push(h),c.set(h,p))}}var v=new bt(u);return new Di(c.ss(),v,i.fieldTransforms)},e.prototype.Xa=function(e,t){return new Ai({$a:e,methodName:t,path:j.k,Ma:!1},this.s,this.serializer,this.ignoreUndefinedProperties)},e.prototype.eu=function(e,t,n){return void 0===n&&(n=!1),Oi(t,this.Xa(n?4:3,e))},e}();function Oi(e,t){if(Pi(e))return Ri("Unsupported field value:",t,e),Ni(e,t);if(e instanceof pi)return function(e,t){if(!Ti(t.$a))throw t.ka(e.Fa+"() can only be used with update() and set()");if(!t.path)throw t.ka(e.Fa+"() is not currently supported inside arrays");var n=e.Na(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.Oe.push(t.path),e instanceof Array){if(t.settings.Ma&&4!==t.$a)throw t.ka("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Oi(o[i],t.Ya(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return function(e,t){return B(t)?He(t):We(e,t)}(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=N.fromDate(e);return{timestampValue:Qe(t.serializer,n)}}if(e instanceof N){var r=new N(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qe(t.serializer,r)}}if(e instanceof bi)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof li)return{bytesValue:ze(t.serializer,e)};if(e instanceof Ii){var i=t.s,o=e.qa;if(!o.isEqual(i))throw t.ka("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ze(e.qa||t.s,e.Ua.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.ka("Unsupported field value: "+ti(e))}(e,t)}function Ni(e,t){var n={};return T(e)?t.path&&t.path.length>0&&t.Oe.push(t.path):D(e,(function(e,r){var i=Oi(r,t.Ga(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pi(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof N||e instanceof bi||e instanceof li||e instanceof Ii||e instanceof pi)}function Ri(e,t,n){if(!Pi(n)||!ei(n)){var r=ti(n);throw t.ka("an object"===r?e+" a custom object":e+" "+r)}}function Fi(e,t){if(t instanceof hi)return t.Sa;if("string"==typeof t)return Mi(e,t);throw new O(x.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Mi(e,t){try{return function(e){if(e.search(di)>=0)throw new O(x.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fi.bind.apply(fi,i.__spreadArrays([void 0],e.split("."))))}catch(i){throw new O(x.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).Sa}catch(t){var n=(r=t)instanceof Error?r.message:r.toString();throw new O(x.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}var r}function ji(e,t){return e.some((function(e){return e.isEqual(t)}))}var Li=function(){function e(e){this.uid=e}return e.prototype.fo=function(){return null!=this.uid},e.prototype.su=function(){return this.fo()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();Li.UNAUTHENTICATED=new Li(null),Li.nu=new Li("google-credentials-uid"),Li.iu=new Li("first-party-uid");var Vi=function(e,t){this.user=t,this.type="OAuth",this.ru={},this.ru.Authorization="Bearer "+e},Ui=function(){function e(){this.ou=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.hu=function(){},e.prototype.au=function(e){this.ou=e,e(Li.UNAUTHENTICATED)},e.prototype.uu=function(){this.ou=null},e}(),Bi=function(){function e(e){var t=this;this.cu=null,this.currentUser=Li.UNAUTHENTICATED,this.lu=!1,this._u=0,this.ou=null,this.forceRefresh=!1,this.cu=function(){t._u++,t.currentUser=t.fu(),t.lu=!0,t.ou&&t.ou(t.currentUser)},this._u=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.cu):(this.cu(null),e.get().then((function(e){t.auth=e,t.cu&&t.auth.addAuthTokenListener(t.cu)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this._u,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e._u!==t?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(g("string"==typeof n.accessToken),new Vi(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.hu=function(){this.forceRefresh=!0},e.prototype.au=function(e){this.ou=e,this.lu&&e(this.currentUser)},e.prototype.uu=function(){this.auth&&this.auth.removeAuthTokenListener(this.cu),this.cu=null,this.ou=null},e.prototype.fu=function(){var e=this.auth&&this.auth.getUid();return g(null===e||"string"==typeof e),new Li(e)},e}(),qi=function(){function e(e,t){this.du=e,this.wu=t,this.type="FirstParty",this.user=Li.iu}return Object.defineProperty(e.prototype,"ru",{get:function(){var e={"X-Goog-AuthUser":this.wu},t=this.du.auth.Tu([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),Hi=function(){function e(e,t){this.du=e,this.wu=t}return e.prototype.getToken=function(){return Promise.resolve(new qi(this.du,this.wu))},e.prototype.au=function(e){e(Li.iu)},e.prototype.uu=function(){},e.prototype.hu=function(){},e}(),Wi=function(){function e(e,t,n,r,i,o){this.Wn=e,this.Eu=n,this.Iu=r,this.Au=i,this.listener=o,this.state=0,this.Ru=0,this.mu=null,this.stream=null,this.Zo=new dn(e,t)}return e.prototype.Pu=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.Vu=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.gu()},e.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Pu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.pu=function(){this.state=0,this.Zo.reset()},e.prototype.yu=function(){var e=this;this.Vu()&&null===this.mu&&(this.mu=this.Wn.ei(this.Eu,6e4,(function(){return e.bu()})))},e.prototype.vu=function(e){this.Su(),this.stream.send(e)},e.prototype.bu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Vu()?[2,this.close(0)]:[2]}))}))},e.prototype.Su=function(){this.mu&&(this.mu.cancel(),this.mu=null)},e.prototype.close=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Su(),this.Zo.cancel(),this.Ru++,3!==e?this.Zo.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(p(t.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.Zo.Xn()):t&&t.code===x.UNAUTHENTICATED&&this.Au.hu(),null!==this.stream&&(this.Du(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Cu(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.Du=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.Fu(this.Ru),n=this.Ru;this.Au.getToken().then((function(t){e.Ru===n&&e.Nu(t)}),(function(n){t((function(){var t=new O(x.UNKNOWN,"Fetching auth token failed: "+n.message);return e.$u(t)}))}))},e.prototype.Nu=function(e){var t=this,n=this.Fu(this.Ru);this.stream=this.ku(e),this.stream.xu((function(){n((function(){return t.state=2,t.listener.xu()}))})),this.stream.Cu((function(e){n((function(){return t.$u(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.gu=function(){var e=this;this.state=4,this.Zo.Zn((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.$u=function(e){return d("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.Fu=function(e){var t=this;return function(n){t.Wn.Sr((function(){return t.Ru===e?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Qi=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return i.__extends(t,e),t.prototype.ku=function(e){return this.Iu.Mu("Listen",e)},t.prototype.onMessage=function(e){this.Zo.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=Ge(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?x.UNKNOWN:K(e.code);return new O(t,e.message||"")}(a);n=new ge(r,i,o,s||null)}else if("documentChange"in t){var u=t.documentChange,c=Je(e,u.document.name),l=Ye(u.document.updateTime),h=new Nt({mapValue:{fields:u.document.fields}}),f=new Mt(c,l,h,{});n=new ve(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){var d=t.documentDelete,p=Je(e,d.document),v=d.readTime?Ye(d.readTime):P.min(),g=new jt(p,v);n=new ve([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in t){var m=t.documentRemove,_=Je(e,m.document);n=new ve([],m.removedTargetIds||[],_,null)}else{if(!("filter"in t))return y();var w=t.filter,C=new z(w.count||0);n=new ye(w.targetId,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return P.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?P.min():t.readTime?Ye(t.readTime):P.min()}(e);return this.listener.Lu(t,n)},t.prototype.Ou=function(e){var t={};t.database=nt(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=tn(r)?{documents:st(e,r)}:{query:ut(e,r)}).targetId=t.targetId,t.resumeToken.G()>0&&(n.resumeToken=ze(e,t.resumeToken)),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,t.Y);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.vu(t)},t.prototype.Bu=function(e){var t={};t.database=nt(this.serializer),t.removeTarget=e,this.vu(t)},t}(Wi),zi=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.qu=!1,a.lastStreamToken=q.H,a}return i.__extends(t,e),Object.defineProperty(t.prototype,"Uu",{get:function(){return this.qu},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.qu=!1,this.lastStreamToken=q.H,e.prototype.start.call(this)},t.prototype.Du=function(){this.qu&&this.Qu([])},t.prototype.ku=function(e){return this.Iu.Mu("Write",e)},t.prototype.onMessage=function(e){if(g(!!e.streamToken),this.lastStreamToken=Ge(this.serializer,e.streamToken),this.qu){this.Zo.reset();var t=function(e,t){return e&&e.length>0?(g(void 0!==t),e.map((function(e){return function(e,t){var n=Ye(e.updateTime?e.updateTime:t);n.isEqual(P.min())&&(n=Ye(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new kt(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ye(e.commitTime);return this.listener.Wu(n,t)}return g(!e.writeResults||0===e.writeResults.length),this.qu=!0,this.listener.ju()},t.prototype.Ku=function(){var e={};e.database=nt(this.serializer),this.vu(e)},t.prototype.Qu=function(e){var t=this,n={streamToken:ze(this.serializer,this.lastStreamToken),writes:e.map((function(e){return ot(t.serializer,e)}))};this.vu(n)},t}(Wi),Gi=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Iu=t,i.credentials=n,i.serializer=r,i.zu=!1,i}return i.__extends(t,e),t.prototype.Hu=function(){if(this.zu)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Yu=function(e,t){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Yu(e,t,r)})).catch((function(e){throw e.code===x.UNAUTHENTICATED&&n.credentials.hu(),e}))},t.prototype.Ju=function(e,t){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Ju(e,t,r)})).catch((function(e){throw e.code===x.UNAUTHENTICATED&&n.credentials.hu(),e}))},t}((function(){this.Gu=void 0})),Ki=function(){function e(e){this.Xu=e,this.Zu=new Map,this.mutations=[],this.tc=!1,this.ec=null,this.sc=new Set}return e.prototype.nc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.ic(),this.mutations.length>0)throw new O(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:return n=m(e),r={database:nt(n.serializer),documents:t.map((function(e){return Xe(n.serializer,e)}))},[4,n.Ju("BatchGetDocuments",r)];case 1:return o=i.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){g(!!t.found);var n=Je(e,t.found.name),r=Ye(t.found.updateTime),i=new Nt({mapValue:{fields:t.found.fields}});return new Mt(n,r,i,{})}(e,t):"missing"in t?function(e,t){g(!!t.missing),g(!!t.readTime);var n=Je(e,t.missing),r=Ye(t.readTime);return new jt(n,r)}(e,t):y()}(n.serializer,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());g(!!t),s.push(t)})),s)]}}))}))}(this.Xu,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof jt||e instanceof Mt?n.rc(e):y()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.Wa(e,this.Ue(e))),this.sc.add(e)},e.prototype.update=function(e,t){try{this.write(t.Wa(e,this.oc(e)))}catch(e){this.ec=e}this.sc.add(e)},e.prototype.delete=function(e){this.write([new xt(e,this.Ue(e))]),this.sc.add(e)},e.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.ic(),this.ec)throw this.ec;return e=this.Zu,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=new L(F.$(n));t.mutations.push(new Ot(r,t.Ue(r)))})),[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return n=m(e),r={database:nt(n.serializer),writes:t.map((function(e){return ot(n.serializer,e)}))},[4,n.Yu("Commit",r)];case 1:return i.sent(),[2]}}))}))}(this.Xu,this.mutations)];case 1:return n.sent(),this.tc=!0,[2]}}))}))},e.prototype.rc=function(e){var t;if(e instanceof Mt)t=e.version;else{if(!(e instanceof jt))throw y();t=P.min()}var n=this.Zu.get(e.key.toString());if(n){if(!t.isEqual(n))throw new O(x.ABORTED,"Document version changed between two reads.")}else this.Zu.set(e.key.toString(),t)},e.prototype.Ue=function(e){var t=this.Zu.get(e.toString());return!this.sc.has(e)&&t?It.updateTime(t):It.Qe()},e.prototype.oc=function(e){var t=this.Zu.get(e.toString());if(!this.sc.has(e)&&t){if(t.isEqual(P.min()))throw new O(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return It.updateTime(t)}return It.exists(!0)},e.prototype.write=function(e){this.ic(),this.mutations=this.mutations.concat(e)},e.prototype.ic=function(){},e}(),Yi=function(){function e(e,t){this.Oo=e,this.hc=t,this.state="Unknown",this.ac=0,this.uc=null,this.cc=!0}return e.prototype.lc=function(){var e=this;0===this.ac&&(this._c("Unknown"),this.uc=this.Oo.ei("online_state_timeout",1e4,(function(){return e.uc=null,e.fc("Backend didn't respond within 10 seconds."),e._c("Offline"),Promise.resolve()})))},e.prototype.dc=function(e){"Online"===this.state?this._c("Unknown"):(this.ac++,this.ac>=1&&(this.wc(),this.fc("Connection failed 1 times. Most recent error: "+e.toString()),this._c("Offline")))},e.prototype.set=function(e){this.wc(),this.ac=0,"Online"===e&&(this.cc=!1),this._c(e)},e.prototype._c=function(e){e!==this.state&&(this.state=e,this.hc(e))},e.prototype.fc=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.cc?(p(t),this.cc=!1):d("OnlineStateTracker",t)},e.prototype.wc=function(){null!==this.uc&&(this.uc.cancel(),this.uc=null)},e}(),Zi=function(){function e(e,t,n,r,o){var a=this;this.Tc=e,this.Xu=t,this.Oo=n,this.Ec=[],this.Ic=new Map,this.Ac=null,this.Rc=new Set,this.mc=o,this.mc.Pc((function(e){n.Sr((function(){return i.__awaiter(a,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Vc()?(d("RemoteStore","Restarting streams for network reachability change."),[4,this.gc()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.pc=new Yi(n,r),this.yc=function(e,t,n){var r=m(e);return new Qi(t,r.Iu,r.credentials,r.serializer,n)}(this.Xu,n,{xu:this.bc.bind(this),Cu:this.vc.bind(this),Lu:this.Sc.bind(this)}),this.Dc=function(e,t,n){var r=m(e);return new zi(t,r.Iu,r.credentials,r.serializer,n)}(this.Xu,n,{xu:this.Cc.bind(this),Cu:this.Fc.bind(this),ju:this.Nc.bind(this),Wu:this.Wu.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return this.Rc.delete(0),this.$c()},e.prototype.$c=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Vc()?(this.kc()?this.xc():this.pc.set("Unknown"),[4,this.Mc()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Rc.add(0),[4,this.Lc()];case 1:return e.sent(),this.pc.set("Offline"),[2]}}))}))},e.prototype.Lc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Dc.stop()];case 1:return e.sent(),[4,this.yc.stop()];case 2:return e.sent(),this.Ec.length>0&&(d("RemoteStore","Stopping write stream with "+this.Ec.length+" pending writes"),this.Ec=[]),this.Oc(),[2]}}))}))},e.prototype.Ur=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.Rc.add(5),[4,this.Lc()];case 1:return e.sent(),this.mc.Ur(),this.pc.set("Unknown"),[2]}}))}))},e.prototype.listen=function(e){this.Ic.has(e.targetId)||(this.Ic.set(e.targetId,e),this.kc()?this.xc():this.yc.Vu()&&this.Bc(e))},e.prototype.qc=function(e){this.Ic.delete(e),this.yc.Vu()&&this.Uc(e),0===this.Ic.size&&(this.yc.Vu()?this.yc.yu():this.Vc()&&this.pc.set("Unknown"))},e.prototype.Me=function(e){return this.Ic.get(e)||null},e.prototype.xe=function(e){return this.Qc.xe(e)},e.prototype.Bc=function(e){this.Ac.de(e.targetId),this.yc.Ou(e)},e.prototype.Uc=function(e){this.Ac.de(e),this.yc.Bu(e)},e.prototype.xc=function(){this.Ac=new _e(this),this.yc.start(),this.pc.lc()},e.prototype.kc=function(){return this.Vc()&&!this.yc.Pu()&&this.Ic.size>0},e.prototype.Vc=function(){return 0===this.Rc.size},e.prototype.Oc=function(){this.Ac=null},e.prototype.bc=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){return this.Ic.forEach((function(t,n){e.Bc(t)})),[2]}))}))},e.prototype.vc=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Oc(),this.kc()?(this.pc.dc(e),this.xc()):this.pc.set("Unknown"),[2]}))}))},e.prototype.Sc=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.pc.set("Online"),!(e instanceof ge&&2===e.state&&e.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.Wc(e)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),d("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),[4,this.jc(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ve?this.Ac.Pe(e):e instanceof ye?this.Ac.De(e):this.Ac.pe(e),t.isEqual(P.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.Tc.xi()];case 8:return r=i.sent(),t.o(r)>=0?[4,this.Kc(t)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.jc(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},e.prototype.jc=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!br(e))throw e;return this.Rc.add(1),[4,this.Lc()];case 1:return r.sent(),this.pc.set("Offline"),t||(t=function(){return n.Tc.xi()}),this.Oo.Cr((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return e.sent(),this.Rc.delete(1),[4,this.$c()];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))},e.prototype.Gc=function(e){var t=this;return e().catch((function(n){return t.jc(n,e)}))},e.prototype.Kc=function(e){var t=this,n=this.Ac.Ne(e);return n.Qt.forEach((function(n,r){if(n.resumeToken.G()>0){var i=t.Ic.get(r);i&&t.Ic.set(r,i.Z(n.resumeToken,e))}})),n.Wt.forEach((function(e){var n=t.Ic.get(e);if(n){t.Ic.set(e,n.Z(q.H,n.J)),t.Uc(e);var r=new Q(n.target,e,1,n.sequenceNumber);t.Bc(r)}})),this.Qc.na(n)},e.prototype.Wc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:t=e.cause,n=0,r=e.targetIds,i.label=1;case 1:return n<r.length?this.Ic.has(o=r[n])?[4,this.Qc.zc(o,t)]:[3,3]:[3,5];case 2:i.sent(),this.Ic.delete(o),this.Ac.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},e.prototype.Mc=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n;return i.__generator(this,(function(r){switch(r.label){case 0:e=this.Ec.length>0?this.Ec[this.Ec.length-1].batchId:-1,r.label=1;case 1:if(!this.Hc())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.Tc.ha(e)];case 3:return null===(t=r.sent())?(0===this.Ec.length&&this.Dc.yu(),[3,7]):(e=t.batchId,this.Yc(t),[3,6]);case 4:return n=r.sent(),[4,this.jc(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Jc()&&this.Xc(),[2]}}))}))},e.prototype.Hc=function(){return this.Vc()&&this.Ec.length<10},e.prototype.Zc=function(){return this.Ec.length},e.prototype.Yc=function(e){this.Ec.push(e),this.Dc.Vu()&&this.Dc.Uu&&this.Dc.Qu(e.mutations)},e.prototype.Jc=function(){return this.Vc()&&!this.Dc.Pu()&&this.Ec.length>0},e.prototype.Xc=function(){this.Dc.start()},e.prototype.Cc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Dc.Ku(),[2]}))}))},e.prototype.Nc=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t;return i.__generator(this,(function(n){for(e=0,t=this.Ec;e<t.length;e++)this.Dc.Qu(t[e].mutations);return[2]}))}))},e.prototype.Wu=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.Ec.shift(),r=rn.from(n,e,t),[4,this.Gc((function(){return o.Qc.tl(r)}))];case 1:return i.sent(),[4,this.Mc()];case 2:return i.sent(),[2]}}))}))},e.prototype.Fc=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return e&&this.Dc.Uu?[4,this.el(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.Jc()&&this.Xc(),[2]}}))}))},e.prototype.el=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return G(n=e.code)&&n!==x.ABORTED?(t=this.Ec.shift(),this.Dc.pu(),[4,this.Gc((function(){return r.Qc.sl(t.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,this.Mc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},e.prototype.nl=function(){return new Ki(this.Xu)},e.prototype.gc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Rc.add(4),[4,this.Lc()];case 1:return e.sent(),this.pc.set("Unknown"),this.Rc.delete(4),[4,this.$c()];case 2:return e.sent(),[2]}}))}))},e.prototype.il=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Oo.ah(),d("RemoteStore","RemoteStore received new credentials"),this.Rc.add(3),[4,this.Lc()];case 1:return t.sent(),this.pc.set("Unknown"),[4,this.Qc.il(e)];case 2:return t.sent(),this.Rc.delete(3),[4,this.$c()];case 3:return t.sent(),[2]}}))}))},e.prototype.rl=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return e?(this.Rc.delete(2),[4,this.$c()]):[3,2];case 1:return t.sent(),[3,5];case 2:return e?[3,4]:(this.Rc.add(2),[4,this.Lc()]);case 3:t.sent(),this.pc.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}}))}))},e}();function $i(e,t){return"firestore_clients_"+e+"_"+t}function Xi(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.fo()&&(r+="_"+t.uid),r}function Ji(e,t){return"firestore_targets_"+e+"_"+t}var eo=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.ol=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new O(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(p("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.hl=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),to=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.ol=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new O(r.error.code,r.error.message)),i?new e(t,r.state,o):(p("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.hl=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),no=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.ol=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ce(),a=0;i&&a<r.activeTargetIds.length;++a)i=B(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(p("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ro=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.ol=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(p("SharedClientState","Failed to parse online state: "+t),null)},e}(),io=function(){function e(){this.activeTargetIds=ce()}return e.prototype.al=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.ul=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.hl=function(){var e={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),oo=function(){function e(e,t,n,r,i){this.window=e,this.Wn=t,this.persistenceKey=n,this.cl=r,this.Qc=null,this.hc=null,this.On=null,this.ll=this._l.bind(this),this.fl=new Y(C),this.pr=!1,this.dl=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.wl=$i(this.persistenceKey,this.cl),this.Tl=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.fl=this.fl.et(this.cl,new io),this.El=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Il=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Al=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Rl=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.ll)}return e._r=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,a,s,u,c,l,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Qc.Gr()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.cl&&(o=this.getItem($i(this.persistenceKey,r)))&&(a=no.ol(r,o))&&(this.fl=this.fl.et(a.clientId,a));for(this.ml(),(s=this.storage.getItem(this.Rl))&&(u=this.Pl(s))&&this.Vl(u),c=0,l=this.dl;c<l.length;c++)this._l(l[c]);return this.dl=[],this.window.addEventListener("unload",(function(){return h.Ur()})),this.pr=!0,[2]}}))}))},e.prototype.Un=function(e){this.setItem(this.Tl,JSON.stringify(e))},e.prototype.gl=function(){return this.pl(this.fl)},e.prototype.yl=function(e){var t=!1;return this.fl.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.bl=function(e){this.vl(e,"pending")},e.prototype.Sl=function(e,t,n){this.vl(e,t,n),this.Dl(e)},e.prototype.Cl=function(e){var t="not-current";if(this.yl(e)){var n=this.storage.getItem(Ji(this.persistenceKey,e));if(n){var r=to.ol(e,n);r&&(t=r.state)}}return this.Fl.al(e),this.ml(),t},e.prototype.Nl=function(e){this.Fl.ul(e),this.ml()},e.prototype.$l=function(e){return this.Fl.activeTargetIds.has(e)},e.prototype.kl=function(e){this.removeItem(Ji(this.persistenceKey,e))},e.prototype.xl=function(e,t,n){this.Ml(e,t,n)},e.prototype.Hh=function(e,t,n){var r=this;t.forEach((function(e){r.Dl(e)})),this.currentUser=e,n.forEach((function(e){r.bl(e)}))},e.prototype.Ll=function(e){this.Ol(e)},e.prototype.Ur=function(){this.pr&&(this.window.removeEventListener("storage",this.ll),this.removeItem(this.wl),this.pr=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return d("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){d("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){d("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype._l=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.wl)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Wn.Cr((function(){return i.__awaiter(t,void 0,void 0,(function(){var e,t,r,o,a,s;return i.__generator(this,(function(i){if(this.pr){if(null!==n.key)if(this.El.test(n.key)){if(null==n.newValue)return e=this.Bl(n.key),[2,this.ql(e,null)];if(t=this.Ul(n.key,n.newValue))return[2,this.ql(t.clientId,t)]}else if(this.Il.test(n.key)){if(null!==n.newValue&&(r=this.Ql(n.key,n.newValue)))return[2,this.Wl(r)]}else if(this.Al.test(n.key)){if(null!==n.newValue&&(o=this.jl(n.key,n.newValue)))return[2,this.Kl(o)]}else if(n.key===this.Rl){if(null!==n.newValue&&(a=this.Pl(n.newValue)))return[2,this.Vl(a)]}else n.key===this.Tl&&(s=function(e){var t=hn.Qn;if(null!=e)try{var n=JSON.parse(e);g("number"==typeof n),t=n}catch(e){p("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==hn.Qn&&this.On(s)}else this.dl.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Fl",{get:function(){return this.fl.get(this.cl)},enumerable:!0,configurable:!0}),e.prototype.ml=function(){this.setItem(this.wl,this.Fl.hl())},e.prototype.vl=function(e,t,n){var r=new eo(this.currentUser,e,t,n),i=Xi(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hl())},e.prototype.Dl=function(e){var t=Xi(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Ol=function(e){this.storage.setItem(this.Rl,JSON.stringify({clientId:this.cl,onlineState:e}))},e.prototype.Ml=function(e,t,n){var r=Ji(this.persistenceKey,e),i=new to(e,t,n);this.setItem(r,i.hl())},e.prototype.Bl=function(e){var t=this.El.exec(e);return t?t[1]:null},e.prototype.Ul=function(e,t){var n=this.Bl(e);return no.ol(n,t)},e.prototype.Ql=function(e,t){var n=this.Il.exec(e),r=Number(n[1]);return eo.ol(new Li(void 0!==n[2]?n[2]:null),r,t)},e.prototype.jl=function(e,t){var n=this.Al.exec(e),r=Number(n[1]);return to.ol(r,t)},e.prototype.Pl=function(e){return ro.ol(e)},e.prototype.Wl=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.Qc.Gl(e.batchId,e.state,e.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.Kl=function(e){return this.Qc.zl(e.targetId,e.state,e.error)},e.prototype.ql=function(e,t){var n=this,r=t?this.fl.et(e,t):this.fl.remove(e),i=this.pl(this.fl),o=this.pl(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.Qc.Hl(a,s).then((function(){n.fl=r}))},e.prototype.Vl=function(e){this.fl.get(e.clientId)&&this.hc(e.onlineState)},e.prototype.pl=function(e){var t=ce();return e.forEach((function(e,n){t=t.Ct(n.activeTargetIds)})),t},e}(),ao=function(){function e(){this.Yl=new io,this.Jl={},this.Qc=null,this.hc=null,this.On=null}return e.prototype.bl=function(e){},e.prototype.Sl=function(e,t,n){},e.prototype.Cl=function(e){return this.Yl.al(e),this.Jl[e]||"not-current"},e.prototype.xl=function(e,t,n){this.Jl[e]=t},e.prototype.Nl=function(e){this.Yl.ul(e)},e.prototype.$l=function(e){return this.Yl.activeTargetIds.has(e)},e.prototype.kl=function(e){delete this.Jl[e]},e.prototype.gl=function(){return this.Yl.activeTargetIds},e.prototype.yl=function(e){return this.Yl.activeTargetIds.has(e)},e.prototype.start=function(){return this.Yl=new io,Promise.resolve()},e.prototype.Hh=function(e,t,n){},e.prototype.Ll=function(e){},e.prototype.Ur=function(){},e.prototype.Un=function(e){},e}(),so=function(e){this.key=e},uo=function(e){this.key=e},co=function(){function e(e,t){this.query=e,this.Xl=t,this.Zl=null,this.Ht=!1,this.t_=se(),this.Ot=se(),this.e_=new le(e.Ds.bind(e))}return Object.defineProperty(e.prototype,"s_",{get:function(){return this.Xl},enumerable:!0,configurable:!0}),e.prototype.n_=function(e,t){var n=this,r=t?t.i_:new he,i=t?t.e_:this.e_,o=t?t.Ot:this.Ot,a=i,s=!1,u=this.query.ks()&&i.size===this.query.limit?i.last():null,c=this.query.xs()&&i.size===this.query.limit?i.first():null;if(e.ot((function(e,t){var l=i.get(e),h=t instanceof Mt?t:null;h&&(h=n.query.matches(h)?h:null);var f=!!l&&n.Ot.has(l.key),d=!!h&&(h.Xe||n.Ot.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.r_(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.query.Ds(h,u)>0||c&&n.query.Ds(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),this.query.ks()||this.query.xs())for(;a.size>this.query.limit;){var l=this.query.ks()?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{e_:a,i_:r,o_:s,Ot:o}},e.prototype.r_=function(e,t){return e.Xe&&t.hasCommittedMutations&&!t.Xe},e.prototype.wn=function(e,t,n){var r=this,i=this.e_;this.e_=e.e_,this.Ot=e.Ot;var o=e.i_.Mt();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(e)-n(t)}(e.type,t.type)||r.query.Ds(e.doc,t.doc)})),this.h_(n);var a=t?this.a_():[],s=0===this.t_.size&&this.Ht?1:0,u=s!==this.Zl;return this.Zl=s,0!==o.length||u?{snapshot:new fe(this.query,e.e_,i,o,e.Ot,0===s,u,!1),u_:a}:{u_:a}},e.prototype.c_=function(e){return this.Ht&&"Offline"===e?(this.Ht=!1,this.wn({e_:this.e_,i_:new he,Ot:this.Ot,o_:!1},!1)):{u_:[]}},e.prototype.l_=function(e){return!this.Xl.has(e)&&!!this.e_.has(e)&&!this.e_.get(e).Xe},e.prototype.h_=function(e){var t=this;e&&(e.Yt.forEach((function(e){return t.Xl=t.Xl.add(e)})),e.Jt.forEach((function(e){})),e.Xt.forEach((function(e){return t.Xl=t.Xl.delete(e)})),this.Ht=e.Ht)},e.prototype.a_=function(){var e=this;if(!this.Ht)return[];var t=this.t_;this.t_=se(),this.e_.forEach((function(t){e.l_(t.key)&&(e.t_=e.t_.add(t.key))}));var n=[];return t.forEach((function(t){e.t_.has(t)||n.push(new uo(t))})),this.t_.forEach((function(e){t.has(e)||n.push(new so(e))})),n},e.prototype.__=function(e){this.Xl=e._a,this.t_=se();var t=this.n_(e.documents);return this.wn(t,!0)},e.prototype.f_=function(){return fe.Ut(this.query,this.e_,this.Ot,0===this.Zl)},e}(),lo=function(){function e(e,t,n,r){this.Oo=e,this.Xu=t,this.updateFunction=n,this.Uo=r,this.d_=5,this.Zo=new dn(this.Oo,"transaction_retry")}return e.prototype.w_=function(){this.T_()},e.prototype.T_=function(){var e=this;this.Zo.Zn((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return i.__generator(this,(function(r){return e=new Ki(this.Xu),(t=this.E_(e))&&t.then((function(t){n.Oo.Sr((function(){return e.commit().then((function(){n.Uo.resolve(t)})).catch((function(e){n.I_(e)}))}))})).catch((function(e){n.I_(e)})),[2]}))}))}))},e.prototype.E_=function(e){try{var t=this.updateFunction(e);return!V(t)&&t.catch&&t.then?t:(this.Uo.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.Uo.reject(e),null}},e.prototype.I_=function(e){var t=this;this.d_>0&&this.A_(e)?(this.d_-=1,this.Oo.Sr((function(){return t.T_(),Promise.resolve()}))):this.Uo.reject(e)},e.prototype.A_=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!G(t)}return!1},e}(),ho=function(e,t,n){this.query=e,this.targetId=t,this.view=n},fo=function(e){this.key=e,this.R_=!1},po=function(){function e(e,t,n,r,i,o){this.Tc=e,this.m_=t,this.Xu=n,this.P_=r,this.currentUser=i,this.V_=o,this.g_=null,this.p_=new A((function(e){return e.canonicalId()}),(function(e,t){return e.isEqual(t)})),this.y_=new Map,this.b_=[],this.v_=new Y(L.P),this.S_=new Map,this.D_=new Br,this.C_={},this.F_=new Map,this.N_=jn.Ci(),this.onlineState="Unknown"}return Object.defineProperty(e.prototype,"k_",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){this.g_=e},e.prototype.listen=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("listen()"),(n=this.p_.get(e))?(this.P_.Cl(n.targetId),t=n.view.f_(),[3,4]):[3,1];case 1:return[4,this.Tc.ua(e.We())];case 2:return r=i.sent(),o=this.P_.Cl(r.targetId),[4,this.M_(e,r.targetId,"current"===o)];case 3:t=i.sent(),this.k_&&this.m_.listen(r),i.label=4;case 4:return[2,t]}}))}))},e.prototype.M_=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Tc.la(e,!0)];case 1:return r=i.sent(),o=new co(e,r._a),a=o.n_(r.documents),s=pe.zt(t,n&&"Offline"!==this.onlineState),u=o.wn(a,this.k_,s),this.L_(t,u.u_),c=new ho(e,t,o),[2,(this.p_.set(e,c),this.y_.has(t)?this.y_.get(t).push(e):this.y_.set(t,[e]),u.snapshot)]}}))}))},e.prototype.qc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("unlisten()"),t=this.p_.get(e),(n=this.y_.get(t.targetId)).length>1?[2,(this.y_.set(t.targetId,n.filter((function(t){return!t.isEqual(e)}))),void this.p_.delete(e))]:this.k_?(this.P_.Nl(t.targetId),this.P_.yl(t.targetId)?[3,2]:[4,this.Tc.ca(t.targetId,!1).then((function(){r.P_.kl(t.targetId),r.m_.qc(t.targetId),r.O_(t.targetId)})).catch(Ur)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.O_(t.targetId),[4,this.Tc.ca(t.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.x_("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.Tc.Zh(e)];case 2:return n=i.sent(),this.P_.bl(n.batchId),this.B_(n.batchId,t),[4,this.q_(n.on)];case 3:return i.sent(),[4,this.m_.Mc()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),o=Or(r,"Failed to persist write"),t.reject(o),[3,6];case 6:return[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new lo(e,this.Xu,t,n).w_()},e.prototype.na=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.x_("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.na(e)];case 2:return t=r.sent(),e.Qt.forEach((function(e,t){var r=n.S_.get(t);r&&(g(e.Yt.size+e.Jt.size+e.Xt.size<=1),e.Yt.size>0?r.R_=!0:e.Jt.size>0?g(r.R_):e.Xt.size>0&&(g(r.R_),r.R_=!1))})),[4,this.q_(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,Ur(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.c_=function(e,t){this.x_("applyOnlineStateChange()");var n=[];this.p_.forEach((function(t,r){var i=r.view.c_(e);i.snapshot&&n.push(i.snapshot)})),this.g_.U_(e),this.g_.Lu(n),this.onlineState=e},e.prototype.zc=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("rejectListens()"),this.P_.xl(e,"rejected",t),n=this.S_.get(e),(r=n&&n.key)?(o=(o=new Y(L.P)).et(r,new jt(r,P.min())),a=se().add(r),s=new de(P.min(),new Map,new X(C),o,a),[4,this.na(s)]):[3,2];case 1:return i.sent(),this.v_=this.v_.remove(r),this.S_.delete(e),this.Q_(),[3,4];case 2:return[4,this.Tc.ca(e,!1).then((function(){return u.O_(e,t)})).catch(Ur)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},e.prototype.tl=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.x_("applySuccessfulWrite()"),t=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.ta(e)];case 2:return n=r.sent(),this.W_(t,null),this.j_(t),this.P_.Sl(t,"acknowledged"),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ur(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.sl=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.x_("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.sa(e)];case 2:return n=r.sent(),this.W_(e,t),this.j_(e),this.P_.Sl(e,"rejected",t),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ur(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.K_=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.m_.Vc()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.Tc.Ao()];case 2:return-1===(t=i.sent())?[2,void e.resolve()]:((n=this.F_.get(t)||[]).push(e),this.F_.set(t,n),[3,4]);case 3:return r=i.sent(),o=Or(r,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))},e.prototype.j_=function(e){(this.F_.get(e)||[]).forEach((function(e){e.resolve()})),this.F_.delete(e)},e.prototype.G_=function(e){this.F_.forEach((function(t){t.forEach((function(t){t.reject(new O(x.CANCELLED,e))}))})),this.F_.clear()},e.prototype.B_=function(e,t){var n=this.C_[this.currentUser.su()];n||(n=new Y(C)),n=n.et(e,t),this.C_[this.currentUser.su()]=n},e.prototype.W_=function(e,t){var n=this.C_[this.currentUser.su()];if(n){var r=n.get(e);r&&(t?r.reject(t):r.resolve(),n=n.remove(e)),this.C_[this.currentUser.su()]=n}},e.prototype.O_=function(e,t){var n=this;void 0===t&&(t=null),this.P_.Nl(e);for(var r=0,i=this.y_.get(e);r<i.length;r++){var o=i[r];this.p_.delete(o),t&&this.g_.z_(o,t)}this.y_.delete(e),this.k_&&this.D_.ga(e).forEach((function(e){n.D_.tr(e)||n.H_(e)}))},e.prototype.H_=function(e){var t=this.v_.get(e);null!==t&&(this.m_.qc(t),this.v_=this.v_.remove(e),this.S_.delete(t),this.Q_())},e.prototype.L_=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof so?(this.D_.Hi(i.key,e),this.Y_(i)):i instanceof uo?(d("SyncEngine","Document no longer in limbo: "+i.key),this.D_.Ji(i.key,e),this.D_.tr(i.key)||this.H_(i.key)):y()}},e.prototype.Y_=function(e){var t=e.key;this.v_.get(t)||(d("SyncEngine","New document in limbo: "+t),this.b_.push(t),this.Q_())},e.prototype.Q_=function(){for(;this.b_.length>0&&this.v_.size<this.V_;){var e=this.b_.shift(),t=this.N_.next();this.S_.set(t,new fo(e)),this.v_=this.v_.et(e,t),this.m_.listen(new Q(Vt.As(e.path).We(),t,2,hn.Qn))}},e.prototype.J_=function(){return this.v_},e.prototype.X_=function(){return this.b_},e.prototype.q_=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.p_.forEach((function(i,s){o.push(Promise.resolve().then((function(){var t=s.view.n_(e);return t.o_?a.Tc.la(s.query,!1).then((function(e){return s.view.n_(e.documents,t)})):t})).then((function(e){var i=t&&t.Qt.get(s.targetId),o=s.view.wn(e,a.k_,i);if(a.L_(s.targetId,o.u_),o.snapshot){a.k_&&a.P_.xl(s.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=ln.Ln(s.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.g_.Lu(n),[4,this.Tc.oa(r)];case 2:return i.sent(),[2]}}))}))},e.prototype.x_=function(e){},e.prototype.il=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(e)?[3,3]:(d("SyncEngine","User change. New user:",e.su()),[4,this.Tc.Hh(e)]);case 1:return t=n.sent(),this.currentUser=e,this.G_("'waitForPendingWrites' promise is rejected due to a user change."),this.P_.Hh(e,t.Jh,t.Xh),[4,this.q_(t.Yh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.m_.enableNetwork()},e.prototype.disableNetwork=function(){return this.m_.disableNetwork()},e.prototype.xe=function(e){var t=this.S_.get(e);if(t&&t.R_)return se().add(t.key);var n=se(),r=this.y_.get(e);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var a=this.p_.get(o[i]);n=n.Ct(a.view.s_)}return n},e}(),vo=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,o,a)||this).Tc=t,s.Z_=void 0,s}return i.__extends(t,e),Object.defineProperty(t.prototype,"k_",{get:function(){return!0===this.Z_},enumerable:!0,configurable:!0}),t.prototype.enableNetwork=function(){return this.Tc.vr(!0),e.prototype.enableNetwork.call(this)},t.prototype.disableNetwork=function(){return this.Tc.vr(!1),e.prototype.disableNetwork.call(this)},t.prototype.tf=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Tc.la(e.query,!0)];case 1:return t=r.sent(),n=e.view.__(t),[2,(this.Z_&&this.L_(e.targetId,n.u_),n)]}}))}))},t.prototype.c_=function(t,n){this.k_&&0===n&&(e.prototype.c_.call(this,t,n),this.P_.Ll(t)),this.k_||1!==n||e.prototype.c_.call(this,t,n)},t.prototype.Gl=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("applyBatchState()"),[4,this.Tc.da(e)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==t?[3,3]:[4,this.m_.Mc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.W_(e,n||null),this.Tc.wa(e)):y(),i.label=4;case 4:return[4,this.q_(r)];case 5:return i.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))},t.prototype.rl=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a,s,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==e||!0===this.Z_?[3,3]:(t=this.P_.gl(),[4,this.ef(t.F(),!0)]);case 1:return n=i.sent(),this.Z_=!0,[4,this.m_.rl(!0)];case 2:for(i.sent(),r=0,o=n;r<o.length;r++)this.m_.listen(o[r]);return[3,7];case 3:return!1!==e||!1===this.Z_?[3,7]:(a=[],s=Promise.resolve(),this.y_.forEach((function(e,t){u.P_.$l(t)?a.push(t):s=s.then((function(){return u.O_(t),u.Tc.ca(t,!0)})),u.m_.qc(t)})),[4,s]);case 4:return i.sent(),[4,this.ef(a,!1)];case 5:return i.sent(),this.sf(),this.Z_=!1,[4,this.m_.rl(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},t.prototype.sf=function(){var e=this;this.S_.forEach((function(t,n){e.m_.qc(n)})),this.D_.pa(),this.S_=new Map,this.v_=new Y(L.P)},t.prototype.ef=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,c,l,h,f,d;return i.__generator(this,(function(i){switch(i.label){case 0:t=[],n=[],r=0,o=e,i.label=1;case 1:return r<o.length?(s=void 0,(u=this.y_.get(a=o[r]))&&0!==u.length?[4,this.Tc.ua(u[0].We())]:[3,7]):[3,13];case 2:s=i.sent(),c=0,l=u,i.label=3;case 3:return c<l.length?(h=this.p_.get(l[c]),[4,this.tf(h)]):[3,6];case 4:(f=i.sent()).snapshot&&n.push(f.snapshot),i.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,this.Tc.Ta(a)];case 8:return d=i.sent(),[4,this.Tc.ua(d)];case 9:return s=i.sent(),[4,this.M_(this.nf(d),a,!1)];case 10:i.sent(),i.label=11;case 11:t.push(s),i.label=12;case 12:return r++,[3,1];case 13:return[2,(this.g_.Lu(n),t)]}}))}))},t.prototype.nf=function(e){return new Vt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)},t.prototype.Gr=function(){return this.Tc.Gr()},t.prototype.zl=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.Z_?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.y_.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Tc.Ri()];case 3:return r=i.sent(),o=de.Gt(e,"current"===t),[4,this.q_(r,o)];case 4:return i.sent(),[3,8];case 5:return[4,this.Tc.ca(e,!0)];case 6:return i.sent(),this.O_(e,n),[3,8];case 7:y(),i.label=8;case 8:return[2]}}))}))},t.prototype.Hl=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,h,f=this;return i.__generator(this,(function(p){switch(p.label){case 0:if(!this.Z_)return[3,10];n=0,r=e,p.label=1;case 1:return n<r.length?this.y_.has(o=r[n])?(d("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.Tc.Ta(o)]:[3,6];case 2:return a=p.sent(),[4,this.Tc.ua(a)];case 3:return s=p.sent(),[4,this.M_(this.nf(a),s.targetId,!1)];case 4:p.sent(),this.m_.listen(s),p.label=5;case 5:return n++,[3,1];case 6:u=function(e){return i.__generator(this,(function(t){switch(t.label){case 0:return c.y_.has(e)?[4,c.Tc.ca(e,!1).then((function(){f.m_.qc(e),f.O_(e)})).catch(Ur)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=this,l=0,h=t,p.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},t}(po),yo=function(){this.if=void 0,this.rf=[]},go=function(){function e(e){this.Qc=e,this.hf=new A((function(e){return e.canonicalId()}),(function(e,t){return e.isEqual(t)})),this.onlineState="Unknown",this.af=new Set,this.Qc.subscribe(this)}return e.prototype.listen=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.hf.get(t=e.query))||(n=!0,r=new yo),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.Qc.listen(t)];case 2:return o.if=i.sent(),[3,4];case 3:return a=i.sent(),s=Or(a,"Initialization of query '"+e.query+"' failed"),[2,void e.onError(s)];case 4:return this.hf.set(t,r),r.rf.push(e),e.c_(this.onlineState),r.if&&e.uf(r.if)&&this.cf(),[2]}}))}))},e.prototype.qc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.hf.get(t=e.query))&&(o=r.rf.indexOf(e))>=0&&(r.rf.splice(o,1),n=0===r.rf.length),n?[2,(this.hf.delete(t),this.Qc.qc(t))]:[2]}))}))},e.prototype.Lu=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=this.hf.get(i.query);if(o){for(var a=0,s=o.rf;a<s.length;a++)s[a].uf(i)&&(t=!0);o.if=i}}t&&this.cf()},e.prototype.z_=function(e,t){var n=this.hf.get(e);if(n)for(var r=0,i=n.rf;r<i.length;r++)i[r].onError(t);this.hf.delete(e)},e.prototype.U_=function(e){this.onlineState=e;var t=!1;this.hf.forEach((function(n,r){for(var i=0,o=r.rf;i<o.length;i++)o[i].c_(e)&&(t=!0)})),t&&this.cf()},e.prototype.lf=function(e){this.af.add(e),e.next()},e.prototype._f=function(e){this.af.delete(e)},e.prototype.cf=function(){this.af.forEach((function(e){e.next()}))},e}(),mo=function(){function e(e,t,n){this.query=e,this.ff=t,this.df=!1,this.wf=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.uf=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new fe(e.query,e.docs,e.Lt,t,e.Ot,e.fromCache,e.Bt,!0)}var o=!1;return this.df?this.Tf(e)&&(this.ff.next(e),o=!0):this.Ef(e,this.onlineState)&&(this.If(e),o=!0),this.wf=e,o},e.prototype.onError=function(e){this.ff.error(e)},e.prototype.c_=function(e){this.onlineState=e;var t=!1;return this.wf&&!this.df&&this.Ef(this.wf,e)&&(this.If(this.wf),t=!0),t},e.prototype.Ef=function(e,t){return!e.fromCache||!(this.options.Af&&"Offline"!==t||e.docs._()&&"Offline"!==t)},e.prototype.Tf=function(e){return e.docChanges.length>0||!!(e.Bt||this.wf&&this.wf.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.If=function(e){e=fe.Ut(e.query,e.docs,e.Ot,e.fromCache),this.df=!0,this.ff.next(e)},e}(),_o=function(){function e(){}return e.prototype.zh=function(e){this.Rf=e},e.prototype.Sn=function(e,t,n,r){var i=this;return t.Ss()||n.isEqual(P.min())?this.mf(e,t):this.Rf.yn(e,r).next((function(o){var s=i.Pf(t,o);return(t.ks()||t.xs())&&i.o_(t.ws,s,r,n)?i.mf(e,t):(f()<=a.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),t.toString()),i.Rf.Sn(e,t,n).next((function(e){return s.forEach((function(t){e=e.et(t.key,t)})),e})))}))},e.prototype.Pf=function(e,t){var n=new X((function(t,n){return e.Ds(t,n)}));return t.forEach((function(t,r){r instanceof Mt&&e.matches(r)&&(n=n.add(r))})),n},e.prototype.o_=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},e.prototype.mf=function(e,t){return f()<=a.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query:",t.toString()),this.Rf.Sn(e,t,P.min())},e}(),wo=function(){function e(e,t){this.mn=e,this.Fi=t,this.Rn=[],this.Vf=1,this.gf=new X(qr.Ia)}return e.prototype.do=function(e){return on.resolve(0===this.Rn.length)},e.prototype.wo=function(e,t,n,r){var i=this.Vf;this.Vf++;var o=new nn(i,t,n,r);this.Rn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.gf=this.gf.add(new qr(u.key,i)),this.mn.ri(e,u.key.path.p())}return on.resolve(o)},e.prototype.To=function(e,t){return on.resolve(this.pf(t))},e.prototype.Io=function(e,t){var n=this.yf(t+1),r=n<0?0:n;return on.resolve(this.Rn.length>r?this.Rn[r]:null)},e.prototype.Ao=function(){return on.resolve(0===this.Rn.length?-1:this.Vf-1)},e.prototype.Ro=function(e){return on.resolve(this.Rn.slice())},e.prototype.Vn=function(e,t){var n=this,r=new qr(t,0),i=new qr(t,Number.POSITIVE_INFINITY),o=[];return this.gf.vt([r,i],(function(e){var t=n.pf(e.ba);o.push(t)})),on.resolve(o)},e.prototype.vn=function(e,t){var n=this,r=new X(C);return t.forEach((function(e){var t=new qr(e,0),i=new qr(e,Number.POSITIVE_INFINITY);n.gf.vt([t,i],(function(e){r=r.add(e.ba)}))})),on.resolve(this.bf(r))},e.prototype.$n=function(e,t){var n=t.path,r=n.length+1,i=n;L.W(i)||(i=i.child(""));var o=new qr(new L(i),0),a=new X(C);return this.gf.St((function(e){var t=e.key.path;return!!n.D(t)&&(t.length===r&&(a=a.add(e.ba)),!0)}),o),on.resolve(this.bf(a))},e.prototype.bf=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.pf(e);null!==r&&n.push(r)})),n},e.prototype.Po=function(e,t){var n=this;g(0===this.vf(t.batchId,"removed")),this.Rn.shift();var r=this.gf;return on.forEach(t.mutations,(function(i){var o=new qr(i.key,t.batchId);return r=r.delete(o),n.Fi.oo(e,i.key)})).next((function(){n.gf=r}))},e.prototype.Vo=function(e){},e.prototype.tr=function(e,t){var n=new qr(t,0),r=this.gf.Dt(n);return on.resolve(t.isEqual(r&&r.key))},e.prototype.po=function(e){return on.resolve()},e.prototype.vf=function(e,t){return this.yf(e)},e.prototype.yf=function(e){return 0===this.Rn.length?0:e-this.Rn[0].batchId},e.prototype.pf=function(e){var t=this.yf(e);return t<0||t>=this.Rn.length?null:this.Rn[t]},e}(),Co=function(){function e(e,t){this.mn=e,this.Sf=t,this.docs=new Y(L.P),this.size=0}return e.prototype.un=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.Sf(t);return this.docs=this.docs.et(r,{fi:t,size:a,readTime:n}),this.size+=a-o,this.mn.ri(e,r.path.p())},e.prototype.ln=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype._n=function(e,t){var n=this.docs.get(t);return on.resolve(n?n.fi:null)},e.prototype.getEntries=function(e,t){var n=this,r=ne();return t.forEach((function(e){var t=n.docs.get(e);r=r.et(e,t?t.fi:null)})),on.resolve(r)},e.prototype.Sn=function(e,t,n){for(var r=ie(),i=new L(t.path.child("")),o=this.docs.ut(i);o.wt();){var a=o.dt(),s=a.value,u=s.fi,c=s.readTime;if(!t.path.D(a.key.path))break;c.o(n)<=0||u instanceof Mt&&t.matches(u)&&(r=r.et(u.key,u))}return on.resolve(r)},e.prototype.Df=function(e,t){return on.forEach(this.docs,(function(e){return t(e)}))},e.prototype.Vi=function(t){return new e.gi(this)},e.prototype.yi=function(e){return on.resolve(this.size)},e}();Co.gi=function(e){function t(t){var n=this;return(n=e.call(this)||this).bi=t,n}return i.__extends(t,e),t.prototype.wn=function(e){var t=this,n=[];return this.on.forEach((function(r,i){i?n.push(t.bi.un(e,i,t.readTime)):t.bi.ln(r)})),on.nn(n)},t.prototype.fn=function(e,t){return this.bi._n(e,t)},t.prototype.dn=function(e,t){return this.bi.getEntries(e,t)},t}(an);var bo=function(){function e(e){this.persistence=e,this.Cf=new A((function(e){return Jt(e)}),en),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.Ff=0,this.Nf=new Br,this.targetCount=0,this.$f=jn.Di()}return e.prototype.ye=function(e,t){return this.Cf.forEach((function(e,n){return t(n)})),on.resolve()},e.prototype.xi=function(e){return on.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Mi=function(e){return on.resolve(this.Ff)},e.prototype.Ni=function(e){return this.highestTargetId=this.$f.next(),on.resolve(this.highestTargetId)},e.prototype.Li=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ff&&(this.Ff=t),on.resolve()},e.prototype.Bi=function(e){this.Cf.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.$f=new jn(t),this.highestTargetId=t),e.sequenceNumber>this.Ff&&(this.Ff=e.sequenceNumber)},e.prototype.Oi=function(e,t){return this.Bi(t),this.targetCount+=1,on.resolve()},e.prototype.Ui=function(e,t){return this.Bi(t),on.resolve()},e.prototype.Qi=function(e,t){return this.Cf.delete(t.target),this.Nf.ga(t.targetId),this.targetCount-=1,on.resolve()},e.prototype.ji=function(e,t,n){var r=this,i=0,o=[];return this.Cf.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cf.delete(a),o.push(r.Wi(e,s.targetId)),i++)})),on.nn(o).next((function(){return i}))},e.prototype.Ki=function(e){return on.resolve(this.targetCount)},e.prototype.Gi=function(e,t){var n=this.Cf.get(t)||null;return on.resolve(n)},e.prototype.zi=function(e,t,n){return this.Nf.ma(t,n),on.resolve()},e.prototype.Yi=function(e,t,n){this.Nf.Va(t,n);var r=this.persistence.Fi,i=[];return r&&t.forEach((function(t){i.push(r.oo(e,t))})),on.nn(i)},e.prototype.Wi=function(e,t){return this.Nf.ga(t),on.resolve()},e.prototype.Xi=function(e,t){var n=this.Nf.ya(t);return on.resolve(n)},e.prototype.tr=function(e,t){return on.resolve(this.Nf.tr(t))},e}(),Eo=function(){function e(e){var t=this;this.kf={},this.rr=new hn(0),this.or=!1,this.or=!0,this.Fi=e(this),this.Tr=new bo(this),this.mn=new mn,this.An=new Co(this.mn,(function(e){return t.Fi.xf(e)}))}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Ur=function(){return this.or=!1,Promise.resolve()},Object.defineProperty(e.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),e.prototype.yr=function(){},e.prototype.Xr=function(){return this.mn},e.prototype.zr=function(e){var t=this.kf[e.su()];return t||(t=new wo(this.mn,this.Fi),this.kf[e.su()]=t),t},e.prototype.Yr=function(){return this.Tr},e.prototype.Jr=function(){return this.An},e.prototype.runTransaction=function(e,t,n){var r=this;d("MemoryPersistence","Starting transaction:",e);var i=new ko(this.rr.next());return this.Fi.Mf(),n(i).next((function(e){return r.Fi.Lf(i).next((function(){return e}))})).en().then((function(e){return i.In(),e}))},e.prototype.Of=function(e,t){return on.rn(Object.values(this.kf).map((function(n){return function(){return n.tr(e,t)}})))},e}(),ko=function(e){function t(t){var n=this;return(n=e.call(this)||this).sr=t,n}return i.__extends(t,e),t}(un),Io=function(){function e(e){this.persistence=e,this.Bf=new Br,this.qf=null}return e.Uf=function(t){return new e(t)},Object.defineProperty(e.prototype,"Qf",{get:function(){if(this.qf)return this.qf;throw y()},enumerable:!0,configurable:!0}),e.prototype.Hi=function(e,t,n){return this.Bf.Hi(n,t),this.Qf.delete(n),on.resolve()},e.prototype.Ji=function(e,t,n){return this.Bf.Ji(n,t),this.Qf.add(n),on.resolve()},e.prototype.oo=function(e,t){return this.Qf.add(t),on.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Bf.ga(t.targetId).forEach((function(e){return n.Qf.add(e)}));var r=this.persistence.Yr();return r.Xi(e,t.targetId).next((function(e){e.forEach((function(e){return n.Qf.add(e)}))})).next((function(){return r.Qi(e,t)}))},e.prototype.Mf=function(){this.qf=new Set},e.prototype.Lf=function(e){var t=this,n=this.persistence.Jr().Vi();return on.forEach(this.Qf,(function(r){return t.Wf(e,r).next((function(e){e||n.ln(r)}))})).next((function(){return t.qf=null,n.apply(e)}))},e.prototype.co=function(e,t){var n=this;return this.Wf(e,t).next((function(e){e?n.Qf.delete(t):n.Qf.add(t)}))},e.prototype.xf=function(e){return 0},e.prototype.Wf=function(e,t){var n=this;return on.rn([function(){return on.resolve(n.Bf.tr(t))},function(){return n.persistence.Yr().tr(e,t)},function(){return n.persistence.Of(e,t)}])},e}(),So=function(){function e(e){this.jf=e.jf,this.Kf=e.Kf}return e.prototype.xu=function(e){this.Gf=e},e.prototype.Cu=function(e){this.zf=e},e.prototype.onMessage=function(e){this.Hf=e},e.prototype.close=function(){this.Kf()},e.prototype.send=function(e){this.jf(e)},e.prototype.Yf=function(){this.Gf()},e.prototype.Jf=function(e){this.zf(e)},e.prototype.Xf=function(e){this.Hf(e)},e}(),Do={BatchGetDocuments:"batchGet",Commit:"commit"},To="gl-js/ fire/"+l,Ao=function(){function e(e){this.s=e.s,this.Zf=(e.ssl?"https":"http")+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.td=function(e,t){if(t)for(var n in t.ru)t.ru.hasOwnProperty(n)&&(e[n]=t.ru[n]);e["X-Goog-Api-Client"]=To},e.prototype.Yu=function(e,t,n){var r=this,i=this.ed(e);return new Promise((function(o,a){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var t=s.getResponseJson();d("Connection","XHR received:",JSON.stringify(t)),o(t);break;case u.ErrorCode.TIMEOUT:d("Connection",'RPC "'+e+'" timed out'),a(new O(x.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(d("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(x).indexOf(t)>=0?t:x.UNKNOWN}(r.status);a(new O(i,r.message))}else a(new O(x.UNKNOWN,"Server responded with status "+s.getStatus()))}else d("Connection",'RPC "'+e+'" failed'),a(new O(x.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{d("Connection",'RPC "'+e+'" completed.')}}));var c=Object.assign({},t);delete c.database;var l=JSON.stringify(c);d("Connection","XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r.td(h,n),s.send(i,"POST",l,h,15)}))},e.prototype.Ju=function(e,t,n){return this.Yu(e,t,n)},e.prototype.Mu=function(e,t){var n=[this.Zf,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=u.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.td(o.initMessageHeaders,t),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");d("Connection","Creating WebChannel: "+c+" "+o);var f=r.createWebChannel(c,o),p=!1,y=!1,m=new So({jf:function(e){y?d("Connection","Not sending because WebChannel is closed:",e):(p||(d("Connection","Opening WebChannel transport."),f.open(),p=!0),d("Connection","WebChannel sending:",e),f.send(e))},Kf:function(){return f.close()}}),_=function(e,t){f.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return _(u.WebChannel.EventType.OPEN,(function(){y||d("Connection","WebChannel transport opened.")})),_(u.WebChannel.EventType.CLOSE,(function(){y||(y=!0,d("Connection","WebChannel transport closed"),m.Jf())})),_(u.WebChannel.EventType.ERROR,(function(e){y||(y=!0,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(h.logLevel<=a.LogLevel.WARN){var r=t.map(v);h.warn.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+e],r))}}("Connection","WebChannel transport errored:",e),m.Jf(new O(x.UNAVAILABLE,"The operation could not be completed")))})),_(u.WebChannel.EventType.MESSAGE,(function(e){var t;if(!y){var n=e.data[0];g(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){d("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=H[e];if(void 0!==t)return K(t)}(i),a=r.message;void 0===o&&(o=x.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),y=!0,m.Jf(new O(o,a)),f.close()}else d("Connection","WebChannel received:",n),m.Xf(n)}})),setTimeout((function(){m.Yf()}),0),m},e.prototype.ed=function(e){return this.Zf+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+Do[e]},e}(),xo=function(){function e(){var e=this;this.sd=function(){return e.nd()},this.rd=function(){return e.od()},this.hd=[],this.ad()}return e.prototype.Pc=function(e){this.hd.push(e)},e.prototype.Ur=function(){window.removeEventListener("online",this.sd),window.removeEventListener("offline",this.rd)},e.prototype.ad=function(){window.addEventListener("online",this.sd),window.addEventListener("offline",this.rd)},e.prototype.nd=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.hd;e<t.length;e++)(0,t[e])(0)},e.prototype.od=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.hd;e<t.length;e++)(0,t[e])(1)},e._r=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Oo=function(){function e(){}return e.prototype.Pc=function(e){},e.prototype.Ur=function(){},e}(),No="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Po=function(){function e(){}return e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.P_=this.ud(e),this.persistence=this.ld(e),[4,this.persistence.start()];case 1:return n.sent(),this._d=this.fd(e),this.Tc=this.dd(e),this.m_=this.wd(e),this.Qc=this.Td(e),this.Ed=this.Id(e),this.P_.hc=function(e){return t.Qc.c_(e,1)},this.m_.Qc=this.Qc,[4,this.Tc.start()];case 2:return n.sent(),[4,this.P_.start()];case 3:return n.sent(),[4,this.m_.start()];case 4:return n.sent(),[4,this.m_.rl(this.Qc.k_)];case 5:return n.sent(),[2]}}))}))},e.prototype.Id=function(e){return new go(this.Qc)},e.prototype.fd=function(e){return null},e.prototype.dd=function(e){return new Lr(this.persistence,new _o,e.Ad)},e.prototype.ld=function(e){if(e.md.Rd)throw new O(x.FAILED_PRECONDITION,No);return new Eo(Io.Uf)},e.prototype.wd=function(e){var t=this;return new Zi(this.Tc,e.Xu,e.Oo,(function(e){return t.Qc.c_(e,0)}),xo._r()?new xo:new Oo)},e.prototype.ud=function(e){return new ao},e.prototype.Td=function(e){return new po(this.Tc,this.m_,e.Xu,this.P_,e.Ad,e.V_)},e.prototype.clearPersistence=function(e){throw new O(x.FAILED_PRECONDITION,No)},e}(),Ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,this.persistence.gr((function(e){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Qc.rl(e)];case 1:return t.sent(),this._d&&(e&&!this._d.pr?this._d.start(this.Tc):e||this._d.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},t.prototype.dd=function(e){return new Vr(this.persistence,new _o,e.Ad)},t.prototype.Td=function(e){var t=new vo(this.Tc,this.m_,e.Xu,this.P_,e.Ad,e.V_);return this.P_ instanceof oo&&(this.P_.Qc=t),t},t.prototype.fd=function(e){return new Mr(this.persistence.Fi.eo,e.Oo)},t.prototype.ld=function(e){var t=Wn.to(e.Pd),n=Ei(e.Pd.s);return new Wn(e.md.synchronizeTabs,t,e.clientId,Fr.ph(e.md.cacheSizeBytes),e.Oo,Tr(),"undefined"!=typeof document?document:null,n,this.P_,e.md.ir)},t.prototype.ud=function(e){if(e.md.Rd&&e.md.synchronizeTabs){var t=Tr();if(!oo._r(t))throw new O(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wn.to(e.Pd);return new oo(t,e.Oo,n,e.clientId,e.Ad)}return new ao},t.prototype.clearPersistence=function(e){var t=Wn.to(e);return Wn.clearPersistence(t)},t}(Po),Fo=function(){function e(e,t,n){this.Pd=e,this.credentials=t,this.Oo=n,this.clientId=w.t()}return e.prototype.start=function(e,t){var n=this;this.Hu();var r=new fn,i=new fn,o=!1;return this.credentials.au((function(a){if(!o)return o=!0,d("FirestoreClient","Initializing. user=",a.uid),n.Vd(e,t,a,i).then(r.resolve,r.reject);n.Oo.Cr((function(){return n.m_.il(a)}))})),this.Oo.Sr((function(){return r.promise})),i.promise},e.prototype.enableNetwork=function(){var e=this;return this.Hu(),this.Oo.enqueue((function(){return e.Qc.enableNetwork()}))},e.prototype.Vd=function(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c,l=this;return i.__generator(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,(c=this.Pd,Promise.resolve(new Ao(c)))];case 1:return o=h.sent(),a=Ei(this.Pd.s),s=function(e,t,n){return new Gi(e,t,n)}(o,this.credentials,a),[4,e.initialize({Oo:this.Oo,Pd:this.Pd,Xu:s,clientId:this.clientId,Ad:n,V_:100,md:t})];case 2:return h.sent(),this.persistence=e.persistence,this.P_=e.P_,this.Tc=e.Tc,this.m_=e.m_,this.Qc=e.Qc,this._d=e._d,this.gd=e.Ed,this.persistence.yr((function(){return i.__awaiter(l,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(u=h.sent(),r.reject(u),!this.pd(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.Vd(new Po,{Rd:!1},n,r))];case 4:return[2]}}))}))},e.prototype.pd=function(e){return"FirebaseError"===e.name?e.code===x.FAILED_PRECONDITION||e.code===x.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.Hu=function(){if(this.Oo.eh)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.disableNetwork=function(){var e=this;return this.Hu(),this.Oo.enqueue((function(){return e.Qc.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.Oo.oh((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this._d&&this._d.stop(),[4,this.m_.Ur()];case 1:return e.sent(),[4,this.P_.Ur()];case 2:return e.sent(),[4,this.persistence.Ur()];case 3:return e.sent(),this.credentials.uu(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.Hu();var t=new fn;return this.Oo.Sr((function(){return e.Qc.K_(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.Hu();var i=new mo(e,t,n);return this.Oo.Sr((function(){return r.gd.listen(i)})),i},e.prototype.qc=function(e){var t=this;this.yd||this.Oo.Sr((function(){return t.gd.qc(e)}))},e.prototype.bd=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Hu(),t=new fn,[4,this.Oo.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.Tc.aa(e)];case 1:return(n=i.sent())instanceof Mt?t.resolve(n):n instanceof jt?t.resolve(null):t.reject(new O(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=Or(r,"Failed to get document '"+e+" from cache"),t.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),t.promise)]}}))}))},e.prototype.vd=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Hu(),t=new fn,[4,this.Oo.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o,a,s,u;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.Tc.la(e,!0)];case 1:return n=i.sent(),r=new co(e,n._a),o=r.n_(n.documents),a=r.wn(o,!1),t.resolve(a.snapshot),[3,3];case 2:return s=i.sent(),u=Or(s,"Failed to execute query '"+e+" against cache"),t.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),t.promise)]}}))}))},e.prototype.write=function(e){var t=this;this.Hu();var n=new fn;return this.Oo.Sr((function(){return t.Qc.write(e,n)})),n.promise},e.prototype.s=function(){return this.Pd.s},e.prototype.lf=function(e){var t=this;this.Hu(),this.Oo.Sr((function(){return t.gd.lf(e),Promise.resolve()}))},e.prototype._f=function(e){var t=this;this.yd||this.Oo.Sr((function(){return t.gd._f(e),Promise.resolve()}))},Object.defineProperty(e.prototype,"yd",{get:function(){return this.Oo.eh},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.Hu();var n=new fn;return this.Oo.Sr((function(){return t.Qc.runTransaction(t.Oo,e,n),Promise.resolve()})),n.promise},e}(),Mo=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.Sd(this.observer.next,e)},e.prototype.error=function(e){this.Sd(this.observer.error,e)},e.prototype.Dd=function(){this.muted=!0},e.prototype.Sd=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}();function jo(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Lo=function(){function e(e,t,n,r){this.s=e,this.timestampsInSnapshots=t,this.Cd=n,this.Fd=r}return e.prototype.Nd=function(e){switch(Ie(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.$d(e.timestampValue);case 4:return this.kd(e);case 5:return e.stringValue;case 6:return new li(Pe(e.bytesValue));case 7:return this.xd(e.referenceValue);case 8:return this.Md(e.geoPointValue);case 9:return this.Ld(e.arrayValue);case 10:return this.Od(e.mapValue);default:throw y()}},e.prototype.Od=function(e){var t=this,n={};return D(e.fields||{},(function(e,r){n[e]=t.Nd(r)})),n},e.prototype.Md=function(e){return new bi(Ne(e.latitude),Ne(e.longitude))},e.prototype.Ld=function(e){var t=this;return(e.values||[]).map((function(e){return t.Nd(e)}))},e.prototype.kd=function(e){switch(this.Cd){case"previous":var t=function e(t){var n=t.mapValue.fields.__previous_value__;return be(n)?e(n):n}(e);return null==t?null:this.Nd(t);case"estimate":return this.$d(Ee(e));default:return null}},e.prototype.$d=function(e){var t=Oe(e),n=new N(t.seconds,t.nanos);return this.timestampsInSnapshots?n:n.toDate()},e.prototype.xd=function(e){var t=F.$(e);g(yt(t));var n=new I(t.get(1),t.get(3)),r=new L(t.g(5));return n.isEqual(this.s)||p("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.Fd(r)},e}(),Vo=Fr.vh,Uo=function(){function e(e){var t,n,r,i;if(void 0===e.host){if(void 0!==e.ssl)throw new O(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Yr("settings","non-empty string","host",e.host),this.host=e.host,Zr("settings","boolean","ssl",e.ssl),this.ssl=null===(t=e.ssl)||void 0===t||t;if(ri("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Zr("settings","object","credentials",e.credentials),this.credentials=e.credentials,Zr("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),Zr("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),!0===e.timestampsInSnapshots?p("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===e.timestampsInSnapshots&&p("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=e.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=e.ignoreUndefinedProperties)&&void 0!==r&&r,Zr("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Fr.Dh;else{if(e.cacheSizeBytes!==Vo&&e.cacheSizeBytes<Fr.Sh)throw new O(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Fr.Sh);this.cacheSizeBytes=e.cacheSizeBytes}Zr("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=null!==(i=e.experimentalForceLongPolling)&&void 0!==i&&i}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Bo=function(){function e(t,n,r){var o=this;if(void 0===r&&(r=new Po),this.Bd=null,this.qd=new xr,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Ud(),[4,this.Qd.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var a=t;this.Bd=a,this.qa=e.Wd(a),this.jd=a.name,this.Kd=new Bi(n)}else{var s=t;if(!s.projectId)throw new O(x.INVALID_ARGUMENT,"Must provide projectId");this.qa=new I(s.projectId,s.database),this.jd="[DEFAULT]",this.Kd=new Ui}this.Gd=r,this.zd=new Uo({})}return Object.defineProperty(e.prototype,"Hd",{get:function(){return this.Yd||(this.Yd=new xi(this.qa,this.zd.ignoreUndefinedProperties)),this.Yd},enumerable:!0,configurable:!0}),e.prototype.settings=function(e){Wr("Firestore.settings",arguments,1),Gr("Firestore.settings","object",1,e);var t=new Uo(e);if(this.Qd&&!this.zd.isEqual(t))throw new O(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.zd=t,void 0!==t.credentials&&(this.Kd=function(e){if(!e)return new Ui;switch(e.type){case"gapi":var t=e.Jd;return g(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Hi(t,e.wu||"0");case"provider":return e.Jd;default:throw new O(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.Ud(),this.Qd.enableNetwork()},e.prototype.disableNetwork=function(){return this.Ud(),this.Qd.disableNetwork()},e.prototype.enablePersistence=function(e){var t,n;if(this.Qd)throw new O(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(e&&(void 0!==e.experimentalTabSynchronization&&p("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(t=e.synchronizeTabs)&&void 0!==t?t:e.experimentalTabSynchronization)&&void 0!==n&&n,i=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,r&&i))throw new O(x.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Xd(this.Gd,{Rd:!0,cacheSizeBytes:this.zd.cacheSizeBytes,synchronizeTabs:r,ir:i})},e.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){if(void 0!==this.Qd&&!this.Qd.yd)throw new O(x.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return e=new fn,[2,(this.qd.sh((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this.Zd(),[4,this.Gd.clearPersistence(t)];case 1:return r.sent(),e.resolve(),[3,3];case 2:return n=r.sent(),e.reject(n),[3,3];case 3:return[2]}}))}))})),e.promise)]}))}))},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"tw",{get:function(){return this.Ud(),this.Qd.yd},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.Ud(),this.Qd.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){return this.Ud(),jo(e)?this.ew(e):(Gr("Firestore.onSnapshotsInSync","function",1,e),this.ew({next:e}))},e.prototype.ew=function(e){var t=this,n=new Mo({next:function(){e.next&&e.next()},error:function(e){throw y()}});return this.Qd.lf(n),function(){n.Dd(),t.Qd._f(n)}},e.prototype.Ud=function(){return this.Qd||this.Xd(new Po,{Rd:!1}),this.Qd},e.prototype.Zd=function(){return new k(this.qa,this.jd,this.zd.host,this.zd.ssl,this.zd.forceLongPolling)},e.prototype.Xd=function(e,t){var n=this.Zd();return this.Qd=new Fo(n,this.Kd,this.qd),this.Qd.start(e,t)},e.Wd=function(e){if(!Object.prototype.hasOwnProperty.call(e.options,"projectId"))throw new O(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t=e.options.projectId;if(!t||"string"!=typeof t)throw new O(x.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new I(t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Bd)throw new O(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Bd},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return Wr("Firestore.collection",arguments,1),Gr("Firestore.collection","non-empty string",1,e),this.Ud(),new Zo(F.$(e),this,null)},e.prototype.doc=function(e){return Wr("Firestore.doc",arguments,1),Gr("Firestore.doc","non-empty string",1,e),this.Ud(),Wo.sw(F.$(e),this,null)},e.prototype.collectionGroup=function(e){if(Wr("Firestore.collectionGroup",arguments,1),Gr("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new O(x.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Ud(),new Ko(new Vt(F.k,e),this,null)},e.prototype.runTransaction=function(e){var t=this;return Wr("Firestore.runTransaction",arguments,1),Gr("Firestore.runTransaction","function",1,e),this.Ud().transaction((function(n){return e(new qo(t,n))}))},e.prototype.batch=function(){return this.Ud(),new Ho(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(f()){case a.LogLevel.DEBUG:return"debug";case a.LogLevel.ERROR:return"error";case a.LogLevel.SILENT:return"silent";case a.LogLevel.WARN:return"warn";case a.LogLevel.INFO:return"info";case a.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){Wr("Firestore.setLogLevel",arguments,1),Xr("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),h.setLogLevel(e)},e.prototype.nw=function(){return this.zd.timestampsInSnapshots},e}(),qo=function(){function e(e,t){this.iw=e,this.rw=t}return e.prototype.get=function(e){var t=this;Wr("Transaction.get",arguments,1);var n=ea("Transaction.get",e,this.iw);return this.rw.nc([n.Ua]).then((function(e){if(!e||1!==e.length)return y();var r=e[0];if(r instanceof jt)return new zo(t.iw,n.Ua,null,!1,!1,n.Qa);if(r instanceof Mt)return new zo(t.iw,n.Ua,r,!1,!1,n.Qa);throw y()}))},e.prototype.set=function(e,t,n){zr("Transaction.set",arguments,2,3);var r=ea("Transaction.set",e,this.iw);n=$o("Transaction.set",n);var i=na(r.Qa,t,"Transaction.set"),o=i[0],a=i[1],s=this.iw.Hd.Ja(a,o,n);return this.rw.set(r.Ua,s),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof t||t instanceof fi?(Qr("Transaction.update",arguments,3),r=ea("Transaction.update",e,this.iw),i=this.iw.Hd.tu("Transaction.update",t,n,o)):(Wr("Transaction.update",arguments,2),r=ea("Transaction.update",e,this.iw),i=this.iw.Hd.Za("Transaction.update",t)),this.rw.update(r.Ua,i),this},e.prototype.delete=function(e){Wr("Transaction.delete",arguments,1);var t=ea("Transaction.delete",e,this.iw);return this.rw.delete(t.Ua),this},e}(),Ho=function(){function e(e){this.iw=e,this.ow=[],this.hw=!1}return e.prototype.set=function(e,t,n){zr("WriteBatch.set",arguments,2,3),this.aw();var r=ea("WriteBatch.set",e,this.iw);n=$o("WriteBatch.set",n);var i=na(r.Qa,t,"WriteBatch.set"),o=i[0],a=i[1],s=this.iw.Hd.Ja(a,o,n);return this.ow=this.ow.concat(s.Wa(r.Ua,It.Qe())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.aw(),"string"==typeof t||t instanceof fi?(Qr("WriteBatch.update",arguments,3),r=ea("WriteBatch.update",e,this.iw),i=this.iw.Hd.tu("WriteBatch.update",t,n,o)):(Wr("WriteBatch.update",arguments,2),r=ea("WriteBatch.update",e,this.iw),i=this.iw.Hd.Za("WriteBatch.update",t)),this.ow=this.ow.concat(i.Wa(r.Ua,It.exists(!0))),this},e.prototype.delete=function(e){Wr("WriteBatch.delete",arguments,1),this.aw();var t=ea("WriteBatch.delete",e,this.iw);return this.ow=this.ow.concat(new xt(t.Ua,It.Qe())),this},e.prototype.commit=function(){return this.aw(),this.hw=!0,this.ow.length>0?this.iw.Ud().write(this.ow):Promise.resolve()},e.prototype.aw=function(){if(this.hw)throw new O(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Wo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.qa,t,r)||this).Ua=t,i.firestore=n,i.Qa=r,i.Qd=i.firestore.Ud(),i}return i.__extends(t,e),t.sw=function(e,n,r){if(e.length%2!=0)throw new O(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.N()+" has "+e.length);return new t(new L(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Zo(this.Ua.path.p(),this.firestore,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Ua.path.N()},enumerable:!0,configurable:!0}),t.prototype.collection=function(e){if(Wr("DocumentReference.collection",arguments,1),Gr("DocumentReference.collection","non-empty string",1,e),!e)throw new O(x.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=F.$(e);return new Zo(this.Ua.path.child(t),this.firestore,null)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ii("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.Ua.isEqual(e.Ua)&&this.Qa===e.Qa},t.prototype.set=function(e,t){zr("DocumentReference.set",arguments,1,2),t=$o("DocumentReference.set",t);var n=na(this.Qa,e,"DocumentReference.set"),r=n[0],i=n[1],o=this.firestore.Hd.Ja(i,r,t);return this.Qd.write(o.Wa(this.Ua,It.Qe()))},t.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof fi?(Qr("DocumentReference.update",arguments,2),n=this.firestore.Hd.tu("DocumentReference.update",e,t,r)):(Wr("DocumentReference.update",arguments,1),n=this.firestore.Hd.Za("DocumentReference.update",e)),this.Qd.write(n.Wa(this.Ua,It.exists(!0)))},t.prototype.delete=function(){return Wr("DocumentReference.delete",arguments,0),this.Qd.write([new xt(this.Ua,It.Qe())])},t.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];zr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||jo(e[i])||(ri("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),Zr("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return jo(e[i])?n=e[i]:(Gr("DocumentReference.onSnapshot","function",i,e[i]),Kr("DocumentReference.onSnapshot","function",i+1,e[i+1]),Kr("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.uw(o,n)},t.prototype.uw=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Mo({next:function(e){if(t.next){var r=e.docs.get(n.Ua);t.next(new zo(n.firestore,n.Ua,r,e.fromCache,e.hasPendingWrites,n.Qa))}},error:r}),o=this.Qd.listen(Vt.As(this.Ua.path),i,e);return function(){i.Dd(),n.Qd.qc(o)}},t.prototype.get=function(e){var t=this;return zr("DocumentReference.get",arguments,0,1),Jo("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.Ud().bd(t.Ua).then((function(e){n(new zo(t.firestore,t.Ua,e,!0,e instanceof Mt&&e.Xe,t.Qa))}),r):t.cw(n,r,e)}))},t.prototype.cw=function(e,t,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new O(x.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new O(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},t.prototype.withConverter=function(e){return new t(this.Ua,this.firestore,e)},t}(Ii),Qo=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),zo=function(){function e(e,t,n,r,i,o){this.iw=e,this.Ua=t,this.lw=n,this._w=r,this.fw=i,this.Qa=o}return e.prototype.data=function(e){var t=this;if(zr("DocumentSnapshot.data",arguments,0,1),e=Xo("DocumentSnapshot.data",e),this.lw){if(this.Qa){var n=new Go(this.iw,this.Ua,this.lw,this._w,this.fw,null);return this.Qa.fromFirestore(n,e)}return new Lo(this.iw.qa,this.iw.nw(),e.serverTimestamps||"none",(function(e){return new Wo(e,t.iw,null)})).Nd(this.lw.fs())}},e.prototype.get=function(e,t){var n=this;if(zr("DocumentSnapshot.get",arguments,1,2),t=Xo("DocumentSnapshot.get",t),this.lw){var r=this.lw.data().field(Fi("DocumentSnapshot.get",e));if(null!==r)return new Lo(this.iw.qa,this.iw.nw(),t.serverTimestamps||"none",(function(e){return new Wo(e,n.iw,n.Qa)})).Nd(r)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Wo(this.Ua,this.iw,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.lw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Qo(this.fw,this._w)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw ii("isEqual","DocumentSnapshot",1,t);return this.iw===t.iw&&this._w===t._w&&this.Ua.isEqual(t.Ua)&&(null===this.lw?null===t.lw:this.lw.isEqual(t.lw))&&this.Qa===t.Qa},e}(),Go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(zo),Ko=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.qa,n.Hd,t)||this).dw=t,i.firestore=n,i.Qa=r,i}return i.__extends(t,e),t.prototype.where=function(e,n,r){Wr("Query.where",arguments,3),ni("Query.where",3,r);var i=Xr("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),o=Fi("Query.where",e),a=this.ww(o,i,r);return new t(this.dw.Ps(a),this.firestore,this.Qa)},t.prototype.orderBy=function(e,n){var r;if(zr("Query.orderBy",arguments,1,2),Kr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new O(x.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Fi("Query.orderBy",e),o=this.Aw(i,r);return new t(this.dw.Vs(o),this.firestore,this.Qa)},t.prototype.limit=function(e){return Wr("Query.limit",arguments,1),Gr("Query.limit","number",1,e),oi("Query.limit",1,e),new t(this.dw.gs(e),this.firestore,this.Qa)},t.prototype.limitToLast=function(e){return Wr("Query.limitToLast",arguments,1),Gr("Query.limitToLast","number",1,e),oi("Query.limitToLast",1,e),new t(this.dw.ps(e),this.firestore,this.Qa)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Qr("Query.startAt",arguments,1);var i=this.pw("Query.startAt",e,n,!0);return new t(this.dw.ys(i),this.firestore,this.Qa)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Qr("Query.startAfter",arguments,1);var i=this.pw("Query.startAfter",e,n,!1);return new t(this.dw.ys(i),this.firestore,this.Qa)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Qr("Query.endBefore",arguments,1);var i=this.pw("Query.endBefore",e,n,!0);return new t(this.dw.bs(i),this.firestore,this.Qa)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Qr("Query.endAt",arguments,1);var i=this.pw("Query.endAt",e,n,!1);return new t(this.dw.bs(i),this.firestore,this.Qa)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ii("isEqual","Query",1,e);return this.firestore===e.firestore&&this.dw.isEqual(e.dw)&&this.Qa===e.Qa},t.prototype.withConverter=function(e){return new t(this.dw,this.firestore,e)},t.prototype.pw=function(e,t,n,r){if(ni(e,1,t),t instanceof zo)return Wr(e,i.__spreadArrays([t],n),1),this.mw(e,t.lw,r);var o=[t].concat(n);return this.Pw(e,o,r)},t.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];zr("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||jo(e[i])||(ri("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),Zr("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),jo(e[i])?n=e[i]:(Gr("Query.onSnapshot","function",i,e[i]),Kr("Query.onSnapshot","function",i+1,e[i+1]),Kr("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.Vw(this.dw),this.uw(r,n)},t.prototype.uw=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Mo({next:function(e){t.next&&t.next(new Yo(n.firestore,n.dw,e,n.Qa))},error:r}),o=this.firestore.Ud(),a=o.listen(this.dw,i,e);return function(){i.Dd(),o.qc(a)}},t.prototype.get=function(e){var t=this;return zr("Query.get",arguments,0,1),Jo("Query.get",e),this.Vw(this.dw),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.Ud().vd(t.dw).then((function(e){n(new Yo(t.firestore,t.dw,e,t.Qa))}),r):t.cw(n,r,e)}))},t.prototype.cw=function(e,t,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new O(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},t}(function(){function e(e,t,n){this.qa=e,this.Hd=t,this.dw=n}return e.prototype.ww=function(e,t,n){var r;if(e.L()){if("array-contains"===t||"array-contains-any"===t)throw new O(x.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+t+"' queries on FieldPath.documentId().");if("in"===t){this.Tw(n,t);for(var i=[],o=0,a=n;o<a.length;o++)i.push(this.Ew(a[o]));r={arrayValue:{values:i}}}else r=this.Ew(n)}else"in"!==t&&"array-contains-any"!==t||this.Tw(n,t),r=this.Hd.eu("Query.where",n,"in"===t);var s=Ut.create(e,t,r);return this.Iw(s),s},e.prototype.Aw=function(e,t){if(null!==this.dw.startAt)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.dw.endAt)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new Zt(e,t);return this.Rw(n),n},e.prototype.mw=function(e,t,n){if(!t)throw new O(x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");for(var r=[],i=0,o=this.dw.orderBy;i<o.length;i++){var a=o[i];if(a.field.L())r.push(Re(this.qa,t.key));else{var s=t.field(a.field);if(be(s))throw new O(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.N();throw new O(x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new zt(r,n)},e.prototype.Pw=function(e,t,n){var r=this.dw.ds;if(t.length>r.length)throw new O(x.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.L()){if("string"!=typeof a)throw new O(x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this.dw.Bs()&&-1!==a.indexOf("/"))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this.dw.path.child(F.$(a));if(!L.W(s))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new L(s);i.push(Re(this.qa,u))}else{var c=this.Hd.eu(e,a);i.push(c)}}return new zt(i,n)},e.prototype.Vw=function(e){if(e.xs()&&0===e.ds.length)throw new O(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},e.prototype.Ew=function(e){if("string"==typeof e){if(""===e)throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.dw.Bs()&&-1!==e.indexOf("/"))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this.dw.path.child(F.$(e));if(!L.W(t))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return Re(this.qa,new L(t))}if(e instanceof Ii)return Re(this.qa,e.Ua);throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ti(e)+".")},e.prototype.Tw=function(e,t){if(!Array.isArray(e)||0===e.length)throw new O(x.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new O(x.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new O(x.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new O(x.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.Iw=function(e){if(e instanceof Ut){var t=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.Ms()){var o=this.dw.Rs();if(null!==o&&!o.isEqual(e.field))throw new O(x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this.dw.ms();null!==a&&this.gw(e.field,a)}else if(i||r){var s=null;if(i&&(s=this.dw.Ls(n)),null===s&&r&&(s=this.dw.Ls(t)),null!=s)throw new O(x.INVALID_ARGUMENT,s===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},e.prototype.Rw=function(e){if(null===this.dw.ms()){var t=this.dw.Rs();null!==t&&this.gw(t,e.field)}},e.prototype.gw=function(e,t){if(!t.isEqual(e))throw new O(x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}()),Yo=function(){function e(e,t,n,r){this.iw=e,this.yw=t,this.bw=n,this.Qa=r,this.vw=null,this.Sw=null,this.metadata=new Qo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.bw.docs._()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.bw.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;zr("QuerySnapshot.forEach",arguments,1,2),Gr("QuerySnapshot.forEach","function",1,e),this.bw.docs.forEach((function(r){e.call(t,n.Dw(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new Ko(this.yw,this.iw,this.Qa)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(ri("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),Zr("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this.bw.qt)throw new O(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.vw&&this.Sw===t||(this.vw=function(e,t,n,r){if(n.Lt._()){var i=0;return n.docChanges.map((function(t){return{type:"added",doc:new Go(e,t.doc.key,t.doc,n.fromCache,n.Ot.has(t.doc.key),r),oldIndex:-1,newIndex:i++}}))}var o=n.Lt;return n.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var i=new Go(e,t.doc.key,t.doc,n.fromCache,n.Ot.has(t.doc.key),r),a=-1,s=-1;return 0!==t.type&&(a=o.indexOf(t.doc.key),o=o.delete(t.doc.key)),1!==t.type&&(s=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:ta(t.type),doc:i,oldIndex:a,newIndex:s}}))}(this.iw,t,this.bw,this.Qa),this.Sw=t),this.vw},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ii("isEqual","QuerySnapshot",1,t);return this.iw===t.iw&&this.yw.isEqual(t.yw)&&this.bw.isEqual(t.bw)&&this.Qa===t.Qa},e.prototype.Dw=function(e){return new Go(this.iw,e.key,e,this.metadata.fromCache,this.bw.Ot.has(e.key),this.Qa)},e}(),Zo=function(e){function t(t,n,r){var i=this;if((i=e.call(this,Vt.As(t),n,r)||this).Cw=t,t.length%2!=1)throw new O(x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.N()+" has "+t.length);return i}return i.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.dw.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.dw.path.p();return e._()?null:new Wo(new L(e),this.firestore,null)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.dw.path.N()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){zr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=w.t()),Gr("CollectionReference.doc","non-empty string",1,e);var t=F.$(e);return Wo.sw(this.dw.path.child(t),this.firestore,this.Qa)},t.prototype.add=function(e){Wr("CollectionReference.add",arguments,1),Gr("CollectionReference.add","object",1,this.Qa?this.Qa.toFirestore(e):e);var t=this.doc();return t.set(e).then((function(){return t}))},t.prototype.withConverter=function(e){return new t(this.Cw,this.firestore,e)},t}(Ko);function $o(e,t){if(void 0===t)return{merge:!1};if(ri(e,t,["merge","mergeFields"]),Zr(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new O(x.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+ti(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new O(x.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+ti(r[o]))}(e,"mergeFields",0,r,(function(e){return"string"==typeof e||e instanceof fi}))}(e,0,0,t.mergeFields),void 0!==t.mergeFields&&void 0!==t.merge)throw new O(x.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Xo(e,t){return void 0===t?{}:(ri(e,t,["serverTimestamps"]),$r(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Jo(e,t){Kr(e,"object",1,t),t&&(ri(e,t,["source"]),$r(e,0,"source",t.source,["default","server","cache"]))}function ea(e,t,n){if(t instanceof Ii){if(t.firestore!==n)throw new O(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw ii(e,"DocumentReference",1,t)}function ta(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function na(e,t,n){var r;return e?(r=e.toFirestore(t),n="toFirestore() in "+n):r=t,[r,n]}var ra=["length","name"];function ia(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new O(x.INVALID_ARGUMENT,e)}for(var r=0,i=Object.getOwnPropertyNames(e);r<i.length;r++){var o=i[r];-1===ra.indexOf(o)&&(n[o]=e[o])}return n}var oa=ia(Bo,"Use firebase.firestore() instead."),aa=ia(qo,"Use firebase.firestore().runTransaction() instead."),sa=ia(Ho,"Use firebase.firestore().batch() instead."),ua=ia(Wo,"Use firebase.firestore().doc() instead."),ca=ia(zo),la=ia(Go),ha=ia(Ko),fa=ia(Yo),da=ia(Zo,"Use firebase.firestore().collection() instead."),pa=ia(wi,"Use FieldValue.<field>() instead."),va=ia(li,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ya={Firestore:oa,GeoPoint:bi,Timestamp:N,Blob:va,Transaction:aa,WriteBatch:sa,DocumentReference:ua,DocumentSnapshot:ca,Query:ha,QueryDocumentSnapshot:la,QuerySnapshot:fa,CollectionReference:da,FieldPath:fi,FieldValue:pa,setLogLevel:Bo.setLogLevel,CACHE_SIZE_UNLIMITED:Vo};function ga(e){!function(e,t){e.INTERNAL.registerComponent(new c.Component("firestore",(function(e){return function(e,t){return new Bo(e,t,new Ro)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ya)))}(e),e.registerVersion("@firebase/firestore","1.15.5")}ga(o),t.__PRIVATE_registerFirestore=ga},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var a;switch(_classCallCheck(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,s){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(c)},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){var i=e[a.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[u.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(a.a)}(e,t,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(u.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new r(e)},r);function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},NSPt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,a=n("mrSG"),s=n("zVF4"),u=n("q/0M"),c=n("S+S0"),l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),s.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:s.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return s.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new u.Logger("@firebase/database"),y=(i=1,function(){return i++}),g=function(e){var t=s.stringToByteArray(e),n=new s.Sha1;n.update(t);var r=n.digest();return s.base64.encodeByteArray(r)},m=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var o=t[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=e.apply(null,o):r+="object"==typeof o?s.stringify(o):o,r+=" "}return r},_=null,w=!0,C=function(e,t){s.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=u.LogLevel.VERBOSE,_=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"==typeof e?_=e:(_=null,p.remove("logging_enabled"))},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===_&&!0===p.get("logging_enabled")&&C(!0)),_){var n=m.apply(null,e);_(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];b.apply(void 0,a.__spread([e],t))}},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,a.__spread(e));v.error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,a.__spread(e));throw v.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+m.apply(void 0,a.__spread(e));v.warn(n)},D=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",A="[MAX_NAME]",x=function(e,t){if(e===t)return 0;if(e===T||t===A)return-1;if(t===T||e===A)return 1;var n=K(e),r=K(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},O=function(e,t){return e===t?0:e<t?-1:1},N=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+s.stringify(t))},P=function e(t){if("object"!=typeof t||null===t)return s.stringify(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=s.stringify(n[o]),i+=":",i+=e(t[n[o]]);return i+"}"},R=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function F(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var M,j,L,V,U,B,q,H,W,Q,z=function(e){var t,n,r,i,o;s.assert(!D(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var u=a.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},G=new RegExp("^-?(0*)\\d{1,10}$"),K=function(e){if(G.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Y=function(e){try{e()}catch(t){setTimeout((function(){throw S("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},Z=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},$=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),X=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=s.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=s.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),J=function(){function e(e,t,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(s.assert("string"==typeof e,"typeof type must == string"),s.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return F(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),ee=function(e){var t=te(e),n=t.namespace;return"firebase.com"===t.domain&&I(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===t.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new J(t.host,t.secure,n,"ws"===t.scheme||"wss"===t.scheme,"",n!==t.subdomain),path:new $(t.pathString)}},te=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=a.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},ne=/[\[\].#$\/\u0000-\u001F\u007F]/,re=/[\[\].#$\u0000-\u001F\u007F]/,ie=function(e){return"string"==typeof e&&0!==e.length&&!ne.test(e)},oe=function(e){return"string"==typeof e&&0!==e.length&&!re.test(e)},ae=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!D(e)||e&&"object"==typeof e&&s.contains(e,".sv")},se=function(e,t,n,r,i){i&&void 0===n||ue(s.errorPrefix(e,t,i),n,r)},ue=function e(t,n,r){var i=r instanceof $?new X(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(D(n))throw new Error(t+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&s.stringLength(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(F(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!ie(n)))throw new Error(t+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),e(t,r,i),i.pop()})),o&&a)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ce=function(e,t,n,r,i){if(!i||void 0!==n){var o=s.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];F(n,(function(e,t){var n=new $(e);if(ue(o,t,r.child(n)),".priority"===n.getBack()&&!ae(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ie(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort($.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},le=function(e,t,n,r){if(!r||void 0!==n){if(D(n))throw new Error(s.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ae(n))throw new Error(s.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},he=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},fe=function(e,t,n,r){if(!(r&&void 0===n||ie(n)))throw new Error(s.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},de=function(e,t,n,r){if(!(r&&void 0===n||oe(n)))throw new Error(s.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pe=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),de(e,t,n,r)},ve=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ye=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ie(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),oe(e)}(r))throw new Error(s.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ge=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(s.errorPrefix(e,t,r)+"must be a boolean.")},me=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ve("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,e,!0);var t=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),ve("OnDisconnect.set",this.path_),se("OnDisconnect.set",1,e,this.path_,!1),s.validateCallback("OnDisconnect.set",2,t,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ve("OnDisconnect.setWithPriority",this.path_),se("OnDisconnect.setWithPriority",1,e,this.path_,!1),le("OnDisconnect.setWithPriority",2,t,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),ve("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ce("OnDisconnect.update",1,e,this.path_,!1),s.validateCallback("OnDisconnect.update",2,t,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),_e=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),we=(M="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",j=0,L=[],function(e){var t,n=e===j;j=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=M.charAt(e%64),e=Math.floor(e/64);s.assert(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===L[t];t--)L[t]=0;L[t]++}else for(t=0;t<12;t++)L[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=M.charAt(L[t]);return s.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ce=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),be=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ce(T,e),r=new Ce(T,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ce.MIN},e}(),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return V},set:function(e){V=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return x(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return new Ce(A,V)},t.prototype.makePost=function(e,t){return s.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ce(e,V)},t.prototype.toString=function(){return".key"},t}(be),ke=new Ee,Ie=function(e){return"number"==typeof e?"number:"+z(e):"string:"+e},Se=function(e){if(e.isLeafNode()){var t=e.val();s.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&s.contains(t,".sv"),"Priority must be a string or number.")}else s.assert(e===U||e.isEmpty(),"priority of unexpected type.");s.assert(e===U||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},De=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,s.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Se(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return B},set:function(e){B=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(s.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ie(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?z(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(s.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return s.assert(i>=0,"Unknown leaf type: "+n),s.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Te=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return new Ce(A,new De("[PRIORITY-POST]",H))},t.prototype.makePost=function(e,t){var n=q(e);return new Ce(t,new De("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(be)),Ae=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),xe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ne.EMPTY_NODE,this.right=null!=o?o:Ne.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ne.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ne.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Oe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new xe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ne=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,xe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ae(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ae(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ae(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ae(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Oe,e}(),Pe=Math.log(2),Re=function(){function e(e){this.count=parseInt(Math.log(e+1)/Pe,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Fe=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,a=function(t,r){var i=o-t,a=o;o-=t;var u=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new xe(a,o.node,xe.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new xe(a,o.node,xe.BLACK,c,l)}(i+1,a),c=e[i],l=n?n(c):c;s(new xe(l,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(u+1));c?a(l,xe.BLACK):(a(l,xe.BLACK),a(l,xe.RED))}return i}(new Re(e.length));return new Ne(r||t,i)},Me={},je=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return s.assert(Me&&Te,"ChildrenNode.ts has not been loaded"),W=W||new e({".priority":Me},{".priority":Te})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=s.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ne?t:null},e.prototype.hasIndex=function(e){return s.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){s.assert(t!==ke,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,u=n.getIterator(Ce.Wrap),c=u.getNext();c;)o=o||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=o?Fe(i,t.getCompare()):Me;var l=t.toString(),h=a.__assign({},this.indexSet_);h[l]=t;var f=a.__assign({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(s.map(this.indexes_,(function(e,i){var o=s.safeGet(r.indexSet_,i);if(s.assert(o,"Missing index implementation for "+i),e===Me){if(o.isDefinedOn(t.node)){for(var a=[],u=n.getIterator(Ce.Wrap),c=u.getNext();c;)c.name!==t.name&&a.push(c),c=u.getNext();return a.push(t),Fe(a,o.getCompare())}return Me}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Ce(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(s.map(this.indexes_,(function(e){if(e===Me)return e;var r=n.get(t.name);return r?e.remove(new Ce(t.name,r)):e})),this.indexSet_)},e}();function Le(e,t){return x(e.name,t.name)}function Ve(e,t){return x(e,t)}var Ue=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Se(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Q||(Q=new e(new Ne(Ve),null,je.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Q},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Q:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ce(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Q:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;s.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Te,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ie(this.getPriority().val())+":"),this.forEachChild(Te,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ce(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ce(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ce(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ce.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ce.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Be?-1:0},e.prototype.withIndex=function(t){if(t===ke||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===ke||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Te),r=t.getIterator(Te),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===ke?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Be=new(function(e){function t(){return e.call(this,new Ne(Ve),Ue.EMPTY_NODE,je.Default)||this}return a.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Ue.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ue));function qe(e,t){if(void 0===t&&(t=null),null===e)return Ue.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),s.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new De(e,qe(t));if(e instanceof Array){var n=Ue.EMPTY_NODE;return F(e,(function(t,r){if(s.contains(e,t)&&"."!==t.substring(0,1)){var i=qe(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(qe(t))}var r=[],i=!1;if(F(e,(function(e,t){if("."!==e.substring(0,1)){var n=qe(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ce(e,n)))}})),0===r.length)return Ue.EMPTY_NODE;var o=Fe(r,Le,(function(e){return e.name}),Ve);if(i){var a=Fe(r,Te.getCompare());return new Ue(o,qe(t),new je({".priority":a},{".priority":Te}))}return new Ue(o,qe(t),je.Default)}Object.defineProperties(Ce,{MIN:{value:new Ce(T,Ue.EMPTY_NODE)},MAX:{value:new Ce(A,Be)}}),Ee.__EMPTY_NODE=Ue.EMPTY_NODE,De.__childrenNodeConstructor=Ue,U=Be,H=Be,function(e){q=e}(qe);var He,We=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?x(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return Ce.MAX},t.prototype.makePost=function(e,t){var n=qe(e);return new Ce(t,n)},t.prototype.toString=function(){return".value"},t}(be)),Qe=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,s.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return a.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=qe(e),r=Ue.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ce(t,r)},t.prototype.maxPost=function(){var e=Ue.EMPTY_NODE.updateChild(this.indexPath_,Be);return new Ce(A,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(be),ze=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),de("DataSnapshot.child",1,t,!1);var n=new $(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Te)},e.prototype.hasChild=function(e){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),de("DataSnapshot.hasChild",1,e,!1);var t=new $(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Te))}))},e.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Ge=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},e}(),Ke=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ye=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Ge("value",this,new ze(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ke(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Ze=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return s.contains(this.callbacks_,t="children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ke(this,e,t):null},e.prototype.createEvent=function(e,t){s.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Ge(e.type,this,new ze(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),$e=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return s.assert(He,"Reference.ts has not been loaded"),He},set:function(e){He=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ke){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==A)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Te){if(null!=t&&!ae(t)||null!=n&&!ae(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(e.getIndex()instanceof Qe||e.getIndex()===We,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){s.validateArgCount("Query.on",2,4,arguments.length),he("Query.on",1,t,!1),s.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Ye(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new Ze(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){s.validateArgCount("Query.off",0,3,arguments.length),he("Query.off",1,e,!0),s.validateCallback("Query.off",2,t,!0),s.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new Ye(o,null,n||null)}else e&&(t&&((i={})[e]=t),r=new Ze(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),he("Query.once",1,t,!1),s.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new s.Deferred;c.promise.catch((function(){}));var l=function e(r){u&&(u=!1,o.off(t,e),n&&n.bind(a.context)(r),c.resolve(r))};return this.on(t,l,(function(e){o.off(t,l),a.cancel&&a.cancel.bind(a.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');de("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new $(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Qe(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(ke);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Te);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(We);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),s.validateArgCount("Query.startAt",0,2,arguments.length),se("Query.startAt",1,t,this.path,!0),fe("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),s.validateArgCount("Query.endAt",0,2,arguments.length),se("Query.endAt",1,t,this.path,!0),fe("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),se("Query.equalTo",1,e,this.path,!1),fe("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=P(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return r&&i&&o},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,s.validateCallback(e,3,r.cancel,!0),r.context=n,s.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(s.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Xe=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Je=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),et=function(e,t,n){return e&&"object"==typeof e?(s.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?tt(e[".sv"],t,n):"object"==typeof e[".sv"]?nt(e[".sv"],t):void s.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},tt=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:s.assert(!1,"Unexpected server value: "+e)}},nt=function(e,t,n){e.hasOwnProperty("increment")||s.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&s.assert(!1,"Unexpected increment value: "+r);var i=t.node();if(s.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},rt=function(e,t,n,r){return ot(t,new Je(n,e),r)},it=function(e,t,n){return ot(e,new Xe(t),n)};function ot(e,t,n){var r,i=e.getPriority().val(),o=et(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=et(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new De(s,qe(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new De(o))),u.forEachChild(Te,(function(e,i){var o=ot(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var at,st,ut=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Te,(function(e,t){n.remember(new $(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();return e=e.popFront(),this.children.has(r)&&this.children.get(r).forget(e)&&this.children.delete(r),0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new $(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}(),ct=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({}),lt=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,s.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),ht=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ct.ACK_USER_WRITE,this.source=lt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new $(t));return new e($.Empty,n,this.revert)}return s.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),ft=function(){function e(e,t){void 0===t&&(at||(at=new Ne(O)),t=at),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return F(t,(function(e,t){n=n.set(new $(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:$.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new $(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r,i=t.getFront(),o=(this.children.get(i)||e.Empty).setTree(t.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_($.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,$.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,$.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_($.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),dt=function(){function e(e,t){this.source=e,this.path=t,this.type=ct.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,$.Empty):new e(this.source,this.path.popFront())},e}(),pt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ct.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,$.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),vt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ct.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new $(t));return n.isEmpty()?null:n.value?new pt(this.source,$.Empty,n.value):new e(this.source,$.Empty,n)}return s.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),yt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),gt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new yt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new yt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new yt(Ue.EMPTY_NODE,!1,!1),new yt(Ue.EMPTY_NODE,!1,!1)),e}(),mt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),_t=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){s.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(mt.childRemovedChange(t,a)):s.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(mt.childAddedChange(t,n)):o.trackChildChange(mt.childChangedChange(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Te,(function(e,r){t.hasChild(e)||n.trackChildChange(mt.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(Te,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(mt.childChangedChange(t,r,i))}else n.trackChildChange(mt.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Ue.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),wt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;s.assert(t===mt.CHILD_ADDED||t===mt.CHILD_CHANGED||t===mt.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t===mt.CHILD_ADDED&&i===mt.CHILD_REMOVED)this.changeMap.set(n,mt.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t===mt.CHILD_REMOVED&&i===mt.CHILD_ADDED)this.changeMap.delete(n);else if(t===mt.CHILD_REMOVED&&i===mt.CHILD_CHANGED)this.changeMap.set(n,mt.childRemovedChange(n,r.oldSnap));else if(t===mt.CHILD_CHANGED&&i===mt.CHILD_ADDED)this.changeMap.set(n,mt.childAddedChange(n,e.snapshotNode));else{if(t!==mt.CHILD_CHANGED||i!==mt.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,mt.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Ct=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),bt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new yt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Et=function(e,t){this.viewCache=e,this.changes=t},kt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){s.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,a,u=new wt;if(n.type===ct.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(t,c.path,c.snap,r,i,u):(s.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(t,c.path,c.snap,r,i,a,u))}else if(n.type===ct.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(t,l.path,l.children,r,i,u):(s.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,l.path,l.children,r,i,a,u))}else if(n.type===ct.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(t,h.path,r,i,u):this.ackUserWrite_(t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ct.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,u)}var f=u.getChanges();return e.maybeAddValueEvent_(t,o,f),new Et(o,f)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,u=void 0;if(t.isEmpty())if(s.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof Ue?c:Ue.EMPTY_NODE);a=this.filter_.updateFullNode(e.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var f=t.getFront();if(".priority"===f){s.assert(1===t.getLength(),"Can't have a priority with additional path components");var d=o.getNode();u=e.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(t,d,u);a=null!=p?this.filter_.updatePriority(d,p):o.getNode()}else{var v=t.popFront(),y=void 0;if(o.isCompleteForChild(f)){u=e.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),u);y=null!=g?o.getNode().getImmediateChild(f).updateChild(v,g):o.getNode().getImmediateChild(f)}else y=n.calcCompleteChild(f,e.getServerCache());a=null!=y?this.filter_.updateChild(o.getNode(),f,y,v,r,i):o.getNode()}}return e.updateEventSnap(a,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var f=t.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,Ct,null)}var p=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),v=new bt(r,p,i);return this.generateEventCacheAfterServerEvent_(p,t,r,v,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,s,u=e.getEventCache(),c=new bt(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=t.popFront(),f=u.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Ue.EMPTY_NODE}if(f.equals(d))a=e;else{var v=this.filter_.updateChild(u.getNode(),l,d,h,c,o);a=e.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=t.isEmpty()?n:ft.Empty.setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal((function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new $(t),h,r,i,o,a)}})),u.children.inorderTraversal((function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var h=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new $(t),f,r,i,o,a)}})),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var u=ft.Empty;return s.getNode().forEachChild(ke,(function(e,t){u=u.set(new $(e),t)})),this.applyServerMerge_(e,t,u,r,i,a,o)}return e}var c=ft.Empty;return n.foreach((function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),this.applyServerMerge_(e,t,c,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,Ct,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var a=new bt(n,e,r),u=e.getEventCache().getNode(),c=void 0;if(t.isEmpty()||".priority"===t.getFront()){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();s.assert(h instanceof Ue,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=t.getFront(),d=n.calcCompleteChild(f,e.getServerCache());null==d&&e.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,t.popFront(),a,i):e.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Ue.EMPTY_NODE,t.popFront(),a,i):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite($.Empty),e.updateEventSnap(c,o,this.filter_.filtersNodes())},e}(),It=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach((function(e){e.type===mt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(mt.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,mt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,mt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,mt.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,mt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,mt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter((function(e){return e.type===t}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw s.assertionError("Should only compare child_ events.");var n=new Ce(e.childName,e.snapshotNode),r=new Ce(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),St=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new _t(n.getIndex()),i=n.getNodeFilter();this.processor_=new kt(i);var o=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(Ue.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Ue.EMPTY_NODE,a.getNode(),null),c=new yt(s,o.isFullyInitialized(),r.filtersNodes()),l=new yt(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new gt(l,c),this.eventGenerator_=new It(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){s.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t=t,r);i&&n.push(i)}))}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===ct.MERGE&&null!==e.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Te,(function(e,t){n.push(mt.childAddedChange(e,t))})),t.isFullyInitialized()&&n.push(mt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){return this.eventGenerator_.generateEventsForChanges(e,t,n?[n]:this.eventRegistrations_)},e}(),Dt=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return s.assert(st,"Reference.ts has not been loaded"),st},set:function(e){s.assert(!st,"__referenceConstructor has already been defined"),st=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,o=e.source.queryId;if(null!==o){var u=this.views.get(o);return s.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(e,t,n)}var c=[];try{for(var l=a.__values(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(e,t,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return c},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Ue?(s=n.calcCompleteEventChildren(r),u=!1):(s=Ue.EMPTY_NODE,u=!1);var c=new gt(new yt(s,u,!1),new yt(r,i,!1));a=new St(e,c),this.views.set(o,a)}return a.addEventRegistration(t),a.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,o,s=t.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=a.__values(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=a.__read(f.value,2),v=p[0];c=c.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(v),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery()))}}catch(y){i={error:y}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(d=this.views.get(s))&&(c=c.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(s),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery())));return l&&!this.hasCompleteView()&&u.push(new e.__referenceConstructor(t.repo,t.path)),{removed:u,events:c}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=a.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=a.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(e)}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=a.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),Tt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new ft(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=$.relativePath(i,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(i,o))}var s=new ft(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return F(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,ft.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild($.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Te,(function(t,n){e.push(new Ce(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Ce(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new ft(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(s.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(t.child(n),o,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r}($.Empty,this.writeTree_,e)},e.Empty=new e(new ft(null)),e}(),At=function(){function e(){this.visibleWrites_=Tt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new xt(e,this)},e.prototype.addOverwrite=function(e,t,n,r){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));s.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),a--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):F(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})),!0))},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite($.Empty)?e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t).apply(n||Ue.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(t);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(t);return s.isEmpty()?n:null!=n||s.hasCompleteWrite($.Empty)?s.apply(n||Ue.EMPTY_NODE):null},e.prototype.calcCompleteEventChildren=function(e,t){var n=Ue.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Te,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Te,(function(e,t){var r=i.childCompoundWrite(new $(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){s.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode($.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,$.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=Tt.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,u=void 0;if(o.snap)n.contains(a)?(u=$.relativePath(n,a),r=r.addWrite(u,o.snap)):a.contains(n)&&(u=$.relativePath(a,n),r=r.addWrite($.Empty,o.snap.getChild(u)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=$.relativePath(n,a),r=r.addWrites(u,o.children);else if(a.contains(n))if((u=$.relativePath(a,n)).isEmpty())r=r.addWrites($.Empty,o.children);else{var c=s.safeGet(o.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite($.Empty,l)}}}}}return r},e}(),xt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Ot=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=ft.Empty,this.pendingWriteTree_=new At,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new pt(lt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=ft.fromObject(t);return this.applyOperationToSyncPoints_(new vt(lt.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=ft.Empty;return null!=n.snap?r=r.set($.Empty,!0):F(n.children,(function(e,t){r=r.set(new $(e),t)})),this.applyOperationToSyncPoints_(new ht(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new pt(lt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=ft.fromObject(t);return this.applyOperationToSyncPoints_(new vt(lt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new dt(lt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=$.relativePath(a,t),c=new pt(lt.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=$.relativePath(a,t),c=ft.fromObject(n),l=new vt(lt.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=$.relativePath(o,t),u=new dt(lt.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=$.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache($.Empty)):(u=new Dt,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=Ue.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache($.Empty);n&&(i=i.updateImmediateChild(e,n))})));var c=u.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);s.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=e.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(t,n,f,i,a);if(!c&&!o){var p=u.viewForQuery(t);d=d.concat(this.setupListener_(t,p))}return d},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(e){return e.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],y=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(e.queryForListening_(t),null):c.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}))),this.removeTags_(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=$.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),F(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(e.queryForListening_(t),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)s.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),F(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return a},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||Ue.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return s.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new $(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);s.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites($.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get($.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache($.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get($.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache($.Empty));var a=[];return t.children.inorderTraversal((function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}(),Nt=function(){function e(){this.rootNode_=Ue.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Pt=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(b("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';S(e+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),Rt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),s.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return s.deepCopy(this.counters_)},e}(),Ft=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Rt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Mt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=a.__assign({},e);return this.last_&&F(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),jt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Mt(e);var n=1e4+2e4*Math.random();Z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;F(t,(function(t,i){i>0&&s.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Lt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Vt(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Vt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();_&&b("event: "+t.toString()),Y(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Ut=function(){function e(e){this.allowedEvents_=e,this.listeners_={},s.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=a.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){s.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Bt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return a.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return s.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Ut),qt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return a.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return s.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Ut),Ht=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Y((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Wt=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=Ft.getCollection(t),this.urlFn=function(e){return t.connectionURL("long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ht(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(s.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Qt((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.__read(e,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.__read(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(s.isNodeSdk()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=s.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=s.base64Encode(t),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=s.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Qt=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){b("frame writing exception"),u.stack&&b(u.stack),b(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||b("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;s.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){b("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),zt="",Gt=null;"undefined"!=typeof MozWebSocket?Gt=MozWebSocket:"undefined"!=typeof WebSocket&&(Gt=WebSocket);var Kt=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Ft.getCollection(n),this.connURL=e.connectionURL_(n,i,o)}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+zt+"/"+process.platform+"/"+(s.CONSTANTS.NODE_ADMIN?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,o=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Gt(this.connURL,[],r)}else this.mySock=new Gt(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Gt&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=s.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(s.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=s.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=R(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Yt=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Wt,Kt]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Kt&&Kt.isAvailable(),o=i&&!Kt.previouslyFailed();if(t.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Kt];else{var s=this.transports_=[];try{for(var u=a.__values(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Zt=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Yt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=N("t",e),n=N("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=N("t",e),n=N("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=N("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?k("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),$t=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Xt=function(e){function t(n,r,i,o,a,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Bt.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&qt.getInstance().on("online",l.onOnline_,l),l}return a.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(s.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&s.contains(e,"w")){var n=s.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||s.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=s.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+s.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+s.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,a=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())};this.realtime_={close:l,sendRequest:function(e){s.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(t){u?b("getToken() completed but was canceled"):(b("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,c=new Zt(i,o.repoInfo_,o.applicationId_,e,n,r,(function(e){S(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),a))})).then(null,(function(e){o.log_("Failed to get token: "+e),u||(s.CONSTANTS.NODE_ADMIN&&S(e),l())}))}},t.prototype.interrupt=function(e){b("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){b("Resuming connection for reason: "+e),delete this.interruptReasons_[e],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return P(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new $(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){b("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=a.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";s.CONSTANTS.NODE_ADMIN?t="admin_node":s.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+zt.replace(/\./g,"-")]=1,s.isMobileCordova()?e["framework.cordova"]=1:s.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=qt.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}($t),Jt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return a.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(s.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+s.querystring(t);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=s.jsonEval(u.responseText)}catch(t){S("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},t}($t),en=function(){function e(e,t,n,r){var i=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ut,this.persistentConnection_=null;var o=new Pt(n,r);if(this.stats_=Ft.getCollection(e),t||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Jt(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(a)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}this.persistentConnection_=new Xt(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(e){i.server_.refreshAuthToken(e)})),this.statsReporter_=Ft.getOrCreateReporter(e,(function(){return new jt(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Nt,this.infoSyncTree_=new Ot({startListening:function(e,t,n,r){var o=[],a=i.infoData_.getNode(e.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ot({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,(function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new $(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new $(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var a=s.map(t,(function(e){return qe(e)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=qe(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=s.map(t,(function(e){return qe(e)}));o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=qe(t);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;F(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new $("/.info/"+e),r=qe(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=qe(t,n),s=this.serverSyncTree_.calcCompleteEventCache(e),u=it(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(e,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(e.toString(),a.val(!0),(function(t,n){var o="ok"===t;o||S("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(r,t,n)}));var h=this.abortTransactions_(e);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),a={};if(F(t,(function(t,n){i=!1,a[t]=rt(e.child(t),qe(n),r.serverSyncTree_,o)})),i)b("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(e,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||S("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,t,i)})),F(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new ut;this.onDisconnect_.forEachTree($.Empty,(function(r,i){var o=rt(r,i,e.serverSyncTree_,t);n.remember(r,o)}));var r=[];n.forEachTree($.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new ut,this.eventQueue_.raiseEventsForChangedPath($.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=qe(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=qe(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(s.isEmpty(t))return b("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&F(t,(function(t,n){var i=qe(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Mt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);F(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),b.apply(void 0,a.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&Y((function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!0,configurable:!0}),e}(),tn=function(){function e(t){this.indexedFilter_=new _t(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ce(t,n))||(n=Ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Ue.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Ue.EMPTY_NODE);var i=this;return t.forEachChild(Te,(function(e,t){i.matches(new Ce(e,t))||(r=r.updateImmediateChild(e,Ue.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),nn=function(){function e(e){this.rangedFilter_=new tn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ce(t,n))||(n=Ue.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Ue.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Ue.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Ue.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Ue.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var u=e;s.assert(u.numChildren()===this.limit_,"");var c=new Ce(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(mt.childChangedChange(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(mt.childRemovedChange(t,f));var v=u.updateImmediateChild(t,Ue.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(mt.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&o(l,c)>=0?(null!=i&&(i.trackChildChange(mt.childRemovedChange(l.name,l.node)),i.trackChildChange(mt.childAddedChange(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Ue.EMPTY_NODE)):e},e}(),rn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Te&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Te},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new _t(this.getIndex()):this.hasLimit()?new nn(this):new tn(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Te?t=n.PRIORITY_INDEX:this.index_===We?t=n.VALUE_INDEX:this.index_===ke?t=n.KEY_INDEX:(s.assert(this.index_ instanceof Qe,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=s.stringify(t),this.startSet_&&(r[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),on=function(e){function t(t,n){if(!(t instanceof en))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,rn.DEFAULT,!1)||this}return a.__extends(t,e),t.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof $||(null===this.path.getFront()?pe("Reference.child",1,e,!1):de("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){s.validateArgCount("Reference.set",1,2,arguments.length),ve("Reference.set",this.path),se("Reference.set",1,e,this.path,!1),s.validateCallback("Reference.set",2,t,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(s.validateArgCount("Reference.update",1,2,arguments.length),ve("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ce("Reference.update",1,e,this.path,!1),s.validateCallback("Reference.update",2,t,!0);var i=new s.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ve("Reference.setWithPriority",this.path),se("Reference.setWithPriority",1,e,this.path,!1),le("Reference.setWithPriority",2,t,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new s.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return s.validateArgCount("Reference.remove",0,1,arguments.length),ve("Reference.remove",this.path),s.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),ve("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,e,!1),s.validateCallback("Reference.transaction",2,t,!0),ge("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new s.Deferred;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new _e(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){s.validateArgCount("Reference.setPriority",1,2,arguments.length),ve("Reference.setPriority",this.path),le("Reference.setPriority",1,e,!1),s.validateCallback("Reference.setPriority",2,t,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){s.validateArgCount("Reference.push",0,2,arguments.length),ve("Reference.push",this.path),se("Reference.push",1,e,this.path,!0),s.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=we(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),o},t.prototype.onDisconnect=function(){return ve("Reference.onDisconnect",this.path),new me(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}($e);$e.__referenceConstructor=on,Dt.__referenceConstructor=on;var an=function(){this.children={},this.childCount=0,this.value=null},sn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new an),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof $?t:new $(t),r=this,i=n.getFront();null!==i;)r=new e(i,r,s.safeGet(r.node_.children,i)||new an),i=(n=n.popFront()).getFront();return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){s.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;F(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new $(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=s.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}(),un=function(e){return e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT",e}({});en.MAX_TRANSACTION_RETRIES_=25,en.prototype.transactionsInit_=function(){this.transactionQueueTree_=new sn},en.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new on(this,e);o.on("value",i);var a={path:e,update:t,onComplete:n,status:null,order:y(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);a.currentInputSnapshot=u;var c=a.update(u.val());if(void 0===c){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new ze(a.currentInputSnapshot,new on(this,a.path),Te);a.onComplete(null,!1,l)}}else{ue("transaction failed: Data returned ",c,a.path),a.status=un.RUN;var h=this.transactionQueueTree_.subTree(e),f=h.getValue()||[];f.push(a),h.setValue(f);var d=void 0;"object"==typeof c&&null!==c&&s.contains(c,".priority")?(d=s.safeGet(c,".priority"),s.assert(ae(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(e)||Ue.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),v=qe(c,d),g=it(v,u,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(e,g,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,m),this.sendReadyTransactions_()}},en.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||Ue.EMPTY_NODE},en.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);s.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===un.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},en.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),o=i,a=i.hash(),u=0;u<t.length;u++){var c=t[u];s.assert(c.status===un.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=un.SENT,c.retryCount++;var l=$.relativePath(e,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var h=o.val(!0),f=e;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<t.length;a++){if(t[a].status=un.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,u=new on(n,t[a].path),c=new ze(s,u,Te);o.push(t[a].onComplete.bind(null,null,!0,c))}t[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i),a=0;a<o.length;a++)Y(o[a])}else{if("datastale"===r)for(a=0;a<t.length;a++)t[a].status=t[a].status===un.SENT_NEEDS_ABORT?un.NEEDS_ABORT:un.RUN;else for(S("transaction at "+f.toString()+" failed: "+r),a=0;a<t.length;a++)t[a].status=un.NEEDS_ABORT,t[a].abortReason=r;n.rerunTransactions_(e)}}),a)},en.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},en.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter((function(e){return e.status===un.RUN})).map((function(e){return e.currentWriteId})),o=0;o<e.length;o++){var a=e[o],u=$.relativePath(t,a.path),c=!1,l=void 0;if(s.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===un.NEEDS_ABORT)c=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===un.RUN)if(a.retryCount>=en.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var f=e[o].update(h.val());if(void 0!==f){ue("transaction failed: Data returned ",f,a.path);var d=qe(f);"object"==typeof f&&null!=f&&s.contains(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=a.currentWriteId,v=this.generateServerValues(),y=it(d,h,v);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,y,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],c&&(e[o].status=un.COMPLETED,setTimeout(e[o].unwatcher,Math.floor(0)),e[o].onComplete))if("nodata"===l){var g=new on(this,e[o].path),m=new ze(e[o].currentInputSnapshot,g,Te);n.push(e[o].onComplete.bind(null,null,!1,m))}else n.push(e[o].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)Y(n[o]);this.sendReadyTransactions_()}},en.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;for(t=e.getFront();null!==t&&null===n.getValue();)n=n.subTree(t),t=(e=e.popFront()).getFront();return n},en.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},en.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},en.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==un.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},en.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},en.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)t[o].status===un.SENT_NEEDS_ABORT||(t[o].status===un.SENT?(s.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=un.SENT_NEEDS_ABORT,t[o].abortReason="set"):(s.assert(t[o].status===un.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete&&n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r),o=0;o<n.length;o++)Y(n[o])}};var cn,ln=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return cn||(cn=new e),cn},e.prototype.interrupt=function(){var e,t,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.resume=function(){var e,t,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.databaseFromApp=function(e,t,n){var r=n||e.options.databaseURL;void 0===r&&I("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=ee(r),o=i.repoInfo,a=void 0;return"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a&&(o=(i=ee(r="http://"+a+"?ns="+o.namespace)).repoInfo),ye("Invalid Firebase Database URL",1,i),i.path.isEmpty()||I("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,e,t).database},e.prototype.deleteRepo=function(e){var t=s.safeGet(this.repos_,e.app.name);t&&s.safeGet(t,e.repoInfo_.toURLString())===e||I("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t,n){var r=s.safeGet(this.repos_,t.name);r||(this.repos_[t.name]=r={});var i=s.safeGet(r,e.toURLString());return i&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new en(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),hn=function(){function e(e){this.repo_=e,e instanceof en||I("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(e,$.Empty),this.INTERNAL=new fn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),e instanceof on?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),s.validateArgCount(t,1,1,arguments.length);var n=ee(e);ye(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&I(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&I("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),fn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.database.checkDeleted_("delete"),ln.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),dn=Object.freeze({__proto__:null,forceLongPolling:function(){Kt.forceDisallow(),Wt.forceAllow()},forceWebSockets:function(){Wt.forceDisallow()},isWebSocketsAvailable:function(){return Kt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),pn=Xt;Xt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Xt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var vn=Object.freeze({__proto__:null,DataConnection:pn,RealTimeConnection:Zt,hijackHash:function(e){var t=Xt.prototype.put;return Xt.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Xt.prototype.put=t}},ConnectionTarget:J,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){ln.getInstance().forceRestClient(e)}}),yn=hn.ServerValue;function gn(t){zt=t.SDK_VERSION;var n=t.INTERNAL.registerComponent(new c.Component("database",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return ln.getInstance().databaseFromApp(n,r,t)}),"PUBLIC").setServiceProps({Reference:on,Query:$e,Database:hn,DataSnapshot:ze,enableLogging:C,INTERNAL:dn,ServerValue:yn,TEST_ACCESS:vn}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.6.6"),s.isNodeSdk()&&(e.exports=n)}gn(o),t.DataSnapshot=ze,t.Database=hn,t.OnDisconnect=me,t.Query=$e,t.Reference=on,t.ServerValue=yn,t.enableLogging=C,t.registerDatabase=gn},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),s=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=s,t.Provider=a},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(e){if(e&&"function"==typeof e[a.a])return l=e,function(e){var t=l[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,h=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return Object(i.a)(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof c&&(s=t.pop()),null===u&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(s)(Object(a.a)(t,u))}},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.15.5","app"),e.exports=i},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return h}));var r,i=n("HDdC"),o=n("7o/Q"),a=n("quSY"),s=n("9ppp"),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(a.a),c=n("2QA8"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(o.a),h=((r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:c.a,value:function(){return new l(this)}},{key:"lift",value:function(e){var t=new f(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new s.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new u(this,e))}},{key:"asObservable",value:function(){var e=new i.a;return e.source=this,e}}]),n}(i.a)).create=function(e,t){return new f(e,t)},r),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):a.a.EMPTY}}]),n}(h)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,a);if(!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},bnWe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("fXoL");var r=n("fXoL"),i=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:function(t){return e.\u0275fac(t)}}),e}();t.FlashMessagesService=i},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},fXoL:function(e,t,n){"use strict";n.r(t),n.d(t,"ANALYZE_FOR_ENTRY_COMPONENTS",(function(){return ks})),n.d(t,"APP_BOOTSTRAP_LISTENER",(function(){return Zy})),n.d(t,"APP_ID",(function(){return Wy})),n.d(t,"APP_INITIALIZER",(function(){return qy})),n.d(t,"ApplicationInitStatus",(function(){return Hy})),n.d(t,"ApplicationModule",(function(){return Nm})),n.d(t,"ApplicationRef",(function(){return zg})),n.d(t,"Attribute",(function(){return C})),n.d(t,"COMPILER_OPTIONS",(function(){return yg})),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",(function(){return er})),n.d(t,"ChangeDetectionStrategy",(function(){return xe})),n.d(t,"ChangeDetectorRef",(function(){return ma})),n.d(t,"Compiler",(function(){return vg})),n.d(t,"CompilerFactory",(function(){return gg})),n.d(t,"Component",(function(){return Dy})),n.d(t,"ComponentFactory",(function(){return ah})),n.d(t,"ComponentFactoryResolver",(function(){return lh})),n.d(t,"ComponentRef",(function(){return oh})),n.d(t,"ContentChild",(function(){return Ds})),n.d(t,"ContentChildren",(function(){return Ss})),n.d(t,"DEFAULT_CURRENCY_CODE",(function(){return eg})),n.d(t,"DebugElement",(function(){return km})),n.d(t,"DebugEventListener",(function(){return om})),n.d(t,"DebugNode",(function(){return Em})),n.d(t,"DefaultIterableDiffer",(function(){return Sh})),n.d(t,"Directive",(function(){return Sy})),n.d(t,"ElementRef",(function(){return dh})),n.d(t,"EmbeddedViewRef",(function(){return im})),n.d(t,"ErrorHandler",(function(){return Jn})),n.d(t,"EventEmitter",(function(){return kv})),n.d(t,"Host",(function(){return w})),n.d(t,"HostBinding",(function(){return Oy})),n.d(t,"HostListener",(function(){return Ny})),n.d(t,"INJECTOR",(function(){return ie})),n.d(t,"Inject",(function(){return y})),n.d(t,"InjectFlags",(function(){return b})),n.d(t,"Injectable",(function(){return La})),n.d(t,"InjectionToken",(function(){return re})),n.d(t,"Injector",(function(){return rs})),n.d(t,"Input",(function(){return Ay})),n.d(t,"IterableDiffers",(function(){return Rh})),n.d(t,"KeyValueDiffers",(function(){return Fh})),n.d(t,"LOCALE_ID",(function(){return Jy})),n.d(t,"MissingTranslationStrategy",(function(){return rg})),n.d(t,"ModuleWithComponentFactories",(function(){return ag})),n.d(t,"NO_ERRORS_SCHEMA",(function(){return tr})),n.d(t,"NgModule",(function(){return Vy})),n.d(t,"NgModuleFactory",(function(){return we})),n.d(t,"NgModuleFactoryLoader",(function(){return Kg})),n.d(t,"NgModuleRef",(function(){return _e})),n.d(t,"NgProbeToken",(function(){return Lg})),n.d(t,"NgZone",(function(){return wg})),n.d(t,"Optional",(function(){return g})),n.d(t,"Output",(function(){return xy})),n.d(t,"PACKAGE_ROOT_URL",(function(){return $y})),n.d(t,"PLATFORM_ID",(function(){return Yy})),n.d(t,"PLATFORM_INITIALIZER",(function(){return Ky})),n.d(t,"Pipe",(function(){return Ty})),n.d(t,"PlatformRef",(function(){return Wg})),n.d(t,"Query",(function(){return Is})),n.d(t,"QueryList",(function(){return Sv})),n.d(t,"ReflectiveInjector",(function(){return bs})),n.d(t,"ReflectiveKey",(function(){return us})),n.d(t,"Renderer2",(function(){return mh})),n.d(t,"RendererFactory2",(function(){return yh})),n.d(t,"RendererStyleFlags2",(function(){return gh})),n.d(t,"ResolvedReflectiveFactory",(function(){return ps})),n.d(t,"Sanitizer",(function(){return Ch})),n.d(t,"SecurityContext",(function(){return Hr})),n.d(t,"Self",(function(){return m})),n.d(t,"SimpleChange",(function(){return Gl})),n.d(t,"SkipSelf",(function(){return _})),n.d(t,"SystemJsNgModuleLoader",(function(){return tm})),n.d(t,"SystemJsNgModuleLoaderConfig",(function(){return Jg})),n.d(t,"TRANSLATIONS",(function(){return tg})),n.d(t,"TRANSLATIONS_FORMAT",(function(){return ng})),n.d(t,"TemplateRef",(function(){return Vh})),n.d(t,"Testability",(function(){return Tg})),n.d(t,"TestabilityRegistry",(function(){return Ag})),n.d(t,"Type",(function(){return Ca})),n.d(t,"VERSION",(function(){return Eh})),n.d(t,"Version",(function(){return bh})),n.d(t,"ViewChild",(function(){return As})),n.d(t,"ViewChildren",(function(){return Ts})),n.d(t,"ViewContainerRef",(function(){return qh})),n.d(t,"ViewEncapsulation",(function(){return Pe})),n.d(t,"ViewRef",(function(){return rm})),n.d(t,"WrappedValue",(function(){return Bs})),n.d(t,"asNativeElements",(function(){return um})),n.d(t,"assertPlatform",(function(){return Bg})),n.d(t,"createPlatform",(function(){return Vg})),n.d(t,"createPlatformFactory",(function(){return Ug})),n.d(t,"defineInjectable",(function(){return S})),n.d(t,"destroyPlatform",(function(){return qg})),n.d(t,"enableProdMode",(function(){return _r})),n.d(t,"forwardRef",(function(){return V})),n.d(t,"getDebugNode",(function(){return _m})),n.d(t,"getModuleFactory",(function(){return $g})),n.d(t,"getPlatform",(function(){return Hg})),n.d(t,"inject",(function(){return pe})),n.d(t,"isDevMode",(function(){return mr})),n.d(t,"platformCore",(function(){return Im})),n.d(t,"resolveForwardRef",(function(){return U})),n.d(t,"setTestabilityGetter",(function(){return xg})),n.d(t,"\u0275ALLOW_MULTIPLE_PLATFORMS",(function(){return jg})),n.d(t,"\u0275APP_ID_RANDOM_PROVIDER",(function(){return zy})),n.d(t,"\u0275ChangeDetectorStatus",(function(){return Oe})),n.d(t,"\u0275CodegenComponentFactoryResolver",(function(){return hh})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",(function(){return dg})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",(function(){return hg})),n.d(t,"\u0275Compiler_compileModuleAsync__POST_R3__",(function(){return cg})),n.d(t,"\u0275Compiler_compileModuleSync__POST_R3__",(function(){return sg})),n.d(t,"\u0275ComponentFactory",(function(){return ah})),n.d(t,"\u0275Console",(function(){return Xy})),n.d(t,"\u0275DEFAULT_LOCALE_ID",(function(){return ep})),n.d(t,"\u0275EMPTY_ARRAY",(function(){return Vf})),n.d(t,"\u0275EMPTY_MAP",(function(){return Uf})),n.d(t,"\u0275INJECTOR_IMPL__POST_R3__",(function(){return ts})),n.d(t,"\u0275INJECTOR_SCOPE",(function(){return Ba})),n.d(t,"\u0275LifecycleHooksFeature",(function(){return Ml})),n.d(t,"\u0275LocaleDataIndex",(function(){return Xd})),n.d(t,"\u0275NG_COMP_DEF",(function(){return Z})),n.d(t,"\u0275NG_DIR_DEF",(function(){return $})),n.d(t,"\u0275NG_ELEMENT_ID",(function(){return ne})),n.d(t,"\u0275NG_INJ_DEF",(function(){return N})),n.d(t,"\u0275NG_MOD_DEF",(function(){return J})),n.d(t,"\u0275NG_PIPE_DEF",(function(){return X})),n.d(t,"\u0275NG_PROV_DEF",(function(){return O})),n.d(t,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",(function(){return Od})),n.d(t,"\u0275NO_CHANGE",(function(){return Di})),n.d(t,"\u0275NgModuleFactory",(function(){return Jp})),n.d(t,"\u0275NoopNgZone",(function(){return Dg})),n.d(t,"\u0275ReflectionCapabilities",(function(){return Da})),n.d(t,"\u0275Render3ComponentFactory",(function(){return Bd})),n.d(t,"\u0275Render3ComponentRef",(function(){return qd})),n.d(t,"\u0275Render3NgModuleRef",(function(){return Xp})),n.d(t,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",(function(){return _a})),n.d(t,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",(function(){return Py})),n.d(t,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",(function(){return Ry})),n.d(t,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",(function(){return Va})),n.d(t,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",(function(){return Uy})),n.d(t,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",(function(){return Fy})),n.d(t,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",(function(){return ph})),n.d(t,"\u0275SWITCH_IVY_ENABLED__POST_R3__",(function(){return ig})),n.d(t,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",(function(){return _h})),n.d(t,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",(function(){return Uh})),n.d(t,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",(function(){return Hh})),n.d(t,"\u0275_sanitizeHtml",(function(){return Br})),n.d(t,"\u0275_sanitizeStyle",(function(){return zr})),n.d(t,"\u0275_sanitizeUrl",(function(){return Er})),n.d(t,"\u0275allowSanitizationBypassAndThrow",(function(){return cr})),n.d(t,"\u0275and",(function(){return Pm})),n.d(t,"\u0275angular_packages_core_core_a",(function(){return B})),n.d(t,"\u0275angular_packages_core_core_b",(function(){return he})),n.d(t,"\u0275angular_packages_core_core_ba",(function(){return Tt})),n.d(t,"\u0275angular_packages_core_core_bb",(function(){return Ot})),n.d(t,"\u0275angular_packages_core_core_bc",(function(){return jt})),n.d(t,"\u0275angular_packages_core_core_bd",(function(){return en})),n.d(t,"\u0275angular_packages_core_core_bf",(function(){return hv})),n.d(t,"\u0275angular_packages_core_core_bg",(function(){return fv})),n.d(t,"\u0275angular_packages_core_core_bh",(function(){return dv})),n.d(t,"\u0275angular_packages_core_core_bi",(function(){return pv})),n.d(t,"\u0275angular_packages_core_core_bj",(function(){return vv})),n.d(t,"\u0275angular_packages_core_core_bk",(function(){return Xr})),n.d(t,"\u0275angular_packages_core_core_bl",(function(){return p})),n.d(t,"\u0275angular_packages_core_core_bm",(function(){return v})),n.d(t,"\u0275angular_packages_core_core_bn",(function(){return E})),n.d(t,"\u0275angular_packages_core_core_bp",(function(){return u})),n.d(t,"\u0275angular_packages_core_core_bq",(function(){return Ai})),n.d(t,"\u0275angular_packages_core_core_c",(function(){return ge})),n.d(t,"\u0275angular_packages_core_core_d",(function(){return Es})),n.d(t,"\u0275angular_packages_core_core_e",(function(){return hs})),n.d(t,"\u0275angular_packages_core_core_f",(function(){return gs})),n.d(t,"\u0275angular_packages_core_core_g",(function(){return Qy})),n.d(t,"\u0275angular_packages_core_core_h",(function(){return pa})),n.d(t,"\u0275angular_packages_core_core_i",(function(){return va})),n.d(t,"\u0275angular_packages_core_core_j",(function(){return Yg})),n.d(t,"\u0275angular_packages_core_core_k",(function(){return am})),n.d(t,"\u0275angular_packages_core_core_l",(function(){return sm})),n.d(t,"\u0275angular_packages_core_core_m",(function(){return wm})),n.d(t,"\u0275angular_packages_core_core_n",(function(){return kh})),n.d(t,"\u0275angular_packages_core_core_o",(function(){return Oh})),n.d(t,"\u0275angular_packages_core_core_p",(function(){return Sm})),n.d(t,"\u0275angular_packages_core_core_q",(function(){return Dm})),n.d(t,"\u0275angular_packages_core_core_r",(function(){return Tm})),n.d(t,"\u0275angular_packages_core_core_s",(function(){return xm})),n.d(t,"\u0275angular_packages_core_core_t",(function(){return Om})),n.d(t,"\u0275angular_packages_core_core_u",(function(){return tp})),n.d(t,"\u0275angular_packages_core_core_v",(function(){return kd})),n.d(t,"\u0275angular_packages_core_core_w",(function(){return tf})),n.d(t,"\u0275angular_packages_core_core_x",(function(){return Ud})),n.d(t,"\u0275angular_packages_core_core_y",(function(){return Vn})),n.d(t,"\u0275angular_packages_core_core_z",(function(){return kt})),n.d(t,"\u0275bypassSanitizationTrustHtml",(function(){return hr})),n.d(t,"\u0275bypassSanitizationTrustResourceUrl",(function(){return vr})),n.d(t,"\u0275bypassSanitizationTrustScript",(function(){return dr})),n.d(t,"\u0275bypassSanitizationTrustStyle",(function(){return fr})),n.d(t,"\u0275bypassSanitizationTrustUrl",(function(){return pr})),n.d(t,"\u0275ccf",(function(){return Jf})),n.d(t,"\u0275clearOverrides",(function(){return sw})),n.d(t,"\u0275clearResolutionOfComponentResourcesQueue",(function(){return Rs})),n.d(t,"\u0275cmf",(function(){return uw})),n.d(t,"\u0275compileComponent",(function(){return ly})),n.d(t,"\u0275compileDirective",(function(){return hy})),n.d(t,"\u0275compileNgModule",(function(){return ny})),n.d(t,"\u0275compileNgModuleDefs",(function(){return ry})),n.d(t,"\u0275compileNgModuleFactory__POST_R3__",(function(){return Rg})),n.d(t,"\u0275compilePipe",(function(){return ky})),n.d(t,"\u0275createInjector",(function(){return Ga})),n.d(t,"\u0275crt",(function(){return uf})),n.d(t,"\u0275defaultIterableDiffers",(function(){return jh})),n.d(t,"\u0275defaultKeyValueDiffers",(function(){return Lh})),n.d(t,"\u0275detectChanges",(function(){return vu})),n.d(t,"\u0275devModeEqual",(function(){return Us})),n.d(t,"\u0275did",(function(){return Cd})),n.d(t,"\u0275eld",(function(){return Rm})),n.d(t,"\u0275findLocaleData",(function(){return Gd})),n.d(t,"\u0275flushModuleScopingQueueAsMuchAsPossible",(function(){return ey})),n.d(t,"\u0275getComponentViewDefinitionFactory",(function(){return ed})),n.d(t,"\u0275getDebugNodeR2",(function(){return Cm})),n.d(t,"\u0275getDebugNode__POST_R3__",(function(){return mm})),n.d(t,"\u0275getDirectives",(function(){return bl})),n.d(t,"\u0275getHostElement",(function(){return kl})),n.d(t,"\u0275getInjectableDef",(function(){return T})),n.d(t,"\u0275getLContext",(function(){return ai})),n.d(t,"\u0275getLocaleCurrencyCode",(function(){return Kd})),n.d(t,"\u0275getLocalePluralCase",(function(){return Yd})),n.d(t,"\u0275getModuleFactory__POST_R3__",(function(){return Zg})),n.d(t,"\u0275getSanitizationBypassType",(function(){return lr})),n.d(t,"\u0275global",(function(){return z})),n.d(t,"\u0275initServicesIfNeeded",(function(){return b_})),n.d(t,"\u0275inlineInterpolate",(function(){return jf})),n.d(t,"\u0275interpolate",(function(){return Mf})),n.d(t,"\u0275isBoundToModule__POST_R3__",(function(){return Mg})),n.d(t,"\u0275isDefaultChangeDetectionStrategy",(function(){return Ne})),n.d(t,"\u0275isListLikeIterable",(function(){return qs})),n.d(t,"\u0275isObservable",(function(){return Pu})),n.d(t,"\u0275isPromise",(function(){return Nu})),n.d(t,"\u0275ivyEnabled",(function(){return og})),n.d(t,"\u0275looseIdentical",(function(){return Vs})),n.d(t,"\u0275makeDecorator",(function(){return f})),n.d(t,"\u0275markDirty",(function(){return yu})),n.d(t,"\u0275mod",(function(){return zf})),n.d(t,"\u0275mpd",(function(){return Qf})),n.d(t,"\u0275ncd",(function(){return Wm})),n.d(t,"\u0275nov",(function(){return hd})),n.d(t,"\u0275overrideComponentView",(function(){return aw})),n.d(t,"\u0275overrideProvider",(function(){return ow})),n.d(t,"\u0275pad",(function(){return Gm})),n.d(t,"\u0275patchComponentDefWithScope",(function(){return ay})),n.d(t,"\u0275pid",(function(){return bd})),n.d(t,"\u0275pod",(function(){return Km})),n.d(t,"\u0275ppd",(function(){return zm})),n.d(t,"\u0275prd",(function(){return Ed})),n.d(t,"\u0275publishDefaultGlobalUtils",(function(){return xl})),n.d(t,"\u0275publishGlobalUtil",(function(){return Ol})),n.d(t,"\u0275qud",(function(){return Vm})),n.d(t,"\u0275registerLocaleData",(function(){return zd})),n.d(t,"\u0275registerModuleFactory",(function(){return Kp})),n.d(t,"\u0275registerNgModuleType",(function(){return Zp})),n.d(t,"\u0275renderComponent",(function(){return Nl})),n.d(t,"\u0275resetCompiledComponents",(function(){return iy})),n.d(t,"\u0275resetJitOptions",(function(){return Zv})),n.d(t,"\u0275resolveComponentResources",(function(){return xs})),n.d(t,"\u0275setClassMetadata",(function(){return zp})),n.d(t,"\u0275setCurrentInjector",(function(){return ce})),n.d(t,"\u0275setDocument",(function(){return at})),n.d(t,"\u0275setLocaleId",(function(){return Qp})),n.d(t,"\u0275store",(function(){return mu})),n.d(t,"\u0275stringify",(function(){return M})),n.d(t,"\u0275ted",(function(){return Zm})),n.d(t,"\u0275transitiveScopesFor",(function(){return sy})),n.d(t,"\u0275unregisterLocaleData",(function(){return $d})),n.d(t,"\u0275unv",(function(){return sf})),n.d(t,"\u0275unwrapSafeValue",(function(){return ur})),n.d(t,"\u0275vid",(function(){return Jm})),n.d(t,"\u0275whenRendered",(function(){return jl})),n.d(t,"\u0275\u0275CopyDefinitionFeature",(function(){return zl})),n.d(t,"\u0275\u0275InheritDefinitionFeature",(function(){return Vl})),n.d(t,"\u0275\u0275NgOnChangesFeature",(function(){return Kl})),n.d(t,"\u0275\u0275ProvidersFeature",(function(){return ih})),n.d(t,"\u0275\u0275advance",(function(){return Pi})),n.d(t,"\u0275\u0275attribute",(function(){return Zs})),n.d(t,"\u0275\u0275attributeInterpolate1",(function(){return au})),n.d(t,"\u0275\u0275attributeInterpolate2",(function(){return su})),n.d(t,"\u0275\u0275attributeInterpolate3",(function(){return uu})),n.d(t,"\u0275\u0275attributeInterpolate4",(function(){return cu})),n.d(t,"\u0275\u0275attributeInterpolate5",(function(){return lu})),n.d(t,"\u0275\u0275attributeInterpolate6",(function(){return hu})),n.d(t,"\u0275\u0275attributeInterpolate7",(function(){return fu})),n.d(t,"\u0275\u0275attributeInterpolate8",(function(){return du})),n.d(t,"\u0275\u0275attributeInterpolateV",(function(){return pu})),n.d(t,"\u0275\u0275classMap",(function(){return mc})),n.d(t,"\u0275\u0275classMapInterpolate1",(function(){return qc})),n.d(t,"\u0275\u0275classMapInterpolate2",(function(){return Hc})),n.d(t,"\u0275\u0275classMapInterpolate3",(function(){return Wc})),n.d(t,"\u0275\u0275classMapInterpolate4",(function(){return Qc})),n.d(t,"\u0275\u0275classMapInterpolate5",(function(){return zc})),n.d(t,"\u0275\u0275classMapInterpolate6",(function(){return Gc})),n.d(t,"\u0275\u0275classMapInterpolate7",(function(){return Kc})),n.d(t,"\u0275\u0275classMapInterpolate8",(function(){return Yc})),n.d(t,"\u0275\u0275classMapInterpolateV",(function(){return Zc})),n.d(t,"\u0275\u0275classProp",(function(){return vc})),n.d(t,"\u0275\u0275componentHostSyntheticListener",(function(){return Fu})),n.d(t,"\u0275\u0275contentQuery",(function(){return Vv})),n.d(t,"\u0275\u0275defaultStyleSanitizer",(function(){return ei})),n.d(t,"\u0275\u0275defineComponent",(function(){return je})),n.d(t,"\u0275\u0275defineDirective",(function(){return Qe})),n.d(t,"\u0275\u0275defineInjectable",(function(){return I})),n.d(t,"\u0275\u0275defineInjector",(function(){return D})),n.d(t,"\u0275\u0275defineNgModule",(function(){return qe})),n.d(t,"\u0275\u0275definePipe",(function(){return ze})),n.d(t,"\u0275\u0275directiveInject",(function(){return wu})),n.d(t,"\u0275\u0275disableBindings",(function(){return Dt})),n.d(t,"\u0275\u0275element",(function(){return Du})),n.d(t,"\u0275\u0275elementContainer",(function(){return xu})),n.d(t,"\u0275\u0275elementContainerEnd",(function(){return Au})),n.d(t,"\u0275\u0275elementContainerStart",(function(){return Tu})),n.d(t,"\u0275\u0275elementEnd",(function(){return Su})),n.d(t,"\u0275\u0275elementStart",(function(){return Iu})),n.d(t,"\u0275\u0275enableBindings",(function(){return St})),n.d(t,"\u0275\u0275getCurrentView",(function(){return Ou})),n.d(t,"\u0275\u0275getFactoryOf",(function(){return Kn})),n.d(t,"\u0275\u0275getInheritedFactory",(function(){return Yn})),n.d(t,"\u0275\u0275hostProperty",(function(){return vl})),n.d(t,"\u0275\u0275i18n",(function(){return Pp})),n.d(t,"\u0275\u0275i18nApply",(function(){return Lp})),n.d(t,"\u0275\u0275i18nAttributes",(function(){return Rp})),n.d(t,"\u0275\u0275i18nEnd",(function(){return Ap})),n.d(t,"\u0275\u0275i18nExp",(function(){return jp})),n.d(t,"\u0275\u0275i18nPostprocess",(function(){return Tp})),n.d(t,"\u0275\u0275i18nStart",(function(){return kp})),n.d(t,"\u0275\u0275inject",(function(){return fe})),n.d(t,"\u0275\u0275injectAttribute",(function(){return Cu})),n.d(t,"\u0275\u0275injectPipeChangeDetectorRef",(function(){return Gv})),n.d(t,"\u0275\u0275invalidFactory",(function(){return bu})),n.d(t,"\u0275\u0275invalidFactoryDep",(function(){return de})),n.d(t,"\u0275\u0275listener",(function(){return Ru})),n.d(t,"\u0275\u0275loadQuery",(function(){return qv})),n.d(t,"\u0275\u0275namespaceHTML",(function(){return sn})),n.d(t,"\u0275\u0275namespaceMathML",(function(){return an})),n.d(t,"\u0275\u0275namespaceSVG",(function(){return on})),n.d(t,"\u0275\u0275nextContext",(function(){return Vu})),n.d(t,"\u0275\u0275pipe",(function(){return yv})),n.d(t,"\u0275\u0275pipeBind1",(function(){return gv})),n.d(t,"\u0275\u0275pipeBind2",(function(){return mv})),n.d(t,"\u0275\u0275pipeBind3",(function(){return _v})),n.d(t,"\u0275\u0275pipeBind4",(function(){return wv})),n.d(t,"\u0275\u0275pipeBindV",(function(){return Cv})),n.d(t,"\u0275\u0275projection",(function(){return Wu})),n.d(t,"\u0275\u0275projectionDef",(function(){return Bu})),n.d(t,"\u0275\u0275property",(function(){return Eu})),n.d(t,"\u0275\u0275propertyInterpolate",(function(){return Qu})),n.d(t,"\u0275\u0275propertyInterpolate1",(function(){return zu})),n.d(t,"\u0275\u0275propertyInterpolate2",(function(){return Gu})),n.d(t,"\u0275\u0275propertyInterpolate3",(function(){return Ku})),n.d(t,"\u0275\u0275propertyInterpolate4",(function(){return Yu})),n.d(t,"\u0275\u0275propertyInterpolate5",(function(){return Zu})),n.d(t,"\u0275\u0275propertyInterpolate6",(function(){return $u})),n.d(t,"\u0275\u0275propertyInterpolate7",(function(){return Xu})),n.d(t,"\u0275\u0275propertyInterpolate8",(function(){return Ju})),n.d(t,"\u0275\u0275propertyInterpolateV",(function(){return ec})),n.d(t,"\u0275\u0275pureFunction0",(function(){return ev})),n.d(t,"\u0275\u0275pureFunction1",(function(){return tv})),n.d(t,"\u0275\u0275pureFunction2",(function(){return nv})),n.d(t,"\u0275\u0275pureFunction3",(function(){return rv})),n.d(t,"\u0275\u0275pureFunction4",(function(){return iv})),n.d(t,"\u0275\u0275pureFunction5",(function(){return ov})),n.d(t,"\u0275\u0275pureFunction6",(function(){return av})),n.d(t,"\u0275\u0275pureFunction7",(function(){return sv})),n.d(t,"\u0275\u0275pureFunction8",(function(){return uv})),n.d(t,"\u0275\u0275pureFunctionV",(function(){return cv})),n.d(t,"\u0275\u0275queryRefresh",(function(){return Fv})),n.d(t,"\u0275\u0275reference",(function(){return _u})),n.d(t,"\u0275\u0275resolveBody",(function(){return An})),n.d(t,"\u0275\u0275resolveDocument",(function(){return Tn})),n.d(t,"\u0275\u0275resolveWindow",(function(){return Dn})),n.d(t,"\u0275\u0275restoreView",(function(){return xt})),n.d(t,"\u0275\u0275sanitizeHtml",(function(){return Gr})),n.d(t,"\u0275\u0275sanitizeResourceUrl",(function(){return Zr})),n.d(t,"\u0275\u0275sanitizeScript",(function(){return $r})),n.d(t,"\u0275\u0275sanitizeStyle",(function(){return Kr})),n.d(t,"\u0275\u0275sanitizeUrl",(function(){return Yr})),n.d(t,"\u0275\u0275sanitizeUrlOrResourceUrl",(function(){return Jr})),n.d(t,"\u0275\u0275select",(function(){return Ri})),n.d(t,"\u0275\u0275setComponentScope",(function(){return Le})),n.d(t,"\u0275\u0275setNgModuleScope",(function(){return He})),n.d(t,"\u0275\u0275staticContentQuery",(function(){return Uv})),n.d(t,"\u0275\u0275staticViewQuery",(function(){return Mv})),n.d(t,"\u0275\u0275styleMap",(function(){return yc})),n.d(t,"\u0275\u0275styleMapInterpolate1",(function(){return $c})),n.d(t,"\u0275\u0275styleMapInterpolate2",(function(){return Xc})),n.d(t,"\u0275\u0275styleMapInterpolate3",(function(){return Jc})),n.d(t,"\u0275\u0275styleMapInterpolate4",(function(){return el})),n.d(t,"\u0275\u0275styleMapInterpolate5",(function(){return tl})),n.d(t,"\u0275\u0275styleMapInterpolate6",(function(){return nl})),n.d(t,"\u0275\u0275styleMapInterpolate7",(function(){return rl})),n.d(t,"\u0275\u0275styleMapInterpolate8",(function(){return il})),n.d(t,"\u0275\u0275styleMapInterpolateV",(function(){return ol})),n.d(t,"\u0275\u0275styleProp",(function(){return pc})),n.d(t,"\u0275\u0275stylePropInterpolate1",(function(){return al})),n.d(t,"\u0275\u0275stylePropInterpolate2",(function(){return sl})),n.d(t,"\u0275\u0275stylePropInterpolate3",(function(){return ul})),n.d(t,"\u0275\u0275stylePropInterpolate4",(function(){return cl})),n.d(t,"\u0275\u0275stylePropInterpolate5",(function(){return ll})),n.d(t,"\u0275\u0275stylePropInterpolate6",(function(){return hl})),n.d(t,"\u0275\u0275stylePropInterpolate7",(function(){return fl})),n.d(t,"\u0275\u0275stylePropInterpolate8",(function(){return dl})),n.d(t,"\u0275\u0275stylePropInterpolateV",(function(){return pl})),n.d(t,"\u0275\u0275styleSanitizer",(function(){return dc})),n.d(t,"\u0275\u0275template",(function(){return gu})),n.d(t,"\u0275\u0275templateRefExtractor",(function(){return zv})),n.d(t,"\u0275\u0275text",(function(){return Oc})),n.d(t,"\u0275\u0275textInterpolate",(function(){return Nc})),n.d(t,"\u0275\u0275textInterpolate1",(function(){return Pc})),n.d(t,"\u0275\u0275textInterpolate2",(function(){return Rc})),n.d(t,"\u0275\u0275textInterpolate3",(function(){return Fc})),n.d(t,"\u0275\u0275textInterpolate4",(function(){return Mc})),n.d(t,"\u0275\u0275textInterpolate5",(function(){return jc})),n.d(t,"\u0275\u0275textInterpolate6",(function(){return Lc})),n.d(t,"\u0275\u0275textInterpolate7",(function(){return Vc})),n.d(t,"\u0275\u0275textInterpolate8",(function(){return Uc})),n.d(t,"\u0275\u0275textInterpolateV",(function(){return Bc})),n.d(t,"\u0275\u0275updateSyntheticHostBinding",(function(){return yl})),n.d(t,"\u0275\u0275viewQuery",(function(){return jv}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function u(e){return{toString:e}.toString()}var c="__annotations__",l="__parameters__",h="__prop__metadata__";function f(e,t,n,r,i){return u((function(){var o=d(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return o.call.apply(o,[this].concat(t)),this;var s=_construct(a,t);return function(e){return i&&i.apply(void 0,[e].concat(t)),(e.hasOwnProperty(c)?e[c]:Object.defineProperty(e,c,{value:[]})[c]).push(s),r&&r(e),e}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a}))}function d(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function p(e,t,n){return u((function(){var r=d(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(l)?e[l]:Object.defineProperty(e,l,{value:[]})[l];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}function v(e,t,n,r){return u((function(){var i=d(t);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof o)return i.apply(this,t),this;var a=_construct(o,t);return function(e,n){var i=e.constructor,o=i.hasOwnProperty(h)?i[h]:Object.defineProperty(i,h,{value:{}})[h];o[n]=o.hasOwnProperty(n)&&o[n]||[],o[n].unshift(a),r&&r.apply(void 0,[e,n].concat(t))}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}))}var y=p("Inject",(function(e){return{token:e}})),g=p("Optional"),m=p("Self"),_=p("SkipSelf"),w=p("Host"),C=p("Attribute",(function(e){return{attributeName:e}})),b=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function E(e){for(var t in e)if(e[t]===E)return t;throw Error("Could not find renamed property on target object.")}function k(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var S=I;function D(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function T(e){return A(e,e[O])||A(e,e[R])}function A(e,t){return t&&t.token===e?t:null}function x(e){return e&&(e.hasOwnProperty(N)||e.hasOwnProperty(F))?e[N]:null}var O=E({"\u0275prov":E}),N=E({"\u0275inj":E}),P=E({"\u0275provFallback":E}),R=E({ngInjectableDef:E}),F=E({ngInjectorDef:E});function M(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(M).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function j(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var L=E({__forward_ref__:E});function V(e){return e.__forward_ref__=V,e.toString=function(){return M(this())},e}function U(e){return B(e)?e():e}function B(e){return"function"==typeof e&&e.hasOwnProperty(L)&&e.__forward_ref__===V}var q="undefined"!=typeof globalThis&&globalThis,H="undefined"!=typeof window&&window,W="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Q="undefined"!=typeof global&&global,z=q||Q||H||W,G=function(e){return e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid",e}({});function K(){var e=z.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}var Y,Z=E({"\u0275cmp":E}),$=E({"\u0275dir":E}),X=E({"\u0275pipe":E}),J=E({"\u0275mod":E}),ee=E({"\u0275loc":E}),te=E({"\u0275fac":E}),ne=E({__NG_ELEMENT_ID__:E}),re=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),ie=new re("INJECTOR",-1),oe={},ae=/\n/gm,se=E({provide:String,useValue:E}),ue=void 0;function ce(e){var t=ue;return ue=e,t}function le(e){var t=Y;return Y=e,t}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.Default;if(void 0===ue)throw new Error("inject() must be called from an injection context");return null===ue?ve(e,void 0,t):ue.get(e,t&b.Optional?null:void 0,t)}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.Default;return(Y||he)(U(e),t)}function de(e){throw new Error("invalid")}var pe=fe;function ve(e,t,n){var r=T(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&b.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(M(e),"]"))}function ye(e){for(var t=[],n=0;n<e.length;n++){var r=U(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=b.Default,a=0;a<r.length;a++){var s=r[a];s instanceof g||"Optional"===s.ngMetadataName||s===g?o|=b.Optional:s instanceof _||"SkipSelf"===s.ngMetadataName||s===_?o|=b.SkipSelf:s instanceof m||"Self"===s.ngMetadataName||s===m?o|=b.Self:i=s instanceof y||s===y?s.token:s}t.push(fe(i,o))}else t.push(fe(r))}return t}var ge=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;if(t===oe){var n=new Error("NullInjectorError: No provider for ".concat(M(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),me={"\u0275\u0275defineInjectable":I,"\u0275\u0275defineInjector":D,"\u0275\u0275inject":fe,"\u0275\u0275getFactoryOf":function e(t){var n=t;if(B(t))return function(){var t=e(U(n));return t?t():null};var r=T(n)||x(n);return r&&void 0!==r.factory?r.factory:null},"\u0275\u0275invalidFactoryDep":de},_e=function e(){_classCallCheck(this,e)},we=function e(){_classCallCheck(this,e)};function Ce(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function be(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),be(r,t)):t!==e&&t.push(r)}return t}function Ee(e,t){e.forEach((function(e){return Array.isArray(e)?Ee(e,t):t(e)}))}function ke(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ie(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Se(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function De(e,t,n){var r=Ae(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function Te(e,t){var n=Ae(e,t);if(n>=0)return e[1|n]}function Ae(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var xe=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Oe=function(){var e={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return e[e.CheckOnce]="CheckOnce",e[e.Checked]="Checked",e[e.CheckAlways]="CheckAlways",e[e.Detached]="Detached",e[e.Errored]="Errored",e[e.Destroyed]="Destroyed",e}();function Ne(e){return null==e||e===xe.Default}var Pe=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Re={},Fe=[],Me=0;function je(e){return u((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Fe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Pe.Emulated,id:"c",styles:e.styles||Fe,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=Me++,i.inputs=We(e.inputs,r),i.outputs=We(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Ve)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Ue)}:null,i}))}function Le(e,t,n){var r=e.\u0275cmp;r.directiveDefs=function(){return t.map(Ve)},r.pipeDefs=function(){return n.map(Ue)}}function Ve(e){return Ge(e)||Ke(e)}function Ue(e){return Ye(e)}var Be={};function qe(e){var t={type:e.type,bootstrap:e.bootstrap||Fe,declarations:e.declarations||Fe,imports:e.imports||Fe,exports:e.exports||Fe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&u((function(){Be[e.id]=e.type})),t}function He(e,t){return u((function(){var n=$e(e,!0);n.declarations=t.declarations||Fe,n.imports=t.imports||Fe,n.exports=t.exports||Fe}))}function We(e,t){if(null==e)return Re;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var Qe=je;function ze(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ge(e){return e[Z]||null}function Ke(e){return e[$]||null}function Ye(e){return e[X]||null}function Ze(e,t){return e.hasOwnProperty(te)?e[te]:null}function $e(e,t){var n=e[J]||null;if(!n&&!0===t)throw new Error("Type ".concat(M(e)," does not have '\u0275mod' property."));return n}function Xe(e){return Array.isArray(e)&&"object"==typeof e[1]}function Je(e){return Array.isArray(e)&&!0===e[1]}function et(e){return 0!=(8&e.flags)}function tt(e){return 2==(2&e.flags)}function nt(e){return 1==(1&e.flags)}function rt(e){return null!==e.template}function it(e){return 0!=(512&e[2])}var ot=void 0;function at(e){ot=e}function st(){return void 0!==ot?ot:"undefined"!=typeof document?document:void 0}function ut(e){return!!e.listen}var ct={createRenderer:function(e,t){return st()}};function lt(e){for(;Array.isArray(e);)e=e[0];return e}function ht(e,t){return lt(t[e+20])}function ft(e,t){return lt(t[e.index])}function dt(e,t){var n=e.index;return-1!==n?lt(t[n]):null}function pt(e,t){return e.data[t+20]}function vt(e,t){return e[t+20]}function yt(e,t){var n=t[e];return Xe(n)?n:n[0]}function gt(e){return e.__ngContext__||null}function mt(e){var t=gt(e);return t?Array.isArray(t)?t:t.lView:null}function _t(e){return 4==(4&e[2])}function wt(e){return 128==(128&e[2])}function Ct(e,t){return null===e||null==t?null:e[t]}function bt(e){e[18]=0}function Et(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var kt={lFrame:Zt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function It(){return kt.bindingsEnabled}function St(){kt.bindingsEnabled=!0}function Dt(){kt.bindingsEnabled=!1}function Tt(){return kt.lFrame.lView}function At(){return kt.lFrame.tView}function xt(e){kt.lFrame.contextLView=e}function Ot(){return kt.lFrame.previousOrParentTNode}function Nt(e,t){kt.lFrame.previousOrParentTNode=e,kt.lFrame.isParent=t}function Pt(){return kt.lFrame.isParent}function Rt(){kt.lFrame.isParent=!1}function Ft(){return kt.checkNoChangesMode}function Mt(e){kt.checkNoChangesMode=e}function jt(){var e=kt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Lt(){return kt.lFrame.bindingIndex}function Vt(e){return kt.lFrame.bindingIndex=e}function Ut(){return kt.lFrame.bindingIndex++}function Bt(e){var t=kt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function qt(e,t){var n=kt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ht(t)}function Ht(e){kt.lFrame.currentDirectiveIndex=e}function Wt(e){var t=kt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Qt(){return kt.lFrame.currentQueryIndex}function zt(e){kt.lFrame.currentQueryIndex=e}function Gt(e,t){var n=Yt();kt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Kt(e,t){var n=Yt(),r=e[1];kt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function Yt(){var e=kt.lFrame,t=null===e?null:e.child;return null===t?Zt(e):t}function Zt(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function $t(){var e=kt.lFrame;return kt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Xt=$t;function Jt(){var e=$t();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function en(e){return(kt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,kt.lFrame.contextLView))[8]}function tn(){return kt.lFrame.selectedIndex}function nn(e){kt.lFrame.selectedIndex=e}function rn(){var e=kt.lFrame;return pt(e.tView,e.selectedIndex)}function on(){kt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function an(){kt.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function sn(){kt.lFrame.currentNamespace=null}function un(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function cn(e,t,n){fn(e,t,3,n)}function ln(e,t,n,r){(3&e[2])===n&&fn(e,t,n,r)}function hn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function fn(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(dn(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function dn(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var pn=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function vn(e,t,n){for(var r=ut(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];gn(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function yn(e){return 3===e||4===e||6===e}function gn(e){return 64===e.charCodeAt(0)}function mn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||_n(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function _n(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function wn(e){return-1!==e}function Cn(e){return 32767&e}function bn(e){return e>>16}function En(e,t){for(var n=bn(e),r=t;n>0;)r=r[15],n--;return r}function kn(e){return"string"==typeof e?e:null==e?"":""+e}function In(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():kn(e)}var Sn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z);function Dn(e){return{name:"window",target:e.ownerDocument.defaultView}}function Tn(e){return{name:"document",target:e.ownerDocument}}function An(e){return{name:"body",target:e.ownerDocument.body}}function xn(e){return e instanceof Function?e():e}var On=!0;function Nn(e){var t=On;return On=e,t}var Pn=0;function Rn(e,t){var n=Mn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Fn(r.data,e),Fn(t,null),Fn(r.blueprint,null));var i=jn(e,t),o=e.injectorIndex;if(wn(i))for(var a=Cn(i),s=En(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function Fn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Mn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function jn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Ln(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[ne]:n.charCodeAt(0)||0;null==r&&(r=n[ne]=Pn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function Vn(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(yn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}function Un(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[ne];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){Gt(t,e);try{var a=o();if(null!=a||r&b.Optional)return a;throw new Error("No provider for ".concat(In(n),"!"))}finally{Xt()}}else if("number"==typeof o){if(-1===o)return new Gn(e,t);var s=null,u=Mn(e,t),c=-1,l=r&b.Host?t[16][6]:null;for((-1===u||r&b.SkipSelf)&&(c=-1===u?jn(e,t):t[u+8],zn(r,!1)?(s=t[1],u=Cn(c),t=En(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(Qn(o,u,h.data)){var f=qn(u,t,n,s,r,l);if(f!==Bn)return f}zn(r,t[1].data[u+8]===l)&&Qn(o,u,t)?(s=h,u=Cn(c),t=En(c,t)):u=-1}}}if(r&b.Optional&&void 0===i&&(i=null),0==(r&(b.Self|b.Host))){var d=t[9],p=le(void 0);try{return d?d.get(n,i,r&b.Optional):ve(n,i,r&b.Optional)}finally{le(p)}}if(r&b.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(In(n),"]"))}var Bn={};function qn(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=Hn(s,a,n,null==r?tt(s)&&On:r!=a&&3===s.type,i&b.Host&&o===s);return null!==u?Wn(t,a,u,s):Bn}function Hn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,c=o>>16,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&rt(d)&&d.type===n)return u}return null}function Wn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof pn){var a=i;if(a.resolving)throw new Error("Circular dep for "+In(o[n]));var s,u=Nn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=le(a.injectImpl)),Gt(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&le(s),Nn(u),a.resolving=!1,Xt()}}return i}function Qn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function zn(e,t){return!(e&b.Self||e&b.Host&&t)}var Gn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return Un(this._tNode,this._lView,e,void 0,t)}}]),e}();function Kn(e){var t=e;if(B(e))return function(){var e=Kn(U(t));return e?e():null};var n=Ze(t);if(null===n){var r=x(t);n=r&&r.factory}return n||null}function Yn(e){return u((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[te]||Kn(t);return null!==n?n:function(e){return new e}}))}function Zn(e){return e.ngDebugContext}function $n(e){return e.ngOriginalError}function Xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Jn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Xn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Zn(e)?Zn(e):this._findContext($n(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=$n(e);t&&$n(t);)t=$n(t);return t}}]),e}(),er={name:"custom-elements"},tr={name:"no-errors-schema"},nr=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),rr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(nr),ir=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(nr),or=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(nr),ar=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(nr),sr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(nr);function ur(e){return e instanceof nr?e.changingThisBreaksApplicationSecurity:e}function cr(e,t){var n=lr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function lr(e){return e instanceof nr&&e.getTypeName()||null}function hr(e){return new rr(e)}function fr(e){return new ir(e)}function dr(e){return new or(e)}function pr(e){return new ar(e)}function vr(e){return new sr(e)}var yr=!0,gr=!1;function mr(){return gr=!0,yr}function _r(){if(gr)throw new Error("Cannot enable prod mode after platform setup.");yr=!1}var wr=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Cr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Er(e){return(e=String(e)).match(Cr)||e.match(br)?e:(mr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function kr(e){return(e=String(e)).split(",").map((function(e){return Er(e.trim())})).join(", ")}function Ir(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Sr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var Dr,Tr=Ir("area,br,col,hr,img,wbr"),Ar=Ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xr=Ir("rp,rt"),Or=Sr(xr,Ar),Nr=Sr(Tr,Sr(Ar,Ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sr(xr,Ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Or),Pr=Ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rr=Ir("srcset"),Fr=Sr(Pr,Rr,Ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mr=Ir("script,style,template"),jr=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Nr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Mr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(Fr.hasOwnProperty(a)){var s=i.value;Pr[a]&&(s=Er(s)),Rr[a]&&(s=kr(s)),this.buf.push(" ",o,'="',Ur(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Nr.hasOwnProperty(t)&&!Tr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Ur(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),Lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vr=/([^\#-~ |!])/g;function Ur(e){return e.replace(/&/g,"&amp;").replace(Lr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Vr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Br(e,t){var n=null;try{Dr=Dr||new wr(e);var r=t?String(t):"";n=Dr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Dr.getInertBodyElement(r)}while(r!==o);var a=new jr,s=a.sanitizeChildren(qr(n)||n);return mr()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=qr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function qr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Hr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Wr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Qr=/^url\(([^)]+)\)$/;function zr(e){if(!(e=String(e).trim()))return"";var t=e.match(Qr);return t&&Er(t[1])===t[1]||e.match(Wr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(mr()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function Gr(e){var t=ni();return t?t.sanitize(Hr.HTML,e)||"":cr(e,"HTML")?ur(e):Br(st(),kn(e))}function Kr(e){var t=ni();return t?t.sanitize(Hr.STYLE,e)||"":cr(e,"Style")?ur(e):zr(kn(e))}function Yr(e){var t=ni();return t?t.sanitize(Hr.URL,e)||"":cr(e,"URL")?ur(e):Er(kn(e))}function Zr(e){var t=ni();if(t)return t.sanitize(Hr.RESOURCE_URL,e)||"";if(cr(e,"ResourceURL"))return ur(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function $r(e){var t=ni();if(t)return t.sanitize(Hr.SCRIPT,e)||"";if(cr(e,"Script"))return ur(e);throw new Error("unsafe value used in a script context")}function Xr(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Zr:Yr}function Jr(e,t,n){return Xr(t,n)(e)}var ei=function(e,t,n){if(void 0===t&&void 0===n)return Kr(e);var r=!0;return 1&(n=n||3)&&(r=ti(e)),2&n?r?Kr(t):ur(t):r};function ti(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"border-image-source"===e||"borderImageSource"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}function ni(){var e=Tt();return e&&e[12]}function ri(e){return"ng-reflect-"+e.replace(/[$@]/g,"_").replace(ii,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()}))}var ii=/([A-Z])/g;function oi(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function ai(e){var t,n=gt(e);if(n){if(Array.isArray(n)){var r,i=n,o=void 0,a=void 0;if((t=e)&&t.constructor&&t.constructor.\u0275cmp){if(-1==(r=fi(i,e)))throw new Error("The provided component was not found in the application");o=e}else if(function(e){return e&&e.constructor&&e.constructor.\u0275dir}(e)){if(-1==(r=function(e,t){for(var n=e[1].firstChild;n;){for(var r=n.directiveEnd,i=n.directiveStart;i<r;i++)if(e[i]===t)return n.index;n=hi(n)}return-1}(i,e)))throw new Error("The provided directive was not found in the application");a=di(r,i,!1)}else if(-1==(r=li(i,e)))return null;var s=lt(i[r]),u=gt(s),c=u&&!Array.isArray(u)?u:si(i,r,s);if(o&&void 0===c.component&&(c.component=o,ci(c.component,c)),a&&void 0===c.directives){c.directives=a;for(var l=0;l<a.length;l++)ci(a[l],c)}ci(c.native,c),n=c}}else for(var h=e,f=h;f=f.parentNode;){var d=gt(f);if(d){var p;if(!(p=Array.isArray(d)?d:d.lView))return null;var v=li(p,h);if(v>=0){var y=lt(p[v]),g=si(p,v,y);ci(y,g),n=g;break}}}return n||null}function si(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function ui(e){var t,n=gt(e);if(Array.isArray(n)){var r=fi(n,e),i=si(n,r,(t=yt(r,n))[0]);i.component=e,ci(e,i),ci(i.native,i)}else t=yt(n.nodeIndex,n.lView);return t}function ci(e,t){e.__ngContext__=t}function li(e,t){for(var n=e[1].firstChild;n;){if(dt(n,e)===t)return n.index;n=hi(n)}return-1}function hi(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function fi(e,t){var n=e[1].components;if(n)for(var r=0;r<n.length;r++){var i=n[r];if(yt(i,e)[8]===t)return i}else if(yt(20,e)[8]===t)return 20;return-1}function di(e,t,n){var r=t[1].data[e],i=r.directiveStart;return 0==i?Fe:(!n&&2&r.flags&&i++,t.slice(i,r.directiveEnd))}function pi(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function vi(){throw new Error("Cannot mix multi providers and regular providers")}function yi(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function gi(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==yi((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function mi(e){return 0===e.type&&"ng-template"!==e.tagName}function _i(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function wi(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(yn(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!_i(e,u,n)||""===u&&1===t.length){if(Ci(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!gi(e.attrs,c,n)){if(Ci(r))return!1;a=!0}continue}var l=bi(8&r?"class":u,i,mi(e),n);if(-1===l){if(Ci(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==yi(f,c,0)||2&r&&c!==h){if(Ci(r))return!1;a=!0}}}}else{if(!a&&!Ci(r)&&!Ci(u))return!1;if(a&&Ci(u))continue;a=!1,r=u|1&r}}return Ci(r)||a}function Ci(e){return 0==(1&e)}function bi(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ei(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(wi(e,t[r],n))return!0;return!1}function ki(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Ii(e,t){return e?":not("+t.trim()+")":t}function Si(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Ci(a)||(t+=Ii(o,i),i=""),r=a,o=o||!Ci(r);n++}return""!==i&&(t+=Ii(o,i)),t}var Di={};function Ti(e){var t=e[3];return Je(t)?t[3]:t}function Ai(e){return function(e){for(var t=Xe(e)?e:mt(e);t&&!(512&t[2]);)t=Ti(t);return t}(e)[8]}function xi(e){return Ni(e[13])}function Oi(e){return Ni(e[4])}function Ni(e){for(;null!==e&&!Je(e);)e=e[4];return e}function Pi(e){Fi(At(),Tt(),tn()+e,Ft())}function Ri(e){Fi(At(),Tt(),e,Ft())}function Fi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&cn(t,i,n)}else{var o=e.preOrderHooks;null!==o&&ln(t,o,0,n)}nn(n)}var Mi={marker:"element"},ji={marker:"comment"};function Li(e,t){return e<<17|t<<2}function Vi(e){return e>>17&32767}function Ui(e){return 2|e}function Bi(e){return(131068&e)>>2}function qi(e,t){return-131069&e|t<<2}function Hi(e){return 1|e}var Wi=Promise.resolve(null);function Qi(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];zt(i),a.contentQueries(2,t[o],o)}}}function zi(e,t,n){return ut(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Gi(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,bt(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Ki(e,t,n,r,i,o){var a=n+20,s=e.data[a]||function(e,t,n,r,i,o){var a=Ot(),s=Pt(),u=s?a:a&&a.parent,c=e.data[n]=oo(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(e,t,a,r,i,o);return Nt(s,!0),s}function Yi(e,t,n){Kt(t,t[6]);try{var r=e.viewQuery;null!==r&&xo(1,r,n);var i=e.template;null!==i&&Xi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Qi(e,t),e.staticViewQueries&&xo(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)ko(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,Jt()}}function Zi(e,t,n,r){var i=t[2];if(256!=(256&i)){Kt(t,t[6]);var o=Ft();try{bt(t),Vt(e.bindingStartIndex),null!==n&&Xi(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&cn(t,s,null)}else{var u=e.preOrderHooks;null!==u&&ln(t,u,0,null),hn(t,0)}if(function(e){for(var t=xi(e);null!==t;t=Oi(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Et(o,1),i[2]|=1024}}(t),function(e){for(var t=xi(e);null!==t;t=Oi(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];wt(r)&&Zi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Qi(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&cn(t,c)}else{var l=e.contentHooks;null!==l&&ln(t,l,1),hn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(nn(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(qt(r,i),a(2,t[i])),i++)}}finally{nn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)Eo(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&xo(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&cn(t,d)}else{var p=e.viewHooks;null!==p&&ln(t,p,2),hn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Et(t[3],-1))}finally{Jt()}}}function $i(e,t,n,r){var i=t[10],o=!Ft(),a=_t(t);try{o&&!a&&i.begin&&i.begin(),a&&Yi(e,t,r),Zi(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Xi(e,t,n,r,i){var o=tn();try{nn(-1),2&r&&t.length>20&&Fi(e,t,0,Ft()),n(r,i)}finally{nn(o)}}function Ji(e,t,n){if(et(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function eo(e,t,n){It()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Rn(n,t),ci(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=rt(u);c&&mo(t,n,u);var l=Wn(t,e,s,n);ci(l,t),null!==a&&wo(0,s-i,l,u,0,a),c&&(yt(n.index,t)[8]=l)}}(e,t,n,ft(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,u=kt.lFrame.currentDirectiveIndex;try{nn(s);for(var c=r;c<i;c++){var l=e.data[c],h=t[c];Ht(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ho(l,h):a&&o.push(null)}}finally{nn(-1),Ht(u)}}(e,t,n))}function to(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function no(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ro(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ro(e,t,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Di);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function io(e,t,n){if(ut(e))return e.selectRootElement(t,n===Pe.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}function oo(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ao(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function so(e,t,n,r,i,o,a,s){var u,c=ft(t,n),l=t.inputs;!s&&null!=l&&(u=l[r])?(Mo(e,n,u,r,i),tt(t)&&function(e,t){var n=yt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=a?a(i,t.tagName||"",r):i,ut(o)?o.setProperty(c,r,i):gn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function uo(e,t,n,r){var i=!1;if(It()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Ei(n,a.selectors,!1)&&(i||(i=[]),Ln(Rn(n,t),e,a.type),rt(a)?(2&n.flags&&pi(n),po(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,yo(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}fo(e,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=mn(n.mergedAttrs,d.hostAttrs),go(e,t,d),vo(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),co(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||mi(t)?null:Co(l,i);o.push(h),a=ao(l,u,a),s=ao(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),lo(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=mn(n.mergedAttrs,n.attrs),i}function co(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function lo(e,t,n){for(var r=0;r<n;r++)t.push(Di),e.blueprint.push(Di),e.data.push(null)}function ho(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function fo(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function po(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function vo(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;rt(t)&&(n[""]=e)}}function yo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function go(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Ze(n.type)),i=new pn(r,rt(n),null);e.blueprint.push(i),t.push(i)}function mo(e,t,n){var r=ft(t,e),i=no(n),o=e[10],a=Io(e,Gi(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function _o(e,t,n,r,i,o){var a=ft(e,t),s=t[11];if(null==r)ut(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?kn(r):i(r,e.tagName||"",n);ut(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}function wo(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Co(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function bo(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Eo(e,t){var n=yt(t,e);if(wt(n)){var r=n[1];80&n[2]?Zi(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=xi(t);null!==n;n=Oi(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Zi(o,i,o.template,i[8])}else i[5]>0&&e(i)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=yt(a[s],t);wt(u)&&u[5]>0&&e(u)}}(n)}}function ko(e,t){var n=yt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Yi(r,n,n[8])}function Io(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function So(e){for(;e;){e[2]|=64;var t=Ti(e);if(it(e)&&!t)return e;e=t}return null}function Do(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=mt(n),i=r[1];$i(i,r,i.template,n)}}function To(e,t,n){var r=t[10];r.begin&&r.begin();try{Zi(e,t,e.template,n)}catch(i){throw Fo(t,i),i}finally{r.end&&r.end()}}function Ao(e){Do(e[8])}function xo(e,t,n){zt(0),t(e,n)}var Oo=Wi;function No(e){return e[7]||(e[7]=[])}function Po(e){return e.cleanup||(e.cleanup=[])}function Ro(e,t,n){return(null===e||rt(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Fo(e,t){var n=e[9],r=n?n.get(Jn,null):null;r&&r.handleError(t)}function Mo(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function jo(e,t,n){var r=ht(t,e),i=e[11];ut(i)?i.setValue(r,n):r.textContent=n}function Lo(e,t){var n=t[3];return-1===e.index?Je(n)?n:null:n}function Vo(e,t){var n=Lo(e,t);return n?Xo(t[11],n[7]):null}function Uo(e,t,n,r,i){if(null!=r){var o,a=!1;Je(r)?o=r:Xe(r)&&(a=!0,r=r[0]);var s=lt(r);0===e&&null!==n?null==i?Zo(t,n,s):Yo(t,n,s,i||null):1===e&&null!==n?Yo(t,n,s,i||null):2===e?na(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==lt(n)&&Uo(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];ia(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Bo(e,t){return ut(t)?t.createText(e):t.createTextNode(e)}function qo(e,t,n,r){var i=Vo(e.node,t);i&&ia(e,t,t[11],n?1:2,i,r)}function Ho(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&Et(t[3],-1),n.splice(r,1)}function Wo(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Ho(i,r),t>0&&(e[n-1][4]=r[4]);var o=Ie(e,10+t);qo(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Qo(e,t){if(!(256&t[2])){var n=t[11];ut(n)&&n.destroyNode&&ia(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Go(e[1],e);for(;t;){var n=null;if(Xe(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Xe(t)&&Go(t[1],t),t=zo(t,e);null===t&&(t=e),Xe(t)&&Go(t[1],t),n=t&&t[4]}t=n}}(t)}}function zo(e,t){var n;return Xe(e)&&(n=e[6])&&2===n.type?Lo(n,e):e[3]===t?null:e[3]}function Go(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof pn)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):lt(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&ut(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Je(t[3])){r!==t[3]&&Ho(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function Ko(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Vo(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return ft(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Pe.ShadowDom&&a!==Pe.Native)return null}return ft(r,n)}function Yo(e,t,n,r){ut(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Zo(e,t,n){ut(e)?e.appendChild(t,n):t.appendChild(n)}function $o(e,t,n,r){null!==r?Yo(e,t,n,r):Zo(e,t,n)}function Xo(e,t){return ut(e)?e.parentNode(t):t.parentNode}function Jo(e,t){if(2===e.type){var n=Lo(e,t);return null===n?null:ta(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?ft(e,t):null}function ea(e,t,n,r){var i=Ko(e,r,t);if(null!=i){var o=t[11],a=Jo(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)$o(o,i,n[s],a);else $o(o,i,n,a)}}function ta(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return ft(n,t);if(0===r)return ta(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Je(o)?ta(-1,o):lt(o)}var a=t[16],s=a[6],u=Ti(a),c=s.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function na(e,t,n){var r=Xo(e,t);r&&function(e,t,n,r){ut(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function ra(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&ci(lt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(ra(e,t,n.child,r,i,o,!1),Uo(t,e,i,s,o)):1===u?aa(e,t,r,n,i,o):Uo(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function ia(e,t,n,r,i,o){ra(n,r,e.node.child,t,i,o,!1)}function oa(e,t,n){aa(t[11],0,t,n,Ko(e,n,t),Jo(n.parent||t[6],t))}function aa(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Uo(t,e,i,s[u],o);else ra(e,t,s,a[3],i,o,!0)}function sa(e,t,n){ut(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ua(e,t,n){ut(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var ca,la,ha,fa=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Qo(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,No(n=this._lView).push(r),t.firstCreatePass&&Po(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){So(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){To(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Mt(!0);try{To(e,t,n)}finally{Mt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,ia(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(lt(a)),Je(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Ti(h);e(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),da=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){Ao(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Mt(!0);try{Ao(e)}finally{Mt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(fa);function pa(e,t,n){return ca||(ca=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new ca(ft(t,n))}function va(e,t,n,r){return la||(la=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Gi(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Yi(t,n,e),new fa(n)}}]),n}(e)),0===n.type?new la(r,n,pa(t,n,r)):null}function ya(e,t,n,r){var i;ha||(ha=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(_e,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Je(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new ha(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],ke(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),qo(r,n,!0,ta(s,this._lContainer)),e.attachToViewContainerRef(this),ke(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=Wo(e,t);n&&Qo(n[1],n)}(this._lContainer,t),Ie(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Wo(this._lContainer,t);return n&&null!=Ie(this._lContainer[8],t)?new fa(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return pa(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Gn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=jn(this._hostTNode,this._hostView),t=En(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=bn(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return wn(e)&&null!=n?new Gn(n,t):new Gn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(e));var o=r[n.index];if(Je(o))i=o;else{var a;if(4===n.type)a=lt(o);else if(a=r[11].createComment(""),it(r)){var s=r[11],u=ft(n,r);Yo(s,Xo(s,u),a,function(e,t){return ut(e)?e.nextSibling(t):t.nextSibling}(s,u))}else ea(r[1],r,a,n);r[n.index]=i=bo(o,r,a,n),Io(r,i)}return new ha(i,n,r)}function ga(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&tt(e)){var r=yt(e.index,t);return new fa(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new fa(t[16],t):null}(Ot(),Tt(),e)}var ma=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return wa()},e}(),_a=ga,wa=_a,Ca=Function;function ba(e){return"function"==typeof e}var Ea=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,ka=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ia=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Sa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/,Da=function(){function e(t){_classCallCheck(this,e),this._reflect=t||z.Reflect}return _createClass(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _construct(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=Se(void 0===e?t.length:e.length);for(var r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),Ea.test(n)||Sa.test(n)||ka.test(n)&&!Ia.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==t.ctorParameters){var i="function"==typeof r?r():r,o=i.map((function(e){return e&&e.type})),a=i.map((function(e){return e&&Ta(e.decorators)}));return this._zipTypesAndAnnotations(o,a)}var s=e.hasOwnProperty(l)&&e[l],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return u||s?this._zipTypesAndAnnotations(u,s):Se(e.length)}},{key:"parameters",value:function(e){if(!ba(e))return[];var t=Aa(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?Ta(e.decorators):e.hasOwnProperty(c)?e[c]:null}},{key:"annotations",value:function(e){if(!ba(e))return[];var t=Aa(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,i={};return Object.keys(r).forEach((function(e){i[e]=Ta(r[e])})),i}return e.hasOwnProperty(h)?e[h]:null}},{key:"propMetadata",value:function(e){if(!ba(e))return{};var t=Aa(e),n={};if(t!==Object){var r=this.propMetadata(t);Object.keys(r).forEach((function(e){n[e]=r[e]}))}var i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,_toConsumableArray(n[e])),t.push.apply(t,_toConsumableArray(i[e])),n[e]=t})),n}},{key:"ownPropMetadata",value:function(e){return ba(e)&&this._ownPropMetadata(e,Aa(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof Ca&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){return new Function("o","args","if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);"))}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+M(e)}},{key:"resourceUri",value:function(e){return"./"+M(e)}},{key:"resolveIdentifier",value:function(e,t,n,r){return r}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function Ta(e){return e?e.map((function(e){return _construct(e.type.annotationCls,_toConsumableArray(e.args?e.args:[]))})):[]}function Aa(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var xa=null;function Oa(){return xa=xa||new Da}function Na(e){return Pa(Oa().parameters(e))}function Pa(e){var t=K();return e.map((function(e){return function(e,t){var n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)&&t.length>0)for(var i=0;i<t.length;i++){var o=t[i];if(void 0!==o){var a=Object.getPrototypeOf(o);if(o instanceof g||"Optional"===a.ngMetadataName)n.optional=!0;else if(o instanceof _||"SkipSelf"===a.ngMetadataName)n.skipSelf=!0;else if(o instanceof m||"Self"===a.ngMetadataName)n.self=!0;else if(o instanceof w||"Host"===a.ngMetadataName)n.host=!0;else if(o instanceof y)n.token=o.token;else if(o instanceof C){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else o===ma?(n.token=o,n.resolved=e.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}}else void 0===t||Array.isArray(t)&&0===t.length?(n.token=void 0,n.resolved=G.Invalid):r(t);return n}(t,e)}))}var Ra=E({provide:String,useValue:E});function Fa(e){return void 0!==e.useClass}function Ma(e){return void 0!==e.useFactory}function ja(e,t){var n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn,userDeps:void 0};return(Fa(n)||Ma(n))&&void 0!==n.deps&&(r.userDeps=Pa(n.deps)),Fa(n)?r.useClass=U(n.useClass):function(e){return Ra in e}(n)?r.useValue=U(n.useValue):Ma(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=U(n.useExisting)),r}var La=f("Injectable",void 0,void 0,void 0,(function(e,t){return Ua(e,t)})),Va=function(e,t){var n=null,r=null;e.hasOwnProperty(O)||(Object.defineProperty(e,O,{get:function(){return null===n&&(n=K().compileInjectable(me,"ng:///".concat(e.name,"/\u0275prov.js"),ja(e,t))),n}}),e.hasOwnProperty(P)||(e[P]=function(){return e[O]})),e.hasOwnProperty(te)||Object.defineProperty(e,te,{get:function(){if(null===r){var n=ja(e,t),i=K();r=i.compileFactory(me,"ng:///".concat(e.name,"/\u0275fac.js"),{name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:Na(e),injectFn:"inject",target:i.R3FactoryTarget.Injectable})}return r},configurable:!0})},Ua=Va,Ba=new re("Set Injector scope."),qa={},Ha={},Wa=[],Qa=void 0;function za(){return void 0===Qa&&(Qa=new ge),Qa}function Ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Ka(e,t,n,r);return i._resolveInjectorDefTypes(),i}function Ka(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Ya(e,n,t||za(),r)}var Ya=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&Ee(n,(function(e){return i.processProvider(e,t,n)})),Ee([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(ie,Xa(void 0,this));var s=this.records.get(Ba);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:M(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.Default;this.assertNotDestroyed();var r,i=ce(this);try{if(!(n&b.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof re)&&T(e);o=a&&this.injectableDefInScope(a)?Xa(Za(e),qa):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&b.Self?za():this.parent).get(e,t=n&b.Optional&&t===oe?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(M(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=M(t);if(Array.isArray(t))i=t.map(M).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):M(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(ae,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{ce(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(M(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=U(e)))return!1;var i=x(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=x(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{Ee(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;Ee(i,(function(e){return r.processProvider(e,n,i||Wa)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,Xa(i.factory,qa));var h=i.providers;if(null!=h&&!s){var f=e;Ee(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=es(e=U(e))?e:U(e&&e.provide),i=function(e,t,n){return Ja(e)?Xa(void 0,e.useValue):Xa($a(e,t,n),qa)}(e,t,n);if(es(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&vi()}else{var a=this.records.get(r);a?void 0===a.multi&&vi():((a=Xa(void 0,qa,!0)).factory=function(){return ye(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===Ha?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(M(e)):t.value===qa&&(t.value=Ha,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Za(e){var t=T(e),n=null!==t?t.factory:Ze(e);if(null!==n)return n;var r=x(e);if(null!==r)return r.factory;if(e instanceof re)throw new Error("Token ".concat(M(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=Se(t,"?");throw new Error("Can't resolve all parameters for ".concat(M(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[O]||e[R]||e[P]&&e[P]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function $a(e,t,n){var r,i=void 0;if(es(e)){var o=U(e);return Ze(o)||Za(o)}if(Ja(e))i=function(){return U(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(ye(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return fe(U(e.useExisting))};else{var a=U(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(M(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return Ze(a)||Za(a);i=function(){return _construct(a,_toConsumableArray(ye(e.deps)))}}return i}function Xa(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Ja(e){return null!==e&&"object"==typeof e&&se in e}function es(e){return"function"==typeof e}function ts(e,t,n){return Ga({name:n},t,e,n)}var ns=ts,rs=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?ns(e,t,""):ns(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=oe,e.NULL=new ge,e.\u0275prov=I({token:e,providedIn:"any",factory:function(){return fe(ie)}}),e.__NG_ELEMENT_ID__=-1,e}();function is(e){return e.length>1?" ("+function(e){for(var t=[],n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((function(e){return M(e.token)})).join(" -> ")+")":""}function os(e,t,n,r){var i=[t],o=n(i),a=r?function(e,t){var n="".concat(e," caused by: ").concat(t instanceof Error?t.message:t),r=Error(n);return r.ngOriginalError=t,r}(o,r):Error(o);return a.addKey=as,a.keys=i,a.injectors=[e],a.constructResolvingMessage=n,a.ngOriginalError=r,a}function as(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function ss(e,t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];n.push(o&&0!=o.length?o.map(M).join(" "):"?")}return Error("Cannot resolve all parameters for '"+M(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+M(e)+"' is decorated with Injectable.")}var us=function(){function e(t,n){if(_classCallCheck(this,e),this.token=t,this.id=n,!t)throw new Error("Token must be defined!");this.displayName=M(this.token)}return _createClass(e,null,[{key:"get",value:function(e){return cs.get(U(e))}},{key:"numberOfKeys",get:function(){return cs.numberOfKeys}}]),e}(),cs=new(function(){function e(){_classCallCheck(this,e),this._allKeys=new Map}return _createClass(e,[{key:"get",value:function(e){if(e instanceof us)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new us(e,us.numberOfKeys);return this._allKeys.set(e,t),t}},{key:"numberOfKeys",get:function(){return this._allKeys.size}}]),e}()),ls=new(function(){function e(t){_classCallCheck(this,e),this.reflectionCapabilities=t}return _createClass(e,[{key:"updateCapabilities",value:function(e){this.reflectionCapabilities=e}},{key:"factory",value:function(e){return this.reflectionCapabilities.factory(e)}},{key:"parameters",value:function(e){return this.reflectionCapabilities.parameters(e)}},{key:"annotations",value:function(e){return this.reflectionCapabilities.annotations(e)}},{key:"propMetadata",value:function(e){return this.reflectionCapabilities.propMetadata(e)}},{key:"hasLifecycleHook",value:function(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}},{key:"getter",value:function(e){return this.reflectionCapabilities.getter(e)}},{key:"setter",value:function(e){return this.reflectionCapabilities.setter(e)}},{key:"method",value:function(e){return this.reflectionCapabilities.method(e)}},{key:"importUri",value:function(e){return this.reflectionCapabilities.importUri(e)}},{key:"resourceUri",value:function(e){return this.reflectionCapabilities.resourceUri(e)}},{key:"resolveIdentifier",value:function(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}},{key:"resolveEnum",value:function(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}]),e}())(new Da),hs=function(){function e(t,n,r){_classCallCheck(this,e),this.key=t,this.optional=n,this.visibility=r}return _createClass(e,null,[{key:"fromKey",value:function(t){return new e(t,!1,null)}}]),e}(),fs=[],ds=function e(t,n,r){_classCallCheck(this,e),this.key=t,this.resolvedFactories=n,this.multiProvider=r,this.resolvedFactory=this.resolvedFactories[0]},ps=function e(t,n){_classCallCheck(this,e),this.factory=t,this.dependencies=n};function vs(e){var t,n;if(e.useClass){var r=U(e.useClass);t=ls.factory(r),n=ms(r)}else e.useExisting?(t=function(e){return e},n=[hs.fromKey(us.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){var n=t.map((function(e){return[e]}));return t.map((function(t){return _s(e,t,n)}))}return ms(e)}(e.useFactory,e.deps)):(t=function(){return e.useValue},n=fs);return new ps(t,n)}function ys(e){return new ds(us.get(e.provide),[vs(e)],e.multi||!1)}function gs(e){var t=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: ".concat(i," ").concat(r));if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else t.set(r.key.id,r)}else{var a;a=r.multiProvider?new ds(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,a)}}return t}(function e(t,n){return t.forEach((function(t){if(t instanceof Ca)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!Array.isArray(t))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t);e(t,n)}})),n}(e,[]).map(ys),new Map);return Array.from(t.values())}function ms(e){var t=ls.parameters(e);if(!t)return[];if(t.some((function(e){return null==e})))throw ss(e,t);return t.map((function(n){return _s(e,n,t)}))}function _s(e,t,n){var r=null,i=!1;if(!Array.isArray(t))return ws(t instanceof y?t.token:t,i,null);for(var o=null,a=0;a<t.length;++a){var s=t[a];s instanceof Ca?r=s:s instanceof y?r=s.token:s instanceof g?i=!0:s instanceof m||s instanceof _?o=s:s instanceof re&&(r=s)}if(null!=(r=U(r)))return ws(r,i,o);throw ss(e,n)}function ws(e,t,n){return new hs(us.get(e),t,n)}var Cs={},bs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"resolve",value:function(e){return gs(e)}},{key:"resolveAndCreate",value:function(t,n){var r=e.resolve(t);return e.fromResolvedProviders(r,n)}},{key:"fromResolvedProviders",value:function(e,t){return new Es(e,t)}}]),e}(),Es=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._constructionCounter=0,this._providers=t,this.parent=n||null;var r=t.length;this.keyIds=[],this.objs=[];for(var i=0;i<r;i++)this.keyIds[i]=t[i].key.id,this.objs[i]=Cs}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;return this._getByKey(us.get(e),null,t)}},{key:"resolveAndCreateChild",value:function(e){var t=bs.resolve(e);return this.createChildFromResolved(t)}},{key:"createChildFromResolved",value:function(t){var n=new e(t);return n.parent=this,n}},{key:"resolveAndInstantiate",value:function(e){return this.instantiateResolved(bs.resolve([e])[0])}},{key:"instantiateResolved",value:function(e){return this._instantiateProvider(e)}},{key:"getProviderAtIndex",value:function(e){if(e<0||e>=this._providers.length)throw function(e){return Error("Index ".concat(e," is out-of-bounds."))}(e);return this._providers[e]}},{key:"_new",value:function(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw os(this,e.key,(function(e){return"Cannot instantiate cyclic dependency!"+is(e)}));return this._instantiateProvider(e)}},{key:"_getMaxNumberOfObjects",value:function(){return this.objs.length}},{key:"_instantiateProvider",value:function(e){if(e.multiProvider){for(var t=[],n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}},{key:"_instantiate",value:function(e,t){var n,r,i,o=this,a=t.factory;try{n=t.dependencies.map((function(e){return o._getByReflectiveDependency(e)}))}catch(s){throw s.addKey&&s.addKey(this,e.key),s}try{r=a.apply(void 0,_toConsumableArray(n))}catch(s){throw os(this,e.key,(function(e){var t=M(e[0].token);return"".concat(i.message,": Error during instantiation of ").concat(t,"!").concat(is(e),".")}),i=s)}return r}},{key:"_getByReflectiveDependency",value:function(e){return this._getByKey(e.key,e.visibility,e.optional?null:oe)}},{key:"_getByKey",value:function(t,n,r){return t===e.INJECTOR_KEY?this:n instanceof m?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,n)}},{key:"_getObjByKeyId",value:function(e){for(var t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Cs&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Cs}},{key:"_throwOrNull",value:function(e,t){if(t!==oe)return t;throw function(e,t){return os(e,t,(function(e){return"No provider for ".concat(M(e[0].token),"!").concat(is(e))}))}(this,e)}},{key:"_getByKeySelf",value:function(e,t){var n=this._getObjByKeyId(e.id);return n!==Cs?n:this._throwOrNull(e,t)}},{key:"_getByKeyDefault",value:function(t,n,r){var i;for(i=r instanceof _?this.parent:this;i instanceof e;){var o=i,a=o._getObjByKeyId(t.id);if(a!==Cs)return a;i=o.parent}return null!==i?i.get(t.token,n):this._throwOrNull(t,n)}},{key:"toString",value:function(){return this.displayName}},{key:"displayName",get:function(){return"ReflectiveInjector(providers: [".concat(function(e,t){for(var n=[],r=0;r<e._providers.length;++r)n[r]=' "'+e.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", "),"])")}}]),e}();return e.INJECTOR_KEY=us.get(rs),e}(),ks=new re("AnalyzeForEntryComponents"),Is=function e(){_classCallCheck(this,e)},Ss=v("ContentChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)}),Is),Ds=v("ContentChild",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)}),Is),Ts=v("ViewChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)}),Is),As=v("ViewChild",(function(e,t){return Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)}),Is);function xs(e){var t=[],n=new Map;function r(t){var r=n.get(t);if(!r){var i=e(t);n.set(t,r=i.then(Fs))}return r}return Os.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){Ns.delete(e)}(n)}));t.push(u)})),Rs(),Promise.all(t).then((function(){}))}var Os=new Map,Ns=new Set;function Ps(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Rs(){var e=Os;return Os=new Map,e}function Fs(e){return"string"==typeof e?e:e.text()}function Ms(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=j(i,s):2==o&&(r=j(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var js=null;function Ls(){if(!js){var e=z.Symbol;if(e&&e.iterator)js=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(js=r)}}return js}function Vs(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Us(e,t){var n=qs(e),r=qs(t);return n&&r?function(e,t,n){for(var r=e[Ls()](),i=t[Ls()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(e,t,Us):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||Vs(e,t)}var Bs=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function qs(e){return!!Hs(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ls()in e)}function Hs(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ws(e,t,n){return e[t]=n}function Qs(e,t){return e[t]}function zs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Gs(e,t,n,r){var i=zs(e,t,n);return zs(e,t+1,r)||i}function Ks(e,t,n,r,i){var o=Gs(e,t,n,r);return zs(e,t+2,i)||o}function Ys(e,t,n,r,i,o){var a=Gs(e,t,n,r);return Gs(e,t+2,i,o)||a}function Zs(e,t,n,r){var i=Tt();return zs(i,Ut(),t)&&(At(),_o(rn(),i,e,t,n,r)),Zs}function $s(e,t){for(var n=!1,r=Lt(),i=1;i<t.length;i+=2)n=zs(e,r++,t[i])||n;if(Vt(r),!n)return Di;for(var o=t[0],a=1;a<t.length;a+=2)o+=kn(t[a])+t[a+1];return o}function Xs(e,t,n,r){return zs(e,Ut(),n)?t+kn(n)+r:Di}function Js(e,t,n,r,i,o){var a=Gs(e,Lt(),n,i);return Bt(2),a?t+kn(n)+r+kn(i)+o:Di}function eu(e,t,n,r,i,o,a,s){var u=Ks(e,Lt(),n,i,a);return Bt(3),u?t+kn(n)+r+kn(i)+o+kn(a)+s:Di}function tu(e,t,n,r,i,o,a,s,u,c){var l=Ys(e,Lt(),n,i,a,u);return Bt(4),l?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(u)+c:Di}function nu(e,t,n,r,i,o,a,s,u,c,l,h){var f=Lt(),d=Ys(e,f,n,i,a,u);return d=zs(e,f+4,l)||d,Bt(5),d?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(u)+c+kn(l)+h:Di}function ru(e,t,n,r,i,o,a,s,u,c,l,h,f,d){var p=Lt(),v=Ys(e,p,n,i,a,u);return v=Gs(e,p+4,l,f)||v,Bt(6),v?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(u)+c+kn(l)+h+kn(f)+d:Di}function iu(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v){var y=Lt(),g=Ys(e,y,n,i,a,u);return g=Ks(e,y+4,l,f,p)||g,Bt(7),g?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(u)+c+kn(l)+h+kn(f)+d+kn(p)+v:Di}function ou(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g){var m=Lt(),_=Ys(e,m,n,i,a,u);return _=Ys(e,m+4,l,f,p,y)||_,Bt(8),_?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(u)+c+kn(l)+h+kn(f)+d+kn(p)+v+kn(y)+g:Di}function au(e,t,n,r,i,o){var a=Tt(),s=Xs(a,t,n,r);return s!==Di&&_o(rn(),a,e,s,i,o),au}function su(e,t,n,r,i,o,a,s){var u=Tt(),c=Js(u,t,n,r,i,o);return c!==Di&&_o(rn(),u,e,c,a,s),su}function uu(e,t,n,r,i,o,a,s,u,c){var l=Tt(),h=eu(l,t,n,r,i,o,a,s);return h!==Di&&_o(rn(),l,e,h,u,c),uu}function cu(e,t,n,r,i,o,a,s,u,c,l,h){var f=Tt(),d=tu(f,t,n,r,i,o,a,s,u,c);return d!==Di&&_o(rn(),f,e,d,l,h),cu}function lu(e,t,n,r,i,o,a,s,u,c,l,h,f,d){var p=Tt(),v=nu(p,t,n,r,i,o,a,s,u,c,l,h);return v!==Di&&_o(rn(),p,e,v,f,d),lu}function hu(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v){var y=Tt(),g=ru(y,t,n,r,i,o,a,s,u,c,l,h,f,d);return g!==Di&&_o(rn(),y,e,g,p,v),hu}function fu(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g){var m=Tt(),_=iu(m,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v);return _!==Di&&_o(rn(),m,e,_,y,g),fu}function du(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m,_){var w=Tt(),C=ou(w,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g);return C!==Di&&_o(rn(),w,e,C,m,_),du}function pu(e,t,n,r){var i=Tt(),o=$s(i,t);return o!==Di&&_o(rn(),i,e,o,n,r),pu}function vu(e){var t=ui(e);To(t[1],t,e)}function yu(e){var t,n,r;t=So(ui(e))[8],r=0===t.flags,t.flags|=1,r&&t.clean==Wi&&(t.clean=new Promise((function(e){return n=e})),t.scheduler((function(){if(1&t.flags&&(t.flags&=-2,Do(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=Wi,n(null)})))}function gu(e,t,n,r,i,o,a,s){var u=Tt(),c=At(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=Ki(t,n[6],e,0,a||null,Ct(c,s));uo(t,n,l,Ct(c,u)),un(t,l);var h=l.tViews=ro(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),f=oo(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,a):c.data[l];Nt(h,!1);var f=u[11].createComment("");ea(c,u,f,h),ci(f,u),Io(u,u[l]=bo(f,u,f,h)),nt(h)&&eo(c,u,h),null!=a&&to(u,h,s)}function mu(e,t,n,r){var i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}function _u(e){return vt(kt.lFrame.contextLView,e)}function wu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.Default,n=Tt();return null==n?fe(e,t):Un(Ot(),n,U(e),t)}function Cu(e){return Vn(Ot(),e)}function bu(){throw new Error("invalid")}function Eu(e,t,n){var r=Tt();return zs(r,Ut(),t)&&so(At(),rn(),r,e,t,r[11],n,!1),Eu}function ku(e,t,n,r,i){var o=i?"class":"style";Mo(e,n,t.inputs[o],o,r)}function Iu(e,t,n,r){var i=Tt(),o=At(),a=20+e,s=i[11],u=i[a]=zi(t,s,kt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=Ct(s,o),c=Ki(t,n[6],e,3,i,u);return uo(t,n,c,Ct(s,a)),null!==c.attrs&&Ms(c,c.attrs,!1),null!==c.mergedAttrs&&Ms(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[a];Nt(c,!0);var l=c.mergedAttrs;null!==l&&vn(s,u,l);var h=c.classes;null!==h&&ua(s,u,h);var f=c.styles;null!==f&&sa(s,u,f),ea(o,i,u,c),0===kt.lFrame.elementDepthCount&&ci(u,i),kt.lFrame.elementDepthCount++,nt(c)&&(eo(o,i,c),Ji(o,c,i)),null!==r&&to(i,c)}function Su(){var e=Ot();Pt()?Rt():Nt(e=e.parent,!1);var t=e;kt.lFrame.elementDepthCount--;var n=At();n.firstCreatePass&&(un(n,e),et(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ku(n,t,Tt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ku(n,t,Tt(),t.stylesWithoutHost,!1)}function Du(e,t,n,r){Iu(e,t,n,r),Su()}function Tu(e,t,n){var r=Tt(),i=At(),o=e+20,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=Ct(o,r),s=Ki(t,n[6],e,4,"ng-container",a);return null!==a&&Ms(s,a,!0),uo(t,n,s,Ct(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[o];Nt(a,!0);var s=r[o]=r[11].createComment("");ea(i,r,s,a),ci(s,r),nt(a)&&(eo(i,r,a),Ji(i,a,r)),null!=n&&to(r,a)}function Au(){var e=Ot(),t=At();Pt()?Rt():Nt(e=e.parent,!1),t.firstCreatePass&&(un(t,e),et(e)&&t.queries.elementEnd(e))}function xu(e,t,n){Tu(e,t,n),Au()}function Ou(){return Tt()}function Nu(e){return!!e&&"function"==typeof e.then}function Pu(e){return!!e&&"function"==typeof e.subscribe}function Ru(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Tt(),o=At(),a=Ot();return Mu(o,i,i[11],a,e,t,n,r),Ru}function Fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Ot(),o=Tt(),a=At();return Mu(a,o,Ro(Wt(a.data),i,o),i,e,t,n,r),Fu}function Mu(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=nt(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=No(t),h=!0;if(3===r.type){var f=ft(r,t),d=s?s(f):Re,p=d.target||f,v=l.length,y=s?function(e){return s(lt(e[r.index])).target}:r.index;if(ut(n)){var g=null;if(!s&&u&&(g=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Lu(r,t,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Lu(r,t,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var _,w=r.outputs;if(h&&null!==w&&(_=w[i])){var C=_.length;if(C)for(var b=0;b<C;b+=2){var E=t[_[b]][_[b+1]].subscribe(o),k=l.length;l.push(o,E),c&&c.push(i,r.index,k,-(k+1))}}}function ju(e,t,n){try{return!1!==t(n)}catch(r){return Fo(e,r),!1}}function Lu(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?yt(e.index,t):t;0==(32&t[2])&&So(a);for(var s=ju(t,n,o),u=i.__ngNextListenerFn__;u;)s=ju(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return en(e)}function Uu(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Ei(e,o,!0):ki(r,o))return i}else n=i}return n}function Bu(e){var t=Tt()[16][6];if(!t.projection)for(var n=t.projection=Se(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?Uu(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}var qu=!1;function Hu(e){qu=e}function Wu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Tt(),i=At(),o=Ki(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),Rt(),qu||oa(i,r,o)}function Qu(e,t,n){return zu(e,"",t,"",n),Qu}function zu(e,t,n,r,i){var o=Tt(),a=Xs(o,t,n,r);return a!==Di&&so(At(),rn(),o,e,a,o[11],i,!1),zu}function Gu(e,t,n,r,i,o,a){var s=Tt(),u=Js(s,t,n,r,i,o);return u!==Di&&so(At(),rn(),s,e,u,s[11],a,!1),Gu}function Ku(e,t,n,r,i,o,a,s,u){var c=Tt(),l=eu(c,t,n,r,i,o,a,s);return l!==Di&&so(At(),rn(),c,e,l,c[11],u,!1),Ku}function Yu(e,t,n,r,i,o,a,s,u,c,l){var h=Tt(),f=tu(h,t,n,r,i,o,a,s,u,c);return f!==Di&&so(At(),rn(),h,e,f,h[11],l,!1),Yu}function Zu(e,t,n,r,i,o,a,s,u,c,l,h,f){var d=Tt(),p=nu(d,t,n,r,i,o,a,s,u,c,l,h);return p!==Di&&so(At(),rn(),d,e,p,d[11],f,!1),Zu}function $u(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){var v=Tt(),y=ru(v,t,n,r,i,o,a,s,u,c,l,h,f,d);return y!==Di&&so(At(),rn(),v,e,y,v[11],p,!1),$u}function Xu(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){var g=Tt(),m=iu(g,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v);return m!==Di&&so(At(),rn(),g,e,m,g[11],y,!1),Xu}function Ju(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m){var _=Tt(),w=ou(_,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g);return w!==Di&&so(At(),rn(),_,e,w,_[11],m,!1),Ju}function ec(e,t,n){var r=Tt(),i=$s(r,t);return i!==Di&&so(At(),rn(),r,e,i,r[11],n,!1),ec}var tc=[];function nc(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Vi(o):Bi(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];rc(e[s],t)&&(u=!0,e[s+1]=r?Hi(c):Ui(c)),s=r?Vi(c):Bi(c)}u&&(e[n+1]=r?Ui(o):Hi(o))}function rc(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ae(e,t)>=0}var ic={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oc(e){return e.substring(ic.key,ic.keyEnd)}function ac(e){return e.substring(ic.value,ic.valueEnd)}function sc(e,t){var n=ic.textEnd;return n===t?-1:(t=ic.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ic.key=t,n),lc(e,t,n))}function uc(e,t){var n=ic.textEnd,r=ic.key=lc(e,t,n);return n===r?-1:(r=ic.keyEnd=function(e,t,n){for(var r;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90);)t++;return t}(e,r,n),r=hc(e,r,n),r=ic.value=lc(e,r,n),r=ic.valueEnd=function(e,t,n){for(var r=-1,i=-1,o=-1,a=t,s=a;a<n;){var u=e.charCodeAt(a++);if(59===u)return s;34===u||39===u?s=a=fc(e,u,a,n):t===a-4&&85===o&&82===i&&76===r&&40===u?s=a=fc(e,41,a,n):u>32&&(s=a),o=i,i=r,r=-33&u}return s}(e,r,n),hc(e,r,n))}function cc(e){ic.key=0,ic.keyEnd=0,ic.value=0,ic.valueEnd=0,ic.textEnd=e.length}function lc(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function hc(e,t,n,r){return(t=lc(e,t,n))<n&&t++,t}function fc(e,t,n,r){for(var i=-1,o=n;o<r;){var a=e.charCodeAt(o++);if(a==t&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function dc(e){!function(e){kt.lFrame.currentSanitizer=e}(e)}function pc(e,t,n){return wc(e,t,n,!1),pc}function vc(e,t){return wc(e,t,null,!0),vc}function yc(e){Cc(Sc,gc,e,!1)}function gc(e,t){for(var n=function(e){return cc(e),uc(e,lc(e,0,ic.textEnd))}(t);n>=0;n=uc(t,n))Sc(e,oc(t),ac(t))}function mc(e){Cc(De,_c,e,!0)}function _c(e,t){for(var n=function(e){return cc(e),sc(e,lc(e,0,ic.textEnd))}(t);n>=0;n=sc(t,n))De(e,oc(t),!0)}function wc(e,t,n,r){var i,o,a=Tt(),s=At(),u=Bt(2);(s.firstUpdatePass&&Ec(s,e,u,r),t!==Di&&zs(a,u,t))&&(null==n&&(i=null===(o=kt.lFrame)?null:o.currentSanitizer)&&(n=i),Dc(s,s.data[tn()+20],a,a[11],e,a[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=M(ur(e)))),e}(t,n),r,u))}function Cc(e,t,n,r){var i=At(),o=Bt(2);i.firstUpdatePass&&Ec(i,null,o,r);var a=Tt();if(n!==Di&&zs(a,o,n)){var s=i.data[tn()+20];if(xc(s,r)&&!bc(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=j(u,n||"")),ku(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===Di&&(i=tc);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&Dc(e,t,n,r,p,v,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return tc;var r=[],i=ur(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function bc(e,t){return t>=e.expandoStartIndex}function Ec(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[tn()+20],a=bc(e,n);xc(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=Wt(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ic(n=kc(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=kc(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Bi(r))return e[Vi(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Vi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Ic(s=kc(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ic(r,e[o].hostAttrs,n);return Ic(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Vi(a),u=Bi(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||Ae(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Vi(e[s+1]);e[r+1]=Li(f,s),0!==f&&(e[f+1]=qi(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Li(s,0),0!==s&&(e[s+1]=qi(e[s+1],r)),s=r;else e[r+1]=Li(u,0),0===s?s=r:e[u+1]=qi(e[u+1],r),u=r;l&&(e[r+1]=Ui(e[r+1])),nc(e,c,r,!0),nc(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ae(o,t)>=0&&(n[r+1]=Hi(n[r+1]))}(t,c,e,r,o),a=Li(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function kc(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ic(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ic(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),De(e,a,!!n||t[++o]))}return void 0===e?null:e}function Sc(e,t,n){ti(t)&&(n=Kr(n)),De(e,t,n)}function Dc(e,t,n,r,i,o,a,s){if(3===t.type){var u=e.data,c=u[s+1];Ac(1==(1&c)?Tc(u,t,n,i,Bi(c),a):void 0)||(Ac(o)||2==(2&c)&&(o=Tc(u,null,n,i,s,a)),function(e,t,n,r,i){var o=ut(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,ht(tn(),n),i,o))}}function Tc(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Di&&(f=h?tc:void 0);var d=h?Te(f,r):l===r?f:void 0;if(c&&!Ac(d)&&(d=Te(u,r)),Ac(d)&&(s=d,a))return s;var p=e[i+1];i=a?Vi(p):Bi(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=Te(v,r))}return s}function Ac(e){return void 0!==e}function xc(e,t){return 0!=(e.flags&(t?16:32))}function Oc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Tt(),r=At(),i=e+20,o=r.firstCreatePass?Ki(r,n[6],e,3,null,null):r.data[i],a=n[i]=Bo(t,n[11]);ea(r,n,a,o),Nt(o,!1)}function Nc(e){return Pc("",e,""),Nc}function Pc(e,t,n){var r=Tt(),i=Xs(r,e,t,n);return i!==Di&&jo(r,tn(),i),Pc}function Rc(e,t,n,r,i){var o=Tt(),a=Js(o,e,t,n,r,i);return a!==Di&&jo(o,tn(),a),Rc}function Fc(e,t,n,r,i,o,a){var s=Tt(),u=eu(s,e,t,n,r,i,o,a);return u!==Di&&jo(s,tn(),u),Fc}function Mc(e,t,n,r,i,o,a,s,u){var c=Tt(),l=tu(c,e,t,n,r,i,o,a,s,u);return l!==Di&&jo(c,tn(),l),Mc}function jc(e,t,n,r,i,o,a,s,u,c,l){var h=Tt(),f=nu(h,e,t,n,r,i,o,a,s,u,c,l);return f!==Di&&jo(h,tn(),f),jc}function Lc(e,t,n,r,i,o,a,s,u,c,l,h,f){var d=Tt(),p=ru(d,e,t,n,r,i,o,a,s,u,c,l,h,f);return p!==Di&&jo(d,tn(),p),Lc}function Vc(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){var v=Tt(),y=iu(v,e,t,n,r,i,o,a,s,u,c,l,h,f,d,p);return y!==Di&&jo(v,tn(),y),Vc}function Uc(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){var g=Tt(),m=ou(g,e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y);return m!==Di&&jo(g,tn(),m),Uc}function Bc(e){var t=Tt(),n=$s(t,e);return n!==Di&&jo(t,tn(),n),Bc}function qc(e,t,n){Cc(De,_c,Xs(Tt(),e,t,n),!0)}function Hc(e,t,n,r,i){Cc(De,_c,Js(Tt(),e,t,n,r,i),!0)}function Wc(e,t,n,r,i,o,a){Cc(De,_c,eu(Tt(),e,t,n,r,i,o,a),!0)}function Qc(e,t,n,r,i,o,a,s,u){Cc(De,_c,tu(Tt(),e,t,n,r,i,o,a,s,u),!0)}function zc(e,t,n,r,i,o,a,s,u,c,l){Cc(De,_c,nu(Tt(),e,t,n,r,i,o,a,s,u,c,l),!0)}function Gc(e,t,n,r,i,o,a,s,u,c,l,h,f){Cc(De,_c,ru(Tt(),e,t,n,r,i,o,a,s,u,c,l,h,f),!0)}function Kc(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){Cc(De,_c,iu(Tt(),e,t,n,r,i,o,a,s,u,c,l,h,f,d,p),!0)}function Yc(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){Cc(De,_c,ou(Tt(),e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y),!0)}function Zc(e){Cc(De,_c,$s(Tt(),e),!0)}function $c(e,t,n){yc(Xs(Tt(),e,t,n))}function Xc(e,t,n,r,i){yc(Js(Tt(),e,t,n,r,i))}function Jc(e,t,n,r,i,o,a){yc(eu(Tt(),e,t,n,r,i,o,a))}function el(e,t,n,r,i,o,a,s,u){yc(tu(Tt(),e,t,n,r,i,o,a,s,u))}function tl(e,t,n,r,i,o,a,s,u,c,l){yc(nu(Tt(),e,t,n,r,i,o,a,s,u,c,l))}function nl(e,t,n,r,i,o,a,s,u,c,l,h,f){yc(ru(Tt(),e,t,n,r,i,o,a,s,u,c,l,h,f))}function rl(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){yc(iu(Tt(),e,t,n,r,i,o,a,s,u,c,l,h,f,d,p))}function il(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){yc(ou(Tt(),e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y))}function ol(e){yc($s(Tt(),e))}function al(e,t,n,r,i){return wc(e,Xs(Tt(),t,n,r),i,!1),al}function sl(e,t,n,r,i,o,a){return wc(e,Js(Tt(),t,n,r,i,o),a,!1),sl}function ul(e,t,n,r,i,o,a,s,u){return wc(e,eu(Tt(),t,n,r,i,o,a,s),u,!1),ul}function cl(e,t,n,r,i,o,a,s,u,c,l){return wc(e,tu(Tt(),t,n,r,i,o,a,s,u,c),l,!1),cl}function ll(e,t,n,r,i,o,a,s,u,c,l,h,f){return wc(e,nu(Tt(),t,n,r,i,o,a,s,u,c,l,h),f,!1),ll}function hl(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){return wc(e,ru(Tt(),t,n,r,i,o,a,s,u,c,l,h,f,d),p,!1),hl}function fl(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){return wc(e,iu(Tt(),t,n,r,i,o,a,s,u,c,l,h,f,d,p,v),y,!1),fl}function dl(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m){return wc(e,ou(Tt(),t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g),m,!1),dl}function pl(e,t,n){return wc(e,$s(Tt(),t),n,!1),pl}function vl(e,t,n){var r=Tt();return zs(r,Ut(),t)&&so(At(),rn(),r,e,t,r[11],n,!0),vl}function yl(e,t,n){var r=Tt();if(zs(r,Ut(),t)){var i=At(),o=rn();so(i,o,r,e,t,Ro(Wt(i.data),o,r),n,!0)}return yl}function gl(e){Dl(e);var t,n,r,i=El(e,!1);return null===i?null:(void 0===i.component&&(i.component=(t=i.nodeIndex,n=i.lView,2&(r=n[1].data[t]).flags?n[r.directiveStart]:null)),i.component)}function ml(e){Dl(e);var t=El(e,!1);return null===t?null:t.lView[8]}function _l(e){var t=El(e,!1);if(null===t)return null;for(var n,r=t.lView;null===r[0]&&(n=Ti(r));)r=n;return 512&r[2]?null:r[8]}function wl(e){return _toConsumableArray(Ai(e).components)}function Cl(e){var t=El(e,!1);return null===t?rs.NULL:new Gn(t.lView[1].data[t.nodeIndex],t.lView)}function bl(e){var t=El(e);return void 0===t.directives&&(t.directives=di(t.nodeIndex,t.lView,!1)),null===t.directives?[]:_toConsumableArray(t.directives)}function El(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=ai(e);if(!n&&t)throw new Error("Invalid ng target");return n}function kl(e){return ai(e).native}function Il(e){Dl(e);var t=El(e,!1);if(null===t)return[];var n=t.lView,r=n[7],i=n[1].cleanup,o=[];if(i&&r)for(var a=0;a<i.length;){var s=i[a++],u=i[a++];if("string"==typeof s){var c=s,l=lt(n[u]),h=r[i[a++]],f=i[a++],d="boolean"==typeof f||f>=0?"dom":"output",p="boolean"==typeof f&&f;e==l&&o.push({element:e,name:c,callback:h,useCapture:p,type:d})}}return o.sort(Sl),o}function Sl(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function Dl(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function Tl(e){yu(e),wl(e).forEach((function(e){return vu(e)}))}var Al=!1;function xl(){Al||(Al=!0,Ol("getComponent",gl),Ol("getContext",ml),Ol("getListeners",Il),Ol("getOwningComponent",_l),Ol("getHostElement",kl),Ol("getInjector",Cl),Ol("getRootComponents",wl),Ol("getDirectives",bl),Ol("applyChanges",Tl))}function Ol(e,t){if("undefined"==typeof COMPILED||!COMPILED){var n=z;if(n){var r=n.ng;r||(r=n.ng={}),r[e]=t}}}function Nl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rendererFactory||ct,r=t.sanitizer||null,i=Ge(e);i.type!=e&&(i.type=e);var o,a=i.selectors[0][0],s=io(n.createRenderer(null,null),t.host||a,i.encapsulation),u=i.onPush?576:528,c=Fl(t.scheduler,t.playerHandler),l=n.createRenderer(s,i),h=ro(0,-1,null,1,0,null,null,null,null,null),f=Gi(null,h,c,u,null,null,n,l,void 0,t.injector||null);Kt(f,null);try{n.begin&&n.begin(),o=Rl(Pl(s,i,f,n,l,r),i,f,c,t.hostFeatures||null),Yi(h,f,null),Zi(h,f,null,null)}finally{Jt(),n.end&&n.end()}return o}function Pl(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=Ki(a,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Ms(s,u,!0),null!==e&&(vn(i,e,u),null!==s.classes&&ua(i,e,s.classes),null!==s.styles&&sa(i,e,s.styles)));var c=r.createRenderer(e,t),l=Gi(n,no(t),null,t.onPush?64:16,n[20],s,r,c,o);return a.firstCreatePass&&(Ln(Rn(s,n),a,t.type),po(a,s),yo(s,n.length,1)),Io(n,l),n[20]=l}function Rl(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=Ot();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),fo(e,r,1),go(e,t,n));var i=Wn(t,e,t.length-1,r);ci(i,t);var o=ft(r,t);return o&&ci(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=Ot();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){nn(s.index-20);var u=n[1];co(u,t),lo(u,n,t.hostVars),ho(t,a)}return a}function Fl(e,t){return{components:[],scheduler:e||Sn,clean:Oo,playerHandler:t||null,flags:0}}function Ml(e,t){var n=mt(e)[1],r=n.data.length-1;un(n,{directiveStart:r,directiveEnd:r+1})}function jl(e){return Ai(e).clean}function Ll(e){return Object.getPrototypeOf(e.prototype).constructor}function Vl(e){for(var t=Ll(e.type),n=!0,r=[e];t;){var i=void 0;if(rt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Ul(e.inputs),o.declaredInputs=Ul(e.declaredInputs),o.outputs=Ul(e.outputs);var a=i.hostBindings;a&&Hl(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Bl(e,s),u&&ql(e,u),k(e.inputs,i.inputs),k(e.declaredInputs,i.declaredInputs),k(e.outputs,i.outputs),rt(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===Vl&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=mn(i.hostAttrs,n=mn(n,i.hostAttrs))}}(r)}function Ul(e){return e===Re?{}:e===Fe?[]:e}function Bl(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function ql(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Hl(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Wl=["providersResolver"],Ql=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function zl(e){var t,n=Ll(e.type);t=rt(e)?n.\u0275cmp:n.\u0275dir;var r,i=e,o=_createForOfIteratorHelper(Wl);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=t[a]}}catch(l){o.e(l)}finally{o.f()}if(rt(t)){var s,u=_createForOfIteratorHelper(Ql);try{for(u.s();!(s=u.n()).done;){var c=s.value;i[c]=t[c]}}catch(l){u.e(l)}finally{u.f()}}}var Gl=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Kl(e){e.type.prototype.ngOnChanges&&(e.setInput=Yl,e.onChanges=function(){var e=Zl(this),t=e&&e.current;if(t){var n=e.previous;if(n===Re)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function Yl(e,t,n,r){var i=Zl(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Re,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Gl(u&&u.currentValue,t,a===Re),e[r]=t}function Zl(e){return e.__ngSimpleChanges__||null}function $l(e,t,n,r,i){if(e=U(e),Array.isArray(e))for(var o=0;o<e.length;o++)$l(e[o],t,n,r,i);else{var a=At(),s=Tt(),u=es(e)?e:U(e.provide),c=$a(e),l=Ot(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(es(e)||!e.multi){var p=new pn(c,i,wu),v=eh(u,t,i?h:h+d,f);-1===v?(Ln(Rn(l,s),a,u),Xl(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=eh(u,t,h+d,f),g=eh(u,t,h,h+d),m=y>=0&&n[y],_=g>=0&&n[g];if(i&&!_||!i&&!m){Ln(Rn(l,s),a,u);var w=function(e,t,n,r,i){var o=new pn(e,n,wu);return o.multi=[],o.index=t,o.componentProviders=0,Jl(o,i,r&&!n),o}(i?nh:th,n.length,i,r,c);!i&&_&&(n[g].providerFactory=w),Xl(a,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(w),s.push(w)}else Xl(a,e,y>-1?y:g,Jl(n[i?g:y],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function Xl(e,t,n,r){var i=es(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Jl(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eh(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function th(e,t,n,r){return rh(this.multi,[])}function nh(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Wn(n,n[1],this.providerFactory.index,r);rh(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else rh(o,i=[]);return i}function rh(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function ih(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=At();if(r.firstCreatePass){var i=rt(e);$l(n,r.data,r.blueprint,i,!0),$l(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}Kl.ngInherit=!0;var oh=function e(){_classCallCheck(this,e)},ah=function e(){_classCallCheck(this,e)};function sh(e){var t=Error("No component factory found for ".concat(M(e),". Did you add it to @NgModule.entryComponents?"));return t[uh]=e,t}var uh="ngComponent",ch=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw sh(e)}}]),e}(),lh=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new ch,e}(),hh=function(){function e(t,n,r){_classCallCheck(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<t.length;i++){var o=t[i];this._factories.set(o.componentType,o)}}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw sh(e);return new fh(t,this._ngModule)}}]),e}(),fh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).factory=e,i.ngModule=r,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),n}(ah),dh=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return vh(e)},e}(),ph=function(e){return pa(e,Ot(),Tt())},vh=ph,yh=function e(){_classCallCheck(this,e)},gh=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),mh=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return wh()},e}(),_h=function(){var e=Tt(),t=yt(Ot().index,e);return function(e){var t=e[11];if(ut(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Xe(t)?t:e)},wh=_h,Ch=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=I({token:e,providedIn:"root",factory:function(){return null}}),e}(),bh=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Eh=new bh("9.1.11"),kh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return qs(e)}},{key:"create",value:function(e){return new Sh(e)}}]),e}(),Ih=function(e,t){return t},Sh=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ih}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<xh(n,r,i)?t:n,a=xh(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!qs(e))throw new Error("Error trying to diff '".concat(M(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Vs(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Vs(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Ls()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Vs(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Vs(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Vs(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Vs(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Dh(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ah),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ah),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Dh=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Th=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Vs(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Ah=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Th,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function xh(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Oh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Hs(e)}},{key:"create",value:function(){return new Nh}}]),e}(),Nh=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Hs(e)))throw new Error("Error trying to diff '".concat(M(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ph(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Vs(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Ph=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Rh=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _,new g]]}}}]),e}();return e.\u0275prov=I({token:e,providedIn:"root",factory:function(){return new e([new kh])}}),e}(),Fh=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _,new g]]}}}]),e}();return e.\u0275prov=I({token:e,providedIn:"root",factory:function(){return new e([new Oh])}}),e}(),Mh=[new Oh],jh=new Rh([new kh]),Lh=new Fh(Mh),Vh=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Bh(e,dh)},e}(),Uh=function(e,t){return va(e,t,Ot(),Tt())},Bh=Uh,qh=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Wh(e,dh)},e}(),Hh=function(e,t){return ya(e,t,Ot(),Tt())},Wh=Hh;function Qh(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return zh(n,t),n}(i,e)}function zh(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Gh(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function Kh(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Yh(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Zh(e,t){return e.nodes[t]}function $h(e,t){return e.nodes[t]}function Xh(e,t){return e.nodes[t]}function Jh(e,t){return e.nodes[t]}function ef(e,t){return e.nodes[t]}var tf=function e(){_classCallCheck(this,e)},nf={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},rf=function(){},of=new Map;function af(e){var t=of.get(e);return t||(t=M(e)+"_"+of.size,of.set(e,t)),t}function sf(e,t,n,r){if(Bs.isWrapped(r)){r=Bs.unwrap(r);var i=e.def.nodes[t].bindingIndex+n,o=Bs.unwrap(e.oldValues[i]);e.oldValues[i]=new Bs(o)}return r}function uf(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var cf=0;function lf(e,t,n,r){return!(!(2&e.state)&&Vs(e.oldValues[t.bindingIndex+n],r))}function hf(e,t,n,r){return!!lf(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function ff(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Us(i,r)){var o=t.bindings[n].name;throw Qh(nf.createDebugContext(e,t.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&e.state))}}function df(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function pf(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function vf(e,t,n,r){try{return df(33554432&e.def.nodes[t].flags?$h(e,t).componentView:e),nf.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function yf(e){return e.parent?$h(e.parent,e.parentNodeDef.nodeIndex):null}function gf(e){return e.parent?e.parentNodeDef.parent:null}function mf(e,t){switch(201347067&t.flags){case 1:return $h(e,t.nodeIndex).renderElement;case 2:return Zh(e,t.nodeIndex).renderText}}function _f(e,t){return e?"".concat(e,":").concat(t):t}function wf(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Cf(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function bf(e){return 1<<e%32}function Ef(e){var t={},n=0,r={};return e&&e.forEach((function(e){var i=_slicedToArray(e,2),o=i[0],a=i[1];"number"==typeof o?(t[o]=a,n|=bf(o)):r[o]=a})),{matchedQueries:t,references:r,matchedQueryIds:n}}function kf(e,t){return e.map((function(e){var n,r,i;return Array.isArray(e)?(i=(n=_slicedToArray(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,"__source",{value:t,configurable:!0}),{flags:i,token:r,tokenKey:af(r)}}))}function If(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Pe.Native?$h(e,n.renderParent.nodeIndex).renderElement:void 0:t}var Sf=new WeakMap;function Df(e){var t=Sf.get(e);return t||((t=e((function(){return rf}))).factory=e,Sf.set(e,t)),t}function Tf(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(mf(e,e.def.lastRenderRootNode))),Af(e,t,0,e.def.nodes.length-1,n,r,i)}function Af(e,t,n,r,i,o,a){for(var s=n;s<=r;s++){var u=e.def.nodes[s];11&u.flags&&Of(e,u,t,i,o,a),s+=u.childCount}}function xf(e,t,n,r,i,o){for(var a=e;a&&!wf(a);)a=a.parent;for(var s=a.parent,u=gf(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=s.def.nodes[l];h.ngContentIndex===t&&Of(s,h,n,r,i,o),l+=h.childCount}if(!s.parent){var f=e.root.projectableNodes[t];if(f)for(var d=0;d<f.length;d++)Nf(e,f[d],n,r,i,o)}}function Of(e,t,n,r,i,o){if(8&t.flags)xf(e,t.ngContent.index,n,r,i,o);else{var a=mf(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Nf(e,a,n,r,i,o),32&t.bindingFlags&&Nf($h(e,t.nodeIndex).componentView,a,n,r,i,o)):Nf(e,a,n,r,i,o),16777216&t.flags)for(var s=$h(e,t.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Tf(s[u],n,r,i,o);1&t.flags&&!t.element.name&&Af(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Nf(e,t,n,r,i,o){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,i);break;case 3:a.removeChild(r,t);break;case 0:o.push(t)}}var Pf=/^:([^:]+):(.+)$/;function Rf(e){if(":"===e[0]){var t=e.match(Pf);return[t[1],t[2]]}return["",e]}function Ff(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Mf(e,t){for(var n="",r=0;r<2*e;r+=2)n=n+t[r]+Lf(t[r+1]);return n+t[2*e]}function jf(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m,_){switch(e){case 1:return t+Lf(n)+r;case 2:return t+Lf(n)+r+Lf(i)+o;case 3:return t+Lf(n)+r+Lf(i)+o+Lf(a)+s;case 4:return t+Lf(n)+r+Lf(i)+o+Lf(a)+s+Lf(u)+c;case 5:return t+Lf(n)+r+Lf(i)+o+Lf(a)+s+Lf(u)+c+Lf(l)+h;case 6:return t+Lf(n)+r+Lf(i)+o+Lf(a)+s+Lf(u)+c+Lf(l)+h+Lf(f)+d;case 7:return t+Lf(n)+r+Lf(i)+o+Lf(a)+s+Lf(u)+c+Lf(l)+h+Lf(f)+d+Lf(p)+v;case 8:return t+Lf(n)+r+Lf(i)+o+Lf(a)+s+Lf(u)+c+Lf(l)+h+Lf(f)+d+Lf(p)+v+Lf(y)+g;case 9:return t+Lf(n)+r+Lf(i)+o+Lf(a)+s+Lf(u)+c+Lf(l)+h+Lf(f)+d+Lf(p)+v+Lf(y)+g+Lf(m)+_;default:throw new Error("Does not support more than 9 expressions")}}function Lf(e){return null!=e?e.toString():""}var Vf=[],Uf={},Bf={},qf=af(rs),Hf=af(ie),Wf=af(_e);function Qf(e,t,n,r){return n=U(n),{index:-1,deps:kf(r,M(t)),flags:e,token:t,value:n}}function zf(e){for(var t={},n=[],r=null,i=0;i<e.length;i++){var o=e[i];o.token===Ba&&(r=o.value),1073741824&o.flags&&n.push(o.token),o.index=i,t[af(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,scope:r}}function Gf(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rs.THROW_IF_NOT_FOUND,o=ce(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);var a=t.tokenKey;switch(a){case qf:case Hf:case Wf:return e}var s,u=e._def.providersByKey[a];if(u){var c=e._providers[u.index];return void 0===c&&(c=e._providers[u.index]=Kf(e,u)),c===Bf?void 0:c}if((s=T(t.token))&&(n=e,null!=(r=s.providedIn)&&("any"===r||r===n._def.scope||function(e,t){return e._def.modules.indexOf(t)>-1}(n,r)))){var l=e._providers.length;return e._def.providers[l]=e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:l,token:t.token},e._providers[l]=Bf,e._providers[l]=Kf(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{ce(o)}}function Kf(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Gf(e,n[0]));case 2:return new t(Gf(e,n[0]),Gf(e,n[1]));case 3:return new t(Gf(e,n[0]),Gf(e,n[1]),Gf(e,n[2]));default:for(var i=[],o=0;o<r;o++)i[o]=Gf(e,n[o]);return _construct(t,i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Gf(e,n[0]));case 2:return t(Gf(e,n[0]),Gf(e,n[1]));case 3:return t(Gf(e,n[0]),Gf(e,n[1]),Gf(e,n[2]));default:for(var i=[],o=0;o<r;o++)i[o]=Gf(e,n[o]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=Gf(e,t.deps[0]);break;case 256:n=t.value}return n===Bf||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Bf:n}function Yf(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Ie(n,t),nf.dirtyParentQueries(r),$f(r),r}function Zf(e,t,n){var r=t?mf(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Tf(n,2,i,o,void 0)}function $f(e){Tf(e,3,null,null,void 0)}var Xf={};function Jf(e,t,n,r,i,o){return new td(e,t,n,r,i,o)}function ed(e){return e.viewDefFactory}var td=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u;return _classCallCheck(this,n),(u=t.call(this)).selector=e,u.componentType=r,u._inputs=o,u._outputs=a,u.ngContentSelectors=s,u.viewDefFactory=i,u}return _createClass(n,[{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=Df(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=nf.createRootView(e,t||[],n,i,r,Xf),s=Xh(a,o).instance;return n&&a.renderer.setAttribute($h(a,0).renderElement,"ng-version",Eh.full),new nd(a,new ad(a),s)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),n}(ah),nd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._view=e,o._viewRef=r,o._component=i,o._elDef=o._view.def.nodes[0],o.hostView=r,o.changeDetectorRef=r,o.instance=i,o}return _createClass(n,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new dh($h(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new ld(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),n}(oh);function rd(e,t,n){return new id(e,t,n)}var id=function(){function e(t,n,r){_classCallCheck(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Yf(this._data,e);nf.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new ad(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof fh||(i=o.get(_e));var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,s=e;return n=this._view,r=this._data,i=t,o=s._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,ke(a,i,o),function(e,t){var n=yf(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,o),nf.dirtyParentQueries(o),Zf(r,i>0?a[i-1]:null,o),s.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(e._view);return n=this._data,r=s,i=t,o=n.viewContainer._embeddedViews,a=o[r],Ie(o,r),null==i&&(i=o.length),ke(o,i,a),nf.dirtyParentQueries(a),$f(a),Zf(n,i>0?o[i-1]:null,a),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Yf(this._data,e);t&&nf.destroyView(t)}},{key:"detach",value:function(e){var t=Yf(this._data,e);return t?new ad(t):null}},{key:"element",get:function(){return new dh(this._data.renderElement)}},{key:"injector",get:function(){return new ld(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=gf(e),e=e.parent;return e?new ld(e,t):new ld(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function od(e){return new ad(e)}var ad=function(){function e(t){_classCallCheck(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass(e,[{key:"markForCheck",value:function(){df(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{nf.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){nf.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),nf.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,$f(this._view),nf.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return Tf(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function sd(e,t){return new ud(e,t)}var ud=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._parentView=e,i._def=r,i}return _createClass(n,[{key:"createEmbeddedView",value:function(e){return new ad(nf.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new dh($h(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(Vh);function cd(e,t){return new ld(e,t)}var ld=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.elDef=n}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rs.THROW_IF_NOT_FOUND;return nf.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:af(e)},t)}}]),e}();function hd(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=$h(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Zh(e,n.nodeIndex).renderText;if(20240&n.flags)return Xh(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function fd(e,t,n,r){return new dd(e,t,n,r)}var dd=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=Se(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Kf(e,i))}}(this)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rs.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.Default,r=0;return n&b.SkipSelf?r|=1:n&b.Self&&(r|=4),Gf(this,{token:e,tokenKey:af(e),flags:r},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(M(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==Bf){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(lh)}}]),e}(),pd=af(mh),vd=af(dh),yd=af(qh),gd=af(Vh),md=af(ma),_d=af(rs),wd=af(ie);function Cd(e,t,n,r,i,o,a,s){var u=[];if(a)for(var c in a){var l=_slicedToArray(a[c],2),h=l[0],f=l[1];u[h]={flags:8,name:c,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(s)for(var p in s)d.push({type:1,propName:p,target:null,eventName:s[p]});return kd(e,t|=16384,n,r,i,i,o,u,d)}function bd(e,t,n){return kd(-1,e|=16,null,0,t,t,n)}function Ed(e,t,n,r,i){return kd(-1,e,t,0,n,r,i)}function kd(e,t,n,r,i,o,a,s,u){var c=Ef(n),l=c.matchedQueries,h=c.references,f=c.matchedQueryIds;u||(u=[]),s||(s=[]),o=U(o);var d=kf(a,M(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Ff(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Id(e,t){return Ad(e,t)}function Sd(e,t){for(var n=e;n.parent&&!wf(n);)n=n.parent;return xd(n.parent,gf(n),!0,t.provider.value,t.provider.deps)}function Dd(e,t){var n=xd(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName];if(!Pu(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(Td(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Td(e,t,n){return function(r){return vf(e,t,n,r)}}function Ad(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return xd(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(Nd(e,t,n,i[0]));case 2:return r(Nd(e,t,n,i[0]),Nd(e,t,n,i[1]));case 3:return r(Nd(e,t,n,i[0]),Nd(e,t,n,i[1]),Nd(e,t,n,i[2]));default:for(var a=[],s=0;s<o;s++)a.push(Nd(e,t,n,i[s]));return r.apply(void 0,a)}}(e,t.parent,n,r.value,r.deps);case 2048:return Nd(e,t.parent,n,r.deps[0]);case 256:return r.value}}function xd(e,t,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(Nd(e,t,n,i[0]));case 2:return new r(Nd(e,t,n,i[0]),Nd(e,t,n,i[1]));case 3:return new r(Nd(e,t,n,i[0]),Nd(e,t,n,i[1]),Nd(e,t,n,i[2]));default:for(var a=[],s=0;s<o;s++)a.push(Nd(e,t,n,i[s]));return _construct(r,a)}}var Od={};function Nd(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rs.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var a=r.tokenKey;a===md&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var s=e;s;){if(t)switch(a){case pd:return Pd(s,t,n).renderer;case vd:return new dh($h(s,t.nodeIndex).renderElement);case yd:return $h(s,t.nodeIndex).viewContainer;case gd:if(t.element.template)return $h(s,t.nodeIndex).template;break;case md:return od(Pd(s,t,n));case _d:case wd:return cd(s,t);default:var u=(n?t.element.allProviders:t.element.publicProviders)[a];if(u){var c=Xh(s,u.nodeIndex);return c||(c={instance:Ad(s,u)},s.nodes[u.nodeIndex]=c),c.instance}}n=wf(s),t=gf(s),s=s.parent,4&r.flags&&(s=null)}var l=o.root.injector.get(r.token,Od);return l!==Od||i===Od?l:o.root.ngModule.injector.get(r.token,i)}function Pd(e,t,n){var r;if(n)r=$h(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!wf(r);)r=r.parent;return r}function Rd(e,t,n,r,i,o){if(32768&n.flags){var a=$h(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=Bs.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Gl(s,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Fd(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&t&&jd(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=Md(e,a,t,r)),a=a.parent}}function Md(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&jd(e,i,o.flags&n,r++),i+=o.childCount}return r}function jd(e,t,n,r){var i=Xh(e,t);if(i){var o=i.instance;o&&(nf.setCurrentNode(e,t),1048576&n&&Yh(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Yh(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var Ld=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=Ge(e);return new Bd(t,this.ngModule)}}]),n}(lh);function Vd(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Ud=new re("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Sn}}),Bd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Si).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Od,i);return o!==Od||r===Od?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(yh,ct),u=a.get(Ch,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?io(c,n,this.componentDef.encapsulation):zi(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p=Fl(),v=ro(0,-1,null,1,0,null,null,null,null,null),y=Gi(null,v,p,f,null,null,s,c,u,a);Kt(y,null);try{var g=Pl(h,this.componentDef,y,s,c);if(h)if(n)vn(c,h,["ng-version",Eh.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ci(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,w=m.classes;_&&vn(c,h,_),w&&w.length>0&&ua(c,h,w.join(" "))}if(o=pt(v,0),void 0!==t)for(var C=o.projection=[],b=0;b<this.ngContentSelectors.length;b++){var E=t[b];C.push(null!=E?Array.from(E):null)}i=Rl(g,this.componentDef,y,p,[Ml]),Yi(v,y,null)}finally{Jt()}var k=new qd(this.componentType,i,pa(dh,o,y),y,o);return n&&!d||(v.node.child=o),k}},{key:"inputs",get:function(){return Vd(this.componentDef.inputs)}},{key:"outputs",get:function(){return Vd(this.componentDef.outputs)}}]),n}(ah),qd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new da(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=oo(0,null,2,-1,null,null)),c[6]=l,s.componentType=e,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new Gn(this._tNode,this._rootLView)}}]),n}(oh),Hd=void 0,Wd=["en",[["a","p"],["AM","PM"],Hd],[["AM","PM"],Hd,Hd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hd,"{1} 'at' {0}",Hd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Qd={};function zd(e,t,n){"string"!=typeof t&&(n=t,t=e[Xd.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Qd[t]=e,n&&(Qd[t][Xd.ExtraData]=n)}function Gd(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Zd(t);if(n)return n;var r=t.split("-")[0];if(n=Zd(r))return n;if("en"===r)return Wd;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Kd(e){return Gd(e)[Xd.CurrencyCode]||null}function Yd(e){return Gd(e)[Xd.PluralCase]}function Zd(e){return e in Qd||(Qd[e]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[e]),Qd[e]}function $d(){Qd={}}var Xd=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Jd=["zero","one","two","few","many"],ep="en-US",tp="USD",np=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,rp=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ip=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,op=/\ufffd(\d+):?\d*\ufffd/gi,ap=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,sp=/\[(\ufffd.+?\ufffd?)\]/,up=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,cp=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,lp=/{([A-Z0-9_]+)}/g,hp=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,fp=/\/\*/,dp=/\d+\:(\d+)/;function pp(e){if(!e)return[];var t,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;t=o.exec(e);){var a=t.index;if("}"==t[0]){if(r.pop(),0==r.length){var s=e.substring(n,a);np.test(s)?i.push(vp(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=e.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=e.substring(n);return i.push(c),i}function vp(e){for(var t=[],n=[],r=1,i=0,o=pp(e=e.replace(np,(function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}))),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&t.push(s);var u=pp(o[a++]);t.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:t,values:n}}function yp(e){for(var t,n,r="",i=0,o=!1;null!==(t=rp.exec(e));)o?t[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+=e.substr(i)}function gp(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[null,null],o=e.split(op),a=0,s=0;s<o.length;s++){var u=o[s];if(1&s){var c=parseInt(u,10);i.push(-1-c),a|=Cp(c)}else""!==u&&i.push(u)}return i.push(t<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function mp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n|=Cp(e.mainBinding);for(var r=0;r<e.values.length;r++)for(var i=e.values[r],o=0;o<i.length;o++){var a=i[o];if("string"==typeof a)for(;t=op.exec(a);)n|=Cp(parseInt(t[1],10));else n=mp(a,n)}return n}var _p=[],wp=-1;function Cp(e){return 1<<Math.min(e,31)}var bp,Ep=[];function kp(e,t,n){var r=At();_p[++wp]=e,Hu(!0),r.firstCreatePass&&null===r.data[e+20]&&function(e,t,n,r,i){var o=t.blueprint.length-20;bp=0;var a=Ot(),s=Pt()?a:a&&a.parent,u=s&&s!==e[6]?s.index-20:n,c=0;Ep[c]=u;var l=[];if(n>0&&a!==s){var h=a.index-20;Pt()||(h=~h),l.push(h<<3|0)}var f,d=[],p=[];if(""===r&&Dp(i))l.push(r,Ip(o),u<<17|1);else for(var v=function(e,t){if(Dp(t))return yp(e);var n=e.indexOf(":".concat(t,"\ufffd"))+2+t.toString().length,r=e.search(new RegExp("\ufffd\\/\\*\\d+:".concat(t,"\ufffd")));return yp(e.substring(n,r))}(r,i),y=(f=v,f.replace(Hp," ")).split(ip),g=0;g<y.length;g++){var m=y[g];if(1&g)if("/"===m.charAt(0)){if("#"===m.charAt(1)){var _=parseInt(m.substr(2),10);u=Ep[--c],l.push(_<<3|5)}}else{var w=parseInt(m.substr(1),10),C="#"===m.charAt(0);l.push((C?w:~w)<<3|0,u<<17|1),C&&(Ep[++c]=u=w)}else for(var b=pp(m),E=0;E<b.length;E++)if(1&E){var k=b[E];if("object"!=typeof k)throw new Error('Unable to parse ICU expression in "'.concat(v,'" message.'));var I=Ip(o);l.push(ji,"",I,u<<17|1);var S=mp(k);Up(p,k,I,I);var D=p.length-1;d.push(Cp(k.mainBinding),3,-1-k.mainBinding,I<<2|2,D,S,2,I<<2|3,D)}else if(""!==b[E]){var T=b[E],A=T.match(op),x=Ip(o);l.push(A?"":T,x,u<<17|1),A&&Ce(gp(T,x),d)}}bp>0&&function(e,t,n){if(n>0&&e.firstCreatePass){for(var r=0;r<n;r++)e.blueprint.push(null),e.data.push(null),t.push(null);e.expandoInstructions?e.expandoInstructions.push(n):e.expandoStartIndex+=n}}(t,e,bp),t.data[n+20]={vars:bp,create:l,update:d,icus:p.length?p:null}}(Tt(),r,e,t,n)}function Ip(e){return e+bp++}function Sp(e,t,n,r,i){var o=t.next;r||(r=n),r===n&&t!==n.child?(t.next=n.child,n.child=t):r!==n&&t!==r.next?(t.next=r.next,r.next=t):t.next=null,n!==i[6]&&(t.parent=n);for(var a=t.next;a;)a.next===t&&(a.next=o),a=a.next;if(1===t.type)return oa(e,i,t),t;ea(e,i,ft(t,i),t);var s=i[t.index];return 0!==t.type&&Je(s)&&ea(e,i,s[7],t),t}function Dp(e){return void 0===e}function Tp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if(sp.test(e)){var r={},i=[0];n=n.replace(up,(function(e,t,n){var o=t||n,a=r[o]||[];if(a.length||(o.split("|").forEach((function(e){var t=e.match(dp),n=t?parseInt(t[1],10):0,r=fp.test(e);a.push([n,r,e])})),r[o]=a),!a.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);for(var s=i[i.length-1],u=0,c=0;c<a.length;c++)if(a[c][0]===s){u=c;break}var l=_slicedToArray(a[u],3),h=l[0],f=l[1],d=l[2];return f?i.pop():s!==h&&i.push(h),a.splice(u,1),d}))}return Object.keys(t).length?n=(n=(n=n.replace(cp,(function(e,n,r,i,o,a){return t.hasOwnProperty(r)?"".concat(n).concat(t[r]).concat(a):e}))).replace(lp,(function(e,n){return t.hasOwnProperty(n)?t[n]:e}))).replace(hp,(function(e,n){if(t.hasOwnProperty(n)){var r=t[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - ".concat(e," with key: ").concat(n));return r.shift()}return e})):n}function Ap(){var e=Tt();!function(e,t){for(var n=_p[wp--],r=e.data[n+20],i=Ot(),o=Op(n,r.create,e,t),a=n+1;a<=i.index-20;){-1===o.indexOf(a)&&Np(e,t,a,!0);var s=pt(e,a);!s||0!==s.type&&3!==s.type&&4!==s.type||null===s.localNames||(a+=s.localNames.length>>1),a++}}(At(),e),Hu(!1)}function xp(e,t,n,r,i,o){var a=Ot();t[n+20]=i;var s=Ki(e,t[6],n,r,o,null);return a&&a.next===s&&(a.next=null),s}function Op(e,t,n,r){for(var i=r[11],o=null,a=null,s=[],u=0;u<t.length;u++){var c=t[u];if("string"==typeof c){var l=Bo(c,i),h=t[++u];a=o,o=xp(n,r,h,3,l,null),s.push(h),Rt()}else if("number"==typeof c)switch(7&c){case 1:var f=c>>>17;a=Sp(n,o,f===e?r[6]:pt(n,f),a,r);break;case 0:var d=c>=0,p=(d?c:~c)>>>3;s.push(p),a=o,(o=pt(n,p))&&Nt(o,d);break;case 5:a=o=pt(n,c>>>3),Nt(o,!1);break;case 4:var v=t[++u],y=t[++u];_o(pt(n,c>>>3),r,v,y,null,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}else switch(c){case ji:var g=t[++u],m=t[++u],_=i.createComment(g);a=o,o=xp(n,r,m,5,_,null),s.push(m),ci(_,r),o.activeCaseIndex=null,Rt();break;case Mi:var w=t[++u],C=t[++u];a=o,o=xp(n,r,C,3,i.createElement(w),w),s.push(C);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}}return Rt(),s}function Np(e,t,n,r){var i=pt(e,n),o=ht(n,t);o&&na(t[11],o);var a=vt(t,n);if(Je(a)){var s=a;0!==i.type&&na(t[11],s[7])}r&&(i.flags|=64)}function Pp(e,t,n){kp(e,t,n),Ap()}function Rp(e,t){!function(e,t,n,r){for(var i=Ot().index-20,o=[],a=0;a<r.length;a+=2)for(var s=r[a],u=r[a+1].split(ap),c=0;c<u.length;c++){var l=u[c];if(1&c)throw new Error("ICU expressions are not yet supported in attributes");if(""!==l)if(l.match(op))t.firstCreatePass&&null===t.data[n+20]&&Ce(gp(l,i,s),o);else{var h=pt(t,i);3===h.type&&_o(h,e,s,l,null,null);var f=null!==h.inputs&&h.inputs[s];f&&Mo(t,e,f,s,l)}}t.firstCreatePass&&null===t.data[n+20]&&(t.data[n+20]=o)}(Tt(),At(),e,t)}var Fp=0,Mp=0;function jp(e){return zs(Tt(),Ut(),e)&&(Fp|=1<<Mp),Mp++,jp}function Lp(e){if(Mp){var t,n=At(),r=n.data[e+20],i=null;Array.isArray(r)?t=r:(t=r.update,i=r.icus);var o=Lt()-Mp-1,a=Tt();!function e(t,n,r,i,o,a){for(var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=!1,c=0;c<t.length;c++){var l=t[c],h=t[++c];if(s||l&i)for(var f="",d=c+1;d<=c+h;d++){var p=t[d];if("string"==typeof p)f+=p;else if("number"==typeof p)if(p<0)f+=kn(a[r-p]);else{var v=p>>>2,y=void 0,g=void 0;switch(3&p){case 1:var m=t[++d],_=t[++d];so(o,pt(o,v),a,m,f,a[11],_,!1);break;case 0:jo(a,v,f);break;case 2:if(y=n[t[++d]],null!==(g=pt(o,v)).activeCaseIndex)for(var w=y.remove[g.activeCaseIndex],C=0;C<w.length;C++){var b=w[C];switch(7&b){case 3:Np(o,a,b>>>3,!1);break;case 6:var E=pt(o,w[C+1]>>>3).activeCaseIndex;null!==E&&Ce(n[b>>>3].remove[E],w)}}var k=Vp(y,f);g.activeCaseIndex=-1!==k?k:null,k>-1&&(Op(-1,y.create[k],o,a),u=!0);break;case 3:y=n[t[++d]],null!==(g=pt(o,v)).activeCaseIndex&&e(y.update[g.activeCaseIndex],n,r,i,o,a,u)}}}c+=h}}(t,i,o,Fp,n,a),Fp=0,Mp=0}}function Vp(e,t){var n,r,i,o=e.cases.indexOf(t);if(-1===o)switch(e.type){case 1:var a=(n=t,r=Yd(Wp)(parseInt(n,10)),void 0!==(i=Jd[r])?i:"other");-1===(o=e.cases.indexOf(a))&&"other"!==a&&(o=e.cases.indexOf("other"));break;case 0:o=e.cases.indexOf("other")}return o}function Up(e,t,n,r){for(var i=[],o=[],a=[],s=[],u=[],c=0;c<t.values.length;c++){for(var l=t.values[c],h=[],f=0;f<l.length;f++){var d=l[f];if("string"!=typeof d){var p=h.push(d)-1;l[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}var v=Bp(l.join(""),n,h,e,r);i.push(v.create),o.push(v.remove),a.push(v.update),s.push(v.vars),u.push(v.childIcus)}e.push({type:t.type,vars:s,childIcus:u,cases:t.cases,create:i,remove:o,update:a}),bp+=Math.max.apply(Math,s)}function Bp(e,t,n,r,i){var o=new wr(st()).getInertBodyElement(e);if(!o)throw new Error("Unable to generate inert body element");var a={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,r,i,o,a){if(t){for(var s=[];t;){var u=t.nextSibling,c=a+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:var l=t,h=l.tagName.toLowerCase();if(Nr.hasOwnProperty(h)){n.create.push(Mi,h,c,r<<17|1);for(var f=l.attributes,d=0;d<f.length;d++){var p=f.item(d),v=p.name.toLowerCase();p.value.match(op)?Fr.hasOwnProperty(v)&&Ce(Pr[v]?gp(p.value,c,p.name,Er):Rr[v]?gp(p.value,c,p.name,kr):gp(p.value,c,p.name),n.update):n.create.push(c<<3|4,p.name,p.value)}e(t.firstChild,n,c,i,o,a),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var y=t.textContent||"",g=y.match(op);n.create.push(g?"":y,c,r<<17|1),n.remove.push(c<<3|3),g&&Ce(gp(y,c),n.update);break;case Node.COMMENT_NODE:var m=qp.exec(t.textContent||"");if(m){var _=parseInt(m[1],10);n.create.push(ji,"",c,r<<17|1),s.push([i[_],c])}else n.vars--;break;default:n.vars--}t=u}for(var w=0;w<s.length;w++){var C=s[w][0],b=s[w][1];Up(o,C,b,a+n.vars);var E=o.length-1;n.vars+=Math.max.apply(Math,_toConsumableArray(o[E].vars)),n.childIcus.push(E);var k=mp(C);n.update.push(Cp(C.mainBinding),3,-1-C.mainBinding,b<<2|2,E,k,2,b<<2|3,E),n.remove.push(E<<3|6,b<<3|3)}}}((qr(o)||o).firstChild,a,t,n,r,i),a}var qp=/\ufffd(\d+)\ufffd/,Hp=/\uE500/g,Wp=ep;function Qp(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&(Wp=e.toLowerCase().replace(/_/g,"-"))}function zp(e,t,n,r){return u((function(){var i,o=e,a=o.prototype?Object.getPrototypeOf(o.prototype):null,s=a&&a.constructor;null!==t&&(void 0===o.decorators||s&&s.decorators===o.decorators?o.decorators=t:(i=o.decorators).push.apply(i,_toConsumableArray(t))),null!==n&&(o.ctorParameters=n),null!==r&&(o.propDecorators=void 0===o.propDecorators||s&&s.propDecorators===o.propDecorators?r:Object.assign(Object.assign({},o.propDecorators),r))}))}var Gp=new Map;function Kp(e,t){var n=Gp.get(e);Yp(e,n&&n.moduleType,t.moduleType),Gp.set(e,t)}function Yp(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(M(t)," vs ").concat(M(t.name)))}function Zp(e){if(null!==e.\u0275mod.id){var t=e.\u0275mod.id;Yp(t,Gp.get(t),e),Gp.set(t,e)}var n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach((function(e){return Zp(e)}))}function $p(e){return Gp.get(e)||Be[e]}var Xp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Ld(_assertThisInitialized(i));var o=$e(e),a=e[ee]||null;return a&&Qp(a),i._bootstrapComponents=xn(o.bootstrap),i._r3Injector=Ka(e,r,[{provide:_e,useValue:_assertThisInitialized(i)},{provide:lh,useValue:i.componentFactoryResolver}],M(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rs.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.Default;return e===rs||e===_e||e===ie?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(_e),Jp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==$e(e)&&Zp(e),r}return _createClass(n,[{key:"create",value:function(e){return new Xp(this.moduleType,e)}}]),n}(we);function ev(e,t,n){var r=jt()+e,i=Tt();return i[r]===Di?Ws(i,r,n?t.call(n):t()):Qs(i,r)}function tv(e,t,n,r){return hv(Tt(),jt(),e,t,n,r)}function nv(e,t,n,r,i){return fv(Tt(),jt(),e,t,n,r,i)}function rv(e,t,n,r,i,o){return dv(Tt(),jt(),e,t,n,r,i,o)}function iv(e,t,n,r,i,o,a){return pv(Tt(),jt(),e,t,n,r,i,o,a)}function ov(e,t,n,r,i,o,a,s){var u=jt()+e,c=Tt(),l=Ys(c,u,n,r,i,o);return zs(c,u+4,a)||l?Ws(c,u+5,s?t.call(s,n,r,i,o,a):t(n,r,i,o,a)):Qs(c,u+5)}function av(e,t,n,r,i,o,a,s,u){var c=jt()+e,l=Tt(),h=Ys(l,c,n,r,i,o);return Gs(l,c+4,a,s)||h?Ws(l,c+6,u?t.call(u,n,r,i,o,a,s):t(n,r,i,o,a,s)):Qs(l,c+6)}function sv(e,t,n,r,i,o,a,s,u,c){var l=jt()+e,h=Tt(),f=Ys(h,l,n,r,i,o);return Ks(h,l+4,a,s,u)||f?Ws(h,l+7,c?t.call(c,n,r,i,o,a,s,u):t(n,r,i,o,a,s,u)):Qs(h,l+7)}function uv(e,t,n,r,i,o,a,s,u,c,l){var h=jt()+e,f=Tt(),d=Ys(f,h,n,r,i,o);return Ys(f,h+4,a,s,u,c)||d?Ws(f,h+8,l?t.call(l,n,r,i,o,a,s,u,c):t(n,r,i,o,a,s,u,c)):Qs(f,h+8)}function cv(e,t,n,r){return vv(Tt(),jt(),e,t,n,r)}function lv(e,t){var n=e[t];return n===Di?void 0:n}function hv(e,t,n,r,i,o){var a=t+n;return zs(e,a,i)?Ws(e,a+1,o?r.call(o,i):r(i)):lv(e,a+1)}function fv(e,t,n,r,i,o,a){var s=t+n;return Gs(e,s,i,o)?Ws(e,s+2,a?r.call(a,i,o):r(i,o)):lv(e,s+2)}function dv(e,t,n,r,i,o,a,s){var u=t+n;return Ks(e,u,i,o,a)?Ws(e,u+3,s?r.call(s,i,o,a):r(i,o,a)):lv(e,u+3)}function pv(e,t,n,r,i,o,a,s,u){var c=t+n;return Ys(e,c,i,o,a,s)?Ws(e,c+4,u?r.call(u,i,o,a,s):r(i,o,a,s)):lv(e,c+4)}function vv(e,t,n,r,i,o){for(var a=t+n,s=!1,u=0;u<i.length;u++)zs(e,a++,i[u])&&(s=!0);return s?Ws(e,a,r.apply(o,i)):lv(e,a)}function yv(e,t){var n,r=At(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ze(n.type)),a=le(wu),s=Nn(!1),u=o();return Nn(s),le(a),mu(r,Tt(),e,u),u}function gv(e,t,n){var r=Tt(),i=vt(r,e);return Ev(r,bv(r,e)?hv(r,jt(),t,i.transform,n,i):i.transform(n))}function mv(e,t,n,r){var i=Tt(),o=vt(i,e);return Ev(i,bv(i,e)?fv(i,jt(),t,o.transform,n,r,o):o.transform(n,r))}function _v(e,t,n,r,i){var o=Tt(),a=vt(o,e);return Ev(o,bv(o,e)?dv(o,jt(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function wv(e,t,n,r,i,o){var a=Tt(),s=vt(a,e);return Ev(a,bv(a,e)?pv(a,jt(),t,s.transform,n,r,i,o,s):s.transform(n,r,i,o))}function Cv(e,t,n){var r=Tt(),i=vt(r,e);return Ev(r,bv(r,e)?vv(r,jt(),t,i.transform,n,i):i.transform.apply(i,n))}function bv(e,t){return e[1].data[t+20].pure}function Ev(e,t){return Bs.isWrapped(t)&&(t=Bs.unwrap(t),e[Lt()]=Di),t}var kv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return e instanceof i.a&&e.add(u),u}}]),n}(r.a);function Iv(){return this._results[Ls()]()}var Sv=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new kv,this.length=0;var t=Ls(),n=e.prototype;n[t]||(n[t]=Iv)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=be(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Dv=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Tv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Qv(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Av=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},xv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),Ov=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,Nv(t,n[r]));else{var i=this.metadata.predicate;i===Vh?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Hn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===dh||r===qh||r===Vh&&0===t.type)this.addMatch(t.index,-2);else{var i=Hn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Nv(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Pv(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?pa(dh,e,t):0===e.type?va(Vh,dh,e,t):null}(t,e):-2===n?function(e,t,n){return n===dh?pa(dh,t,e):n===Vh?va(Vh,dh,t,e):n===qh?ya(qh,dh,t,e):void 0}(e,t,r):Wn(e,e[1],n,t)}function Rv(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Pv(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Fv(e){var t=Tt(),n=At(),r=Qt();zt(r+1);var i=Qv(n,r);if(e.dirty&&_t(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Rv(t,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];e(y[1],y,l,i)}}}return i}(n,t,r,[]):Rv(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Mv(e,t,n){Lv(At(),Tt(),e,t,n,!0)}function jv(e,t,n){Lv(At(),Tt(),e,t,n,!1)}function Lv(e,t,n,r,i,o){e.firstCreatePass&&(Wv(e,new Av(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),Hv(e,t)}function Vv(e,t,n,r){Bv(At(),Tt(),t,n,r,!1,Ot(),e)}function Uv(e,t,n,r){Bv(At(),Tt(),t,n,r,!0,Ot(),e)}function Bv(e,t,n,r,i,o,a,s){e.firstCreatePass&&(Wv(e,new Av(n,r,o,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),o&&(e.staticContentQueries=!0)),Hv(e,t)}function qv(){return e=Tt(),t=Qt(),e[19].queries[t].queryList;var e,t}function Hv(e,t){var n=new Sv;!function(e,t,n,r){var i=No(t);i.push(n),e.firstCreatePass&&Po(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new Tv),t[19].queries.push(new Dv(n))}function Wv(e,t,n){null===e.queries&&(e.queries=new xv),e.queries.track(new Ov(t,n))}function Qv(e,t){return e.queries.getByIndex(t)}function zv(e,t){return va(Vh,dh,e,t)}function Gv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.Default,t=ga(!0);if(null!=t||e&b.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var Kv={"\u0275\u0275attribute":Zs,"\u0275\u0275attributeInterpolate1":au,"\u0275\u0275attributeInterpolate2":su,"\u0275\u0275attributeInterpolate3":uu,"\u0275\u0275attributeInterpolate4":cu,"\u0275\u0275attributeInterpolate5":lu,"\u0275\u0275attributeInterpolate6":hu,"\u0275\u0275attributeInterpolate7":fu,"\u0275\u0275attributeInterpolate8":du,"\u0275\u0275attributeInterpolateV":pu,"\u0275\u0275defineComponent":je,"\u0275\u0275defineDirective":Qe,"\u0275\u0275defineInjectable":I,"\u0275\u0275defineInjector":D,"\u0275\u0275defineNgModule":qe,"\u0275\u0275definePipe":ze,"\u0275\u0275directiveInject":wu,"\u0275\u0275getFactoryOf":Kn,"\u0275\u0275getInheritedFactory":Yn,"\u0275\u0275inject":fe,"\u0275\u0275injectAttribute":Cu,"\u0275\u0275invalidFactory":bu,"\u0275\u0275invalidFactoryDep":de,"\u0275\u0275injectPipeChangeDetectorRef":Gv,"\u0275\u0275templateRefExtractor":zv,"\u0275\u0275NgOnChangesFeature":Kl,"\u0275\u0275ProvidersFeature":ih,"\u0275\u0275CopyDefinitionFeature":zl,"\u0275\u0275InheritDefinitionFeature":Vl,"\u0275\u0275nextContext":Vu,"\u0275\u0275namespaceHTML":sn,"\u0275\u0275namespaceMathML":an,"\u0275\u0275namespaceSVG":on,"\u0275\u0275enableBindings":St,"\u0275\u0275disableBindings":Dt,"\u0275\u0275elementStart":Iu,"\u0275\u0275elementEnd":Su,"\u0275\u0275element":Du,"\u0275\u0275elementContainerStart":Tu,"\u0275\u0275elementContainerEnd":Au,"\u0275\u0275elementContainer":xu,"\u0275\u0275pureFunction0":ev,"\u0275\u0275pureFunction1":tv,"\u0275\u0275pureFunction2":nv,"\u0275\u0275pureFunction3":rv,"\u0275\u0275pureFunction4":iv,"\u0275\u0275pureFunction5":ov,"\u0275\u0275pureFunction6":av,"\u0275\u0275pureFunction7":sv,"\u0275\u0275pureFunction8":uv,"\u0275\u0275pureFunctionV":cv,"\u0275\u0275getCurrentView":Ou,"\u0275\u0275restoreView":xt,"\u0275\u0275listener":Ru,"\u0275\u0275projection":Wu,"\u0275\u0275updateSyntheticHostBinding":yl,"\u0275\u0275componentHostSyntheticListener":Fu,"\u0275\u0275pipeBind1":gv,"\u0275\u0275pipeBind2":mv,"\u0275\u0275pipeBind3":_v,"\u0275\u0275pipeBind4":wv,"\u0275\u0275pipeBindV":Cv,"\u0275\u0275projectionDef":Bu,"\u0275\u0275hostProperty":vl,"\u0275\u0275property":Eu,"\u0275\u0275propertyInterpolate":Qu,"\u0275\u0275propertyInterpolate1":zu,"\u0275\u0275propertyInterpolate2":Gu,"\u0275\u0275propertyInterpolate3":Ku,"\u0275\u0275propertyInterpolate4":Yu,"\u0275\u0275propertyInterpolate5":Zu,"\u0275\u0275propertyInterpolate6":$u,"\u0275\u0275propertyInterpolate7":Xu,"\u0275\u0275propertyInterpolate8":Ju,"\u0275\u0275propertyInterpolateV":ec,"\u0275\u0275pipe":yv,"\u0275\u0275queryRefresh":Fv,"\u0275\u0275viewQuery":jv,"\u0275\u0275staticViewQuery":Mv,"\u0275\u0275staticContentQuery":Uv,"\u0275\u0275loadQuery":qv,"\u0275\u0275contentQuery":Vv,"\u0275\u0275reference":_u,"\u0275\u0275classMap":mc,"\u0275\u0275classMapInterpolate1":qc,"\u0275\u0275classMapInterpolate2":Hc,"\u0275\u0275classMapInterpolate3":Wc,"\u0275\u0275classMapInterpolate4":Qc,"\u0275\u0275classMapInterpolate5":zc,"\u0275\u0275classMapInterpolate6":Gc,"\u0275\u0275classMapInterpolate7":Kc,"\u0275\u0275classMapInterpolate8":Yc,"\u0275\u0275classMapInterpolateV":Zc,"\u0275\u0275styleMap":yc,"\u0275\u0275styleMapInterpolate1":$c,"\u0275\u0275styleMapInterpolate2":Xc,"\u0275\u0275styleMapInterpolate3":Jc,"\u0275\u0275styleMapInterpolate4":el,"\u0275\u0275styleMapInterpolate5":tl,"\u0275\u0275styleMapInterpolate6":nl,"\u0275\u0275styleMapInterpolate7":rl,"\u0275\u0275styleMapInterpolate8":il,"\u0275\u0275styleMapInterpolateV":ol,"\u0275\u0275styleProp":pc,"\u0275\u0275stylePropInterpolate1":al,"\u0275\u0275stylePropInterpolate2":sl,"\u0275\u0275stylePropInterpolate3":ul,"\u0275\u0275stylePropInterpolate4":cl,"\u0275\u0275stylePropInterpolate5":ll,"\u0275\u0275stylePropInterpolate6":hl,"\u0275\u0275stylePropInterpolate7":fl,"\u0275\u0275stylePropInterpolate8":dl,"\u0275\u0275stylePropInterpolateV":pl,"\u0275\u0275styleSanitizer":dc,"\u0275\u0275classProp":vc,"\u0275\u0275select":Ri,"\u0275\u0275advance":Pi,"\u0275\u0275template":gu,"\u0275\u0275text":Oc,"\u0275\u0275textInterpolate":Nc,"\u0275\u0275textInterpolate1":Pc,"\u0275\u0275textInterpolate2":Rc,"\u0275\u0275textInterpolate3":Fc,"\u0275\u0275textInterpolate4":Mc,"\u0275\u0275textInterpolate5":jc,"\u0275\u0275textInterpolate6":Lc,"\u0275\u0275textInterpolate7":Vc,"\u0275\u0275textInterpolate8":Uc,"\u0275\u0275textInterpolateV":Bc,"\u0275\u0275i18n":Pp,"\u0275\u0275i18nAttributes":Rp,"\u0275\u0275i18nExp":jp,"\u0275\u0275i18nStart":kp,"\u0275\u0275i18nEnd":Ap,"\u0275\u0275i18nApply":Lp,"\u0275\u0275i18nPostprocess":Tp,"\u0275\u0275resolveWindow":Dn,"\u0275\u0275resolveDocument":Tn,"\u0275\u0275resolveBody":An,"\u0275\u0275setComponentScope":Le,"\u0275\u0275setNgModuleScope":He,"\u0275\u0275sanitizeHtml":Gr,"\u0275\u0275sanitizeStyle":Kr,"\u0275\u0275defaultStyleSanitizer":ei,"\u0275\u0275sanitizeResourceUrl":Zr,"\u0275\u0275sanitizeScript":$r,"\u0275\u0275sanitizeUrl":Yr,"\u0275\u0275sanitizeUrlOrResourceUrl":Jr},Yv=null;function Zv(){Yv=null}var $v=[],Xv=[],Jv=!1;function ey(){if(!Jv){Jv=!0;try{for(var e=Xv.length-1;e>=0;e--){var t=Xv[e],n=t.moduleType,r=t.ngModule;r.declarations&&r.declarations.every(ty)&&(Xv.splice(e,1),oy(n,r))}}finally{Jv=!1}}}function ty(e){return Array.isArray(e)?e.every(ty):!!U(e)}function ny(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ry(e,t),function(e,t){Xv.push({moduleType:e,ngModule:t})}(e,t)}function ry(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=be(t.declarations||$v),r=null;Object.defineProperty(e,J,{configurable:!0,get:function(){return null===r&&((r=K().compileNgModule(Kv,"ng:///".concat(e.name,"/\u0275mod.js"),{type:e,bootstrap:be(t.bootstrap||$v).map(U),declarations:n.map(U),imports:be(t.imports||$v).map(U).map(uy),exports:be(t.exports||$v).map(U).map(uy),schemas:t.schemas?be(t.schemas):null,id:t.id||null})).schemas||(r.schemas=[])),r}});var i=null;Object.defineProperty(e,N,{get:function(){if(null===i){var n={name:e.name,type:e,deps:Na(e),providers:t.providers||$v,imports:[(t.imports||$v).map(U),(t.exports||$v).map(U)]};i=K().compileInjector(Kv,"ng:///".concat(e.name,"/\u0275inj.js"),n)}return i},configurable:!1})}new Map,new Map;function iy(){new Map,new Map,Xv.length=0}function oy(e,t){var n=be(t.declarations||$v),r=sy(e);n.forEach((function(t){t.hasOwnProperty(Z)?ay(Ge(t),r):t.hasOwnProperty($)||t.hasOwnProperty(X)||(t.ngSelectorScope=e)}))}function ay(e,t){e.directiveDefs=function(){return Array.from(t.compilation.directives).map((function(e){return e.hasOwnProperty(Z)?Ge(e):Ke(e)})).filter((function(e){return!!e}))},e.pipeDefs=function(){return Array.from(t.compilation.pipes).map((function(e){return Ye(e)}))},e.schemas=t.schemas,e.tView=null}function sy(e){if(!cy(e))throw new Error(e.name+" does not have a module def (\u0275mod property)");var t=$e(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;var n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return xn(t.imports).forEach((function(e){var t=e;if(!cy(t))throw new Error("Importing ".concat(t.name," which does not have a \u0275mod property"));var r=sy(t);r.exported.directives.forEach((function(e){return n.compilation.directives.add(e)})),r.exported.pipes.forEach((function(e){return n.compilation.pipes.add(e)}))})),xn(t.declarations).forEach((function(e){Ye(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),xn(t.exports).forEach((function(e){var t=e;if(cy(t)){var r=sy(t);r.exported.directives.forEach((function(e){n.compilation.directives.add(e),n.exported.directives.add(e)})),r.exported.pipes.forEach((function(e){n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else Ye(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function uy(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function cy(e){return!!$e(e)}function ly(e,t){var n=null;!function(e,t){Ps(t)&&(Os.set(e,t),Ns.add(e))}(e,t),dy(e,t),Object.defineProperty(e,Z,{get:function(){if(null===n){var r=K();if(Ps(t)){var i=["Component '".concat(e.name,"' is not resolved:")];throw t.templateUrl&&i.push(" - templateUrl: "+t.templateUrl),t.styleUrls&&t.styleUrls.length&&i.push(" - styleUrls: "+JSON.stringify(t.styleUrls)),i.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(i.join("\n"))}var o=Yv,a=t.preserveWhitespaces;void 0===a&&(a=null!==o&&void 0!==o.preserveWhitespaces&&o.preserveWhitespaces);var s=t.encapsulation;void 0===s&&(s=null!==o&&void 0!==o.defaultEncapsulation?o.defaultEncapsulation:Pe.Emulated);var u=t.templateUrl||"ng:///".concat(e.name,"/template.html"),c=Object.assign(Object.assign({},vy(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,u),template:t.template||"",preserveWhitespaces:a,styles:t.styles||Fe,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(c.usesInheritance&&yy(e),n=r.compileComponent(Kv,u,c),ey(),void 0!==e.ngSelectorScope){var l=sy(e.ngSelectorScope);ay(n,l)}}return n},configurable:!1})}function hy(e,t){var n=null;dy(e,t||{}),Object.defineProperty(e,$,{get:function(){if(null===n){var r=fy(e,t||{});n=K().compileDirective(Kv,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function fy(e,t){var n=e&&e.name,r="ng:///".concat(n,"/\u0275dir.js"),i=K(),o=vy(e,t);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&yy(e),{metadata:o,sourceMapUrl:r}}function dy(e,t){var n=null;Object.defineProperty(e,te,{get:function(){if(null===n){var r=fy(e,t),i=K();n=i.compileFactory(Kv,"ng:///".concat(e.name,"/\u0275fac.js"),Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function py(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function vy(e,t){var n,r=Oa(),i=r.ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:void 0!==t.selector?t.selector:null,deps:Na(e),host:t.host||Re,propMetadata:i,inputs:t.inputs||Fe,outputs:t.outputs||Fe,queries:gy(e,i,my),lifecycle:{usesOnChanges:r.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!py(e),exportAs:(n=t.exportAs,void 0===n?null:Cy(n)),providers:t.providers||null,viewQueries:gy(e,i,_y)}}function yy(e){for(var t=Object.prototype,n=Object.getPrototypeOf(e.prototype).constructor;n&&n!==t;)Ke(n)||Ge(n)||!Ey(n)||hy(n,null),n=Object.getPrototypeOf(n)}function gy(e,t,n){var r=[],i=function(i){if(t.hasOwnProperty(i)){var o=t[i];o.forEach((function(t){if(n(t)){if(!t.selector)throw new Error("Can't construct a query for the property \"".concat(i,'" of "').concat(In(e),"\" since the query selector wasn't defined."));if(o.some(wy))throw new Error("Cannot combine @Input decorators with query decorators");r.push(function(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Cy(n):U(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static};var n}(i,t))}}))}};for(var o in t)i(o);return r}function my(e){var t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function _y(e){var t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function wy(e){return"Input"===e.ngMetadataName}function Cy(e){return e.split(",").map((function(e){return e.trim()}))}var by=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Ey(e){var t=Oa();if(by.some((function(n){return t.hasLifecycleHook(e,n)})))return!0;var n=t.propMetadata(e);for(var r in n)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=a.ngMetadataName;if(wy(a)||my(a)||_y(a)||"Output"===s||"HostBinding"===s||"HostListener"===s)return!0}return!1}function ky(e,t){var n=null,r=null;Object.defineProperty(e,te,{get:function(){if(null===r){var n=Iy(e,t),i=K();r=i.compileFactory(Kv,"ng:///".concat(n.name,"/\u0275fac.js"),Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(e,X,{get:function(){if(null===n){var r=Iy(e,t);n=K().compilePipe(Kv,"ng:///".concat(r.name,"/\u0275pipe.js"),r)}return n},configurable:!1})}function Iy(e,t){return{type:e,typeArgumentCount:0,name:e.name,deps:Na(e),pipeName:t.name,pure:void 0===t.pure||t.pure}}var Sy=f("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),void 0,void 0,(function(e,t){return jy(e,t)})),Dy=f("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:xe.Default},e)}),Sy,void 0,(function(e,t){return My(e,t)})),Ty=f("Pipe",(function(e){return Object.assign({pure:!0},e)}),void 0,void 0,(function(e,t){return Ly(e,t)})),Ay=v("Input",(function(e){return{bindingPropertyName:e}})),xy=v("Output",(function(e){return{bindingPropertyName:e}})),Oy=v("HostBinding",(function(e){return{hostPropertyName:e}})),Ny=v("HostListener",(function(e,t){return{eventName:e,args:t}})),Py=ly,Ry=hy,Fy=ky,My=Py,jy=Ry,Ly=Fy,Vy=f("NgModule",(function(e){return e}),void 0,void 0,(function(e,t){return By(e,t)})),Uy=ny,By=Uy,qy=new re("Application Initializer"),Hy=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Nu(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(qy,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),Wy=new re("AppId");function Qy(){return"".concat(Gy()).concat(Gy()).concat(Gy())}var zy={provide:Wy,useFactory:Qy,deps:[]};function Gy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ky=new re("Platform Initializer"),Yy=new re("Platform ID"),Zy=new re("appBootstrapListener"),$y=new re("Application Packages Root URL"),Xy=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),Jy=new re("LocaleId"),eg=new re("DefaultCurrencyCode"),tg=new re("Translations"),ng=new re("TranslationsFormat"),rg=function(){var e={Error:0,Warning:1,Ignore:2};return e[e.Error]="Error",e[e.Warning]="Warning",e[e.Ignore]="Ignore",e}(),ig=!0,og=ig,ag=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},sg=function(e){return new Jp(e)},ug=sg,cg=function(e){return Promise.resolve(sg(e))},lg=cg,hg=function(e){var t=sg(e),n=xn($e(e).declarations).reduce((function(e,t){var n=Ge(t);return n&&e.push(new Bd(n)),e}),[]);return new ag(t,n)},fg=hg,dg=function(e){return Promise.resolve(hg(e))},pg=dg,vg=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=ug,this.compileModuleAsync=lg,this.compileModuleAndAllComponentsSync=fg,this.compileModuleAndAllComponentsAsync=pg}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),yg=new re("compilerOptions"),gg=function e(){_classCallCheck(this,e)},mg=Promise.resolve(0);function _g(e){"undefined"==typeof Zone?mg.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var wg=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kv(!1),this.onMicrotaskEmpty=new kv(!1),this.onStable=new kv(!1),this.onError=new kv(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=z.requestAnimationFrame,t=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(z,(function(){e.lastRequestAnimationFrameId=-1,kg(e),Eg(e)})),kg(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return Ig(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Sg(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return Ig(n),e.invoke(r,i,o,a,s)}finally{Sg(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,kg(n),Eg(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,bg,Cg,Cg);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Cg(){}var bg={};function Eg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function kg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Ig(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Sg(e){e._nesting--,Eg(e)}var Dg=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kv,this.onMicrotaskEmpty=new kv,this.onStable=new kv,this.onError=new kv}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Tg=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){wg.assertNotInAngularZone(),_g((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())_g((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(wg))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),Ag=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Ng.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ng.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function xg(e){Ng=e}var Og,Ng=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Pg=Rg;function Rg(e,t,n){var r=e.get(yg,[]).concat(t),i=new Jp(n);if(0===Os.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===s.length)return Promise.resolve(i);var u=K(),c=rs.create({providers:s}).get(u.ResourceLoader);return xs((function(e){return Promise.resolve(c.get(e))})).then((function(){return i}))}var Fg=Mg;function Mg(e){return e.isBoundToModule}var jg=new re("AllowMultipleToken"),Lg=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Vg(e){if(Og&&!Og.destroyed&&!Og.injector.get(jg,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Og=e.get(Wg);var t=e.get(Ky,null);return t&&t.forEach((function(e){return e()})),Og}function Ug(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new re(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Hg();if(!o||o.injector.get(jg,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:Ba,useValue:"platform"});Vg(rs.create({providers:a,name:r}))}return Bg(i)}}function Bg(e){var t=Hg();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function qg(){Og&&!Og.destroyed&&Og.destroy()}function Hg(){return Og&&!Og.destroyed?Og:null}var Wg=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Dg:("zone.js"===n?void 0:n)||new wg({enableLongStackTrace:mr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:wg,useValue:o}];return o.run((function(){var t=rs.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Jn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Gg(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(Hy)).runInitializers(),a.donePromise.then((function(){return og&&Qp(n.injector.get(Jy,ep)||ep),i._moduleDoBootstrap(n),n})));return Nu(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Qg({},n);return Pg(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(zg);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(M(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(rs))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function Qg(e,t){return Array.isArray(t)?t.reduce(Qg,e):Object.assign(Object.assign({},e),t)}var zg=function(){var e=function(){function e(t,n,r,i,u,c){var l=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=mr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(e){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){e.next(l._stable),e.complete()}))})),f=new o.a((function(e){var t;l._zone.runOutsideAngular((function(){t=l._zone.onStable.subscribe((function(){wg.assertNotInAngularZone(),_g((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,e.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){wg.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe(Object(s.a)()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof ah?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=Fg(n)?void 0:this._injector.get(_e),o=n.create(rs.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Tg,null);return a&&o.injector.get(Ag).registerApplication(o.location.nativeElement,a),this._loadComponent(o),mr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;){r.value.checkNoChanges()}}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Gg(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Zy,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Gg(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(wg),fe(Xy),fe(rs),fe(Jn),fe(lh),fe(Hy))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function Gg(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Kg=function e(){_classCallCheck(this,e)};function Yg(e){var t=$p(e);if(!t)throw Xg(e);return t}function Zg(e){var t=$p(e);if(!t)throw Xg(e);return new Jp(t)}var $g=Zg;function Xg(e){return new Error("No module with ID ".concat(e," loaded"))}var Jg=function e(){_classCallCheck(this,e)},em={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},tm=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||em}return _createClass(e,[{key:"load",value:function(e){return!og&&this._compiler instanceof vg?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return nm(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return nm(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(vg),fe(Jg,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function nm(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var rm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(ma),im=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(rm),om=function e(t,n){_classCallCheck(this,e),this.name=t,this.callback=n},am=function(){function e(t,n,r){_classCallCheck(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof sm&&n.addChild(this)}return _createClass(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),sm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i)).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return _createClass(n,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return function e(t,r,i){t.childNodes.forEach((function(t){t instanceof n&&(r(t)&&i.push(t),e(t,r,i))}))}(this,e,t),t}},{key:"queryAllNodes",value:function(e){var t=[];return function e(t,r,i){t instanceof n&&t.childNodes.forEach((function(t){r(t)&&i.push(t),t instanceof n&&e(t,r,i)}))}(this,e,t),t}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof n}))}}]),n}(am);function um(e){return e.map((function(e){return e.nativeElement}))}var cm=function(){function e(t){_classCallCheck(this,e),this.nativeNode=t}return _createClass(e,[{key:"parent",get:function(){var e=this.nativeNode.parentNode;return e?new lm(e):null}},{key:"injector",get:function(){return Cl(this.nativeNode)}},{key:"componentInstance",get:function(){var e=this.nativeNode;return e&&(gl(e)||_l(e))}},{key:"context",get:function(){return gl(this.nativeNode)||ml(this.nativeNode)}},{key:"listeners",get:function(){return Il(this.nativeNode).filter((function(e){return"dom"===e.type}))}},{key:"references",get:function(){return e=this.nativeNode,null===(t=El(e,!1))?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){var n=e[1].data[t];if(n&&n.localNames){for(var r={},i=n.index+1,o=0;o<n.localNames.length;o+=2)r[n.localNames[o]]=e[i],i++;return r}return null}(t.lView,t.nodeIndex)),t.localRefs||{});var e,t}},{key:"providerTokens",get:function(){return function(e){var t=El(e,!1);if(null===t)return[];for(var n,r=t.lView[1],i=r.data[t.nodeIndex],o=[],a=i.directiveEnd,s=65535&i.providerIndexes;s<a;s++){var u=r.data[s];void 0!==(n=u).type&&void 0!==n.template&&void 0!==n.declaredInputs&&(u=u.type),o.push(u)}return o}(this.nativeNode)}}]),e}(),lm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return fm(this,e,t,!0),t}},{key:"queryAllNodes",value:function(e){var t=[];return fm(this,e,t,!1),t}},{key:"triggerEventHandler",value:function(e,t){var n=this.nativeNode,r=[];this.listeners.forEach((function(i){if(i.name===e){var o=i.callback;o.call(n,t),r.push(o)}})),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach((function(e){if(-1!==e.toString().indexOf("__ngUnwrap__")){var i=e("__ngUnwrap__");return-1===r.indexOf(i)&&i.call(n,t)}}))}},{key:"nativeElement",get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}},{key:"name",get:function(){try{var e=El(this.nativeNode);return e.lView[1].data[e.nodeIndex].tagName}catch(t){return this.nativeNode.nodeName}}},{key:"properties",get:function(){var e=El(this.nativeNode,!1);if(null==e)return{};var t=e.lView,n=t[1].data,r=n[e.nodeIndex],i={};return function(e,t){if(e)for(var n=Object.getPrototypeOf(e),r=Node.prototype;null!==n&&n!==r;){var i=Object.getOwnPropertyDescriptors(n);for(var o in i)if(!o.startsWith("__")&&!o.startsWith("on")){var a=e[o];hm(a)&&(t[o]=a)}n=Object.getPrototypeOf(n)}}(this.nativeElement,i),function(e,t,n,r){var i=t.propertyBindings;if(null!==i)for(var o=0;o<i.length;o++){var a=i[o],s=r[a].split("\ufffd"),u=s[0];if(s.length>1){for(var c=s[1],l=1;l<s.length-1;l++)c+=kn(n[a+l-1])+s[l+1];e[u]=c}else e[u]=n[a]}}(i,r,t,n),i}},{key:"attributes",get:function(){var e={},t=this.nativeElement;if(!t)return e;var n=El(t,!1);if(null==n)return{};var r=n.lView[1].data[n.nodeIndex].attrs,i=[];if(r)for(var o=0;o<r.length;){var a=r[o];if("string"!=typeof a)break;e[a]=r[o+1],i.push(a.toLowerCase()),o+=2}for(var s=t.attributes,u=0;u<s.length;u++){var c=s[u],l=c.name.toLowerCase();-1===i.indexOf(l)&&(e[l]=c.value)}return e}},{key:"styles",get:function(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}},{key:"classes",get:function(){var e={},t=this.nativeElement.className;return(t&&"string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach((function(t){return e[t]=!0})),e}},{key:"childNodes",get:function(){for(var e=this.nativeNode.childNodes,t=[],n=0;n<e.length;n++)t.push(mm(e[n]));return t}},{key:"children",get:function(){var e=this.nativeElement;if(!e)return[];for(var t=e.children,n=[],r=0;r<t.length;r++)n.push(mm(t[r]));return n}}]),n}(cm);function hm(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function fm(e,t,n,r){var i=El(e.nativeNode,!1);null!==i?dm(i.lView[1].data[i.nodeIndex],i.lView,t,n,r,e.nativeNode):ym(e.nativeNode,t,n,r)}function dm(e,t,n,r,i,o){var a=dt(e,t);if(3===e.type||4===e.type){if(vm(a,n,r,i,o),tt(e)){var s=yt(e.index,t);s&&s[1].firstChild&&dm(s[1].firstChild,s,n,r,i,o)}else e.child&&dm(e.child,t,n,r,i,o),a&&ym(a,n,r,i);var u=t[e.index];Je(u)&&pm(u,n,r,i,o)}else if(0===e.type){var c=t[e.index];vm(c[7],n,r,i,o),pm(c,n,r,i,o)}else if(1===e.type){var l=t[16],h=l[6].projection[e.projection];if(Array.isArray(h)){var f,d=_createForOfIteratorHelper(h);try{for(d.s();!(f=d.n()).done;){vm(f.value,n,r,i,o)}}catch(y){d.e(y)}finally{d.f()}}else if(h){var p=l[3];dm(p[1].data[h.index],p,n,r,i,o)}}else e.child&&dm(e.child,t,n,r,i,o);if(o!==a){var v=4&e.flags?e.projectionNext:e.next;v&&dm(v,t,n,r,i,o)}}function pm(e,t,n,r,i){for(var o=10;o<e.length;o++){var a=e[o];dm(a[1].node,a,t,n,r,i)}}function vm(e,t,n,r,i){if(i!==e){var o=_m(e);if(!o)return;(r&&o instanceof lm&&t(o)&&-1===n.indexOf(o)||!r&&t(o)&&-1===n.indexOf(o))&&n.push(o)}}function ym(e,t,n,r){for(var i=e.childNodes,o=i.length,a=0;a<o;a++){var s=i[a],u=_m(s);u&&((r&&u instanceof lm&&t(u)&&-1===n.indexOf(u)||!r&&t(u)&&-1===n.indexOf(u))&&n.push(u),ym(s,t,n,r))}}var gm=new Map;function mm(e){return e instanceof Node?(e.hasOwnProperty("__ng_debug__")||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new lm(e):new cm(e)),e.__ng_debug__):null}var _m=mm;function wm(e){return function(e){return gm.get(e)||null}(e)}var Cm=function(e){return null};function bm(e){gm.set(e.nativeNode,e)}var Em=cm,km=lm,Im=Ug(null,"core",[{provide:Yy,useValue:"unknown"},{provide:Wg,deps:[rs]},{provide:Ag,deps:[]},{provide:Xy,deps:[]}]);function Sm(){return jh}function Dm(){return Lh}function Tm(e){return e=e||og&&"undefined"!=typeof $localize&&$localize.locale||ep,og&&Qp(e),e}var Am=tp,xm=[{provide:zg,useClass:zg,deps:[wg,Xy,rs,Jn,lh,Hy]},{provide:Ud,deps:[wg],useFactory:Om},{provide:Hy,useClass:Hy,deps:[[new g,qy]]},{provide:vg,useClass:vg,deps:[]},zy,{provide:Rh,useFactory:Sm,deps:[]},{provide:Fh,useFactory:Dm,deps:[]},{provide:Jy,useFactory:Tm,deps:[[new y(Jy),new g,new _]]},{provide:eg,useValue:Am}];function Om(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var Nm=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=qe({type:e}),e.\u0275inj=D({factory:function(t){return new(t||e)(fe(zg))},providers:xm}),e}();function Pm(e,t,n,r,i,o){e|=1;var a=Ef(t),s=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Df(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||rf},provider:null,text:null,query:null,ngContent:null}}function Rm(e,t,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;l||(l=rf);var d=Ef(n),p=d.matchedQueries,v=d.references,y=d.matchedQueryIds,g=null,m=null;o&&(g=(a=_slicedToArray(Rf(o),2))[0],m=a[1]),u=u||[];for(var _=[],w=0;w<u.length;w++){var C=_slicedToArray(u[w],3),b=C[0],E=C[1],k=C[2],I=Rf(E),S=_slicedToArray(I,2),D=S[0],T=S[1],A=void 0,x=void 0;switch(15&b){case 4:x=k;break;case 1:case 8:A=k}_[w]={flags:b,ns:D,name:T,nonMinifiedName:T,securityContext:A,suffix:x}}c=c||[];for(var O=[],N=0;N<c.length;N++){var P=_slicedToArray(c[N],2),R=P[0],F=P[1];O[N]={type:0,target:R,eventName:F,propName:null}}var M=(s=s||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=_slicedToArray(Rf(n),2);return[i[0],i[1],r]}));return f=function(e){if(e&&"$$undefined"===e.id){var t=null!=e.encapsulation&&e.encapsulation!==Pe.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+cf++:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(f),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:y,references:v,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:Ff(_),outputs:O,element:{ns:g,name:m,attrs:M,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:l||rf},provider:null,text:null,query:null,ngContent:null}}function Fm(e,t,n){var r,i=n.element,o=e.root.selectorOrNode,a=e.renderer;if(e.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=If(e,t,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Pe.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var c=_slicedToArray(i.attrs[u],3),l=c[0],h=c[1],f=c[2];a.setAttribute(r,h,f,l)}return r}function Mm(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=jm(e,n.nodeIndex,_f(o.target,o.eventName)),s=o.target,u=e;"component"===o.target&&(s=null,u=t);var c=u.renderer.listen(s||r,o.eventName,a);e.disposables[n.outputIndex+i]=c}}function jm(e,t,n){return function(r){return vf(e,t,n,r)}}function Lm(e,t,n,r){if(!hf(e,t,n,r))return!1;var i=t.bindings[n],o=$h(e,t.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var a=t.securityContext,s=a?e.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=e.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(e,i,a,i.ns,s,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,a,s,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(Hr.STYLE,i);if(null!=o){o=o.toString();var a=t.suffix;null!=a&&(o+=a)}else o=null;var s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,a,s,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,a=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,a,s,r)}return!0}function Vm(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:bf(t),bindings:r},ngContent:null}}function Um(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Cf(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=e.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&ef(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&e.def.nodeFlags)for(var a=0;a<e.def.nodes.length;a++){var s=e.def.nodes[a];134217728&s.flags&&536870912&s.flags&&ef(e,a).setDirty(),a+=s.childCount}}function Bm(e,t){var n=ef(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=qm(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=Xh(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=qm(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var a=t.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function qm(e,t,n,r,i){for(var o=t;o<=n;o++){var a=e.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(Hm(e,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=$h(e,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(qm(e,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],f=yf(h);f&&f===u&&qm(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];qm(v,0,v.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Hm(e,t,n){if(null!=n)switch(n){case 1:return $h(e,t.nodeIndex).renderElement;case 0:return new dh($h(e,t.nodeIndex).renderElement);case 2:return $h(e,t.nodeIndex).template;case 3:return $h(e,t.nodeIndex).viewContainer;case 4:return Xh(e,t.nodeIndex).instance}}function Wm(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Qm(e,t,n){var r=If(e,t,n);r&&xf(e,n.ngContent.index,1,r,null,void 0)}function zm(e,t){return Ym(128,e,Se(t+1))}function Gm(e,t){return Ym(32,e,Se(t))}function Km(e,t){for(var n=Object.keys(t),r=n.length,i=[],o=0;o<r;o++)i.push(n[o]);return Ym(64,e,i)}function Ym(e,t,n){for(var r=[],i=0;i<n.length;i++){var o=n[i];r.push({flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Ff(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Zm(e,t,n){for(var r=[],i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function $m(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=If(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function Xm(e,t){return(null!=e?e.toString():"")+t.suffix}function Jm(e,t,n,r){for(var i=0,o=0,a=0,s=0,u=0,c=null,l=null,h=!1,f=!1,d=null,p=0;p<t.length;p++){var v=t[p];if(v.nodeIndex=p,v.parent=c,v.bindingIndex=i,v.outputIndex=o,v.renderParent=l,a|=v.flags,u|=v.matchedQueryIds,v.element){var y=v.element;y.publicProviders=c?c.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,f=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(t_(c,v,t.length),i+=v.bindings.length,o+=v.outputs.length,!l&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var g=0!=(32768&v.flags);0==(8192&v.flags)||g?c.element.publicProviders[af(v.provider.token)]=v:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[af(v.provider.token)]=v),g&&(c.element.componentProvider=v)}if(c?(c.childFlags|=v.flags,c.directChildFlags|=v.flags,c.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(c.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)c=v,e_(v)||(l=v);else for(;c&&p===c.nodeIndex+c.childCount;){var m=c.parent;m&&(m.childFlags|=c.childFlags,m.childMatchedQueries|=c.childMatchedQueries),l=(c=m)&&e_(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||rf,updateRenderer:r||rf,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function e_(e){return 0!=(1&e.flags)&&null===e.element.name}function t_(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function n_(e,t,n,r){var i=o_(e.root,e.renderer,e,t,n);return a_(i,e.component,r),s_(i),i}function r_(e,t,n){var r=o_(e,e.renderer,null,null,t);return a_(r,n,n),s_(r),r}function i_(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,o_(e.root,i,e,t.element.componentProvider,n)}function o_(e,t,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function a_(e,t,n){e.component=t,e.context=n}function s_(e){var t;wf(e)&&(t=$h(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(nf.setCurrentNode(e,i),201347067&o.flags){case 1:var s=Fm(e,t,o),u=void 0;if(33554432&o.flags){var c=Df(o.element.componentView);u=nf.createComponentView(e,o,c,s)}Mm(e,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?sd(e,o):void 0},16777216&o.flags&&(a.viewContainer=rd(e,o,a));break;case 2:a=$m(e,t,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Id(e,o)});break;case 16:a={instance:Sd(e,o)};break;case 16384:(a=r[i])||(a={instance:Dd(e,o)}),32768&o.flags&&a_($h(e,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Sv;break;case 8:Qm(e,t,o),a=void 0}r[i]=a}y_(e,v_.CreateViewNodes),w_(e,201326592,268435456,0)}function u_(e){h_(e),nf.updateDirectives(e,1),g_(e,v_.CheckNoChanges),nf.updateRenderer(e,1),y_(e,v_.CheckNoChanges),e.state&=-97}function c_(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Kh(e,0,256),h_(e),nf.updateDirectives(e,0),g_(e,v_.CheckAndUpdate),w_(e,67108864,536870912,0);var t=Kh(e,256,512);Fd(e,2097152|(t?1048576:0)),nf.updateRenderer(e,0),y_(e,v_.CheckAndUpdate),w_(e,134217728,536870912,0),Fd(e,8388608|((t=Kh(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Kh(e,768,1024)}function l_(e,t,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(e,t,n,r,i,o,a,s,u,c,l,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,a,s,u,c,l,h){var f=t.bindings.length,d=!1;return f>0&&Lm(e,t,0,n)&&(d=!0),f>1&&Lm(e,t,1,r)&&(d=!0),f>2&&Lm(e,t,2,i)&&(d=!0),f>3&&Lm(e,t,3,o)&&(d=!0),f>4&&Lm(e,t,4,a)&&(d=!0),f>5&&Lm(e,t,5,s)&&(d=!0),f>6&&Lm(e,t,6,u)&&(d=!0),f>7&&Lm(e,t,7,c)&&(d=!0),f>8&&Lm(e,t,8,l)&&(d=!0),f>9&&Lm(e,t,9,h)&&(d=!0),d}(e,t,n,r,i,o,a,s,u,c,l,h);case 2:return function(e,t,n,r,i,o,a,s,u,c,l,h){var f=!1,d=t.bindings,p=d.length;if(p>0&&hf(e,t,0,n)&&(f=!0),p>1&&hf(e,t,1,r)&&(f=!0),p>2&&hf(e,t,2,i)&&(f=!0),p>3&&hf(e,t,3,o)&&(f=!0),p>4&&hf(e,t,4,a)&&(f=!0),p>5&&hf(e,t,5,s)&&(f=!0),p>6&&hf(e,t,6,u)&&(f=!0),p>7&&hf(e,t,7,c)&&(f=!0),p>8&&hf(e,t,8,l)&&(f=!0),p>9&&hf(e,t,9,h)&&(f=!0),f){var v=t.text.prefix;p>0&&(v+=Xm(n,d[0])),p>1&&(v+=Xm(r,d[1])),p>2&&(v+=Xm(i,d[2])),p>3&&(v+=Xm(o,d[3])),p>4&&(v+=Xm(a,d[4])),p>5&&(v+=Xm(s,d[5])),p>6&&(v+=Xm(u,d[6])),p>7&&(v+=Xm(c,d[7])),p>8&&(v+=Xm(l,d[8])),p>9&&(v+=Xm(h,d[9]));var y=Zh(e,t.nodeIndex).renderText;e.renderer.setValue(y,v)}return f}(e,t,n,r,i,o,a,s,u,c,l,h);case 16384:return function(e,t,n,r,i,o,a,s,u,c,l,h){var f=Xh(e,t.nodeIndex),d=f.instance,p=!1,v=void 0,y=t.bindings.length;return y>0&&lf(e,t,0,n)&&(p=!0,v=Rd(e,f,t,0,n,v)),y>1&&lf(e,t,1,r)&&(p=!0,v=Rd(e,f,t,1,r,v)),y>2&&lf(e,t,2,i)&&(p=!0,v=Rd(e,f,t,2,i,v)),y>3&&lf(e,t,3,o)&&(p=!0,v=Rd(e,f,t,3,o,v)),y>4&&lf(e,t,4,a)&&(p=!0,v=Rd(e,f,t,4,a,v)),y>5&&lf(e,t,5,s)&&(p=!0,v=Rd(e,f,t,5,s,v)),y>6&&lf(e,t,6,u)&&(p=!0,v=Rd(e,f,t,6,u,v)),y>7&&lf(e,t,7,c)&&(p=!0,v=Rd(e,f,t,7,c,v)),y>8&&lf(e,t,8,l)&&(p=!0,v=Rd(e,f,t,8,l,v)),y>9&&lf(e,t,9,h)&&(p=!0,v=Rd(e,f,t,9,h,v)),v&&d.ngOnChanges(v),65536&t.flags&&Yh(e,256,t.nodeIndex)&&d.ngOnInit(),262144&t.flags&&d.ngDoCheck(),p}(e,t,n,r,i,o,a,s,u,c,l,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,a,s,u,c,l,h){var f=t.bindings,d=!1,p=f.length;if(p>0&&hf(e,t,0,n)&&(d=!0),p>1&&hf(e,t,1,r)&&(d=!0),p>2&&hf(e,t,2,i)&&(d=!0),p>3&&hf(e,t,3,o)&&(d=!0),p>4&&hf(e,t,4,a)&&(d=!0),p>5&&hf(e,t,5,s)&&(d=!0),p>6&&hf(e,t,6,u)&&(d=!0),p>7&&hf(e,t,7,c)&&(d=!0),p>8&&hf(e,t,8,l)&&(d=!0),p>9&&hf(e,t,9,h)&&(d=!0),d){var v,y=Jh(e,t.nodeIndex);switch(201347067&t.flags){case 32:v=[],p>0&&v.push(n),p>1&&v.push(r),p>2&&v.push(i),p>3&&v.push(o),p>4&&v.push(a),p>5&&v.push(s),p>6&&v.push(u),p>7&&v.push(c),p>8&&v.push(l),p>9&&v.push(h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=a),p>5&&(v[f[5].name]=s),p>6&&(v[f[6].name]=u),p>7&&(v[f[7].name]=c),p>8&&(v[f[8].name]=l),p>9&&(v[f[9].name]=h);break;case 128:var g=n;switch(p){case 1:v=g.transform(n);break;case 2:v=g.transform(r);break;case 3:v=g.transform(r,i);break;case 4:v=g.transform(r,i,o);break;case 5:v=g.transform(r,i,o,a);break;case 6:v=g.transform(r,i,o,a,s);break;case 7:v=g.transform(r,i,o,a,s,u);break;case 8:v=g.transform(r,i,o,a,s,u,c);break;case 9:v=g.transform(r,i,o,a,s,u,c,l);break;case 10:v=g.transform(r,i,o,a,s,u,c,l,h)}}y.value=v}return d}(e,t,n,r,i,o,a,s,u,c,l,h);default:throw"unreachable"}}(e,t,r,i,o,a,s,u,c,l,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)Lm(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)hf(e,t,o,n[o])&&(i=!0);if(i){for(var a="",s=0;s<n.length;s++)a+=Xm(n[s],r[s]);a=t.text.prefix+a;var u=Zh(e,t.nodeIndex).renderText;e.renderer.setValue(u,a)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=Xh(e,t.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)lf(e,t,s,n[s])&&(o=!0,a=Rd(e,r,t,s,n[s],a));return a&&i.ngOnChanges(a),65536&t.flags&&Yh(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)hf(e,t,o,n[o])&&(i=!0);if(i){var a,s=Jh(e,t.nodeIndex);switch(201347067&t.flags){case 32:a=n;break;case 64:a={};for(var u=0;u<n.length;u++)a[r[u].name]=n[u];break;case 128:var c=n[0],l=n.slice(1);a=c.transform.apply(c,_toConsumableArray(l))}s.value=a}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function h_(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=$h(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,pf(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function f_(e,t,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(e,t,n,r,i,o,a,s,u,c,l,h){var f=t.bindings.length;f>0&&ff(e,t,0,n),f>1&&ff(e,t,1,r),f>2&&ff(e,t,2,i),f>3&&ff(e,t,3,o),f>4&&ff(e,t,4,a),f>5&&ff(e,t,5,s),f>6&&ff(e,t,6,u),f>7&&ff(e,t,7,c),f>8&&ff(e,t,8,l),f>9&&ff(e,t,9,h)}(e,t,r,i,o,a,s,u,c,l,h,f):function(e,t,n){for(var r=0;r<n.length;r++)ff(e,t,r,n[r])}(e,t,r),!1}function d_(e,t){if(ef(e,t.nodeIndex).dirty)throw Qh(nf.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function p_(e){if(!(128&e.state)){if(g_(e,v_.Destroy),y_(e,v_.Destroy),Fd(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=yf(e);if(t){var n=t.template._projectedViews;n&&(Ie(n,n.indexOf(e)),nf.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode($h(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Zh(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&ef(e,n).destroy()}}(e),wf(e)&&e.renderer.destroy(),e.state|=128}}var v_=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function y_(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?m_($h(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function g_(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=$h(e,r).viewContainer._embeddedViews,a=0;a<o.length;a++)m_(o[a],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function m_(e,t){var n=e.state;switch(t){case v_.CheckNoChanges:0==(128&n)&&(12==(12&n)?u_(e):64&n&&__(e,v_.CheckNoChangesProjectedViews));break;case v_.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?u_(e):64&n&&__(e,t));break;case v_.CheckAndUpdate:0==(128&n)&&(12==(12&n)?c_(e):64&n&&__(e,v_.CheckAndUpdateProjectedViews));break;case v_.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?c_(e):64&n&&__(e,t));break;case v_.Destroy:p_(e);break;case v_.CreateViewNodes:s_(e)}}function __(e,t){g_(e,t),y_(e,t)}function w_(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var a=e.def.nodes[o];if(a.flags&t&&a.flags&n)switch(nf.setCurrentNode(e,a.nodeIndex),r){case 0:Bm(e,a);break;case 1:d_(e,a)}a.childFlags&t&&a.childFlags&n||(o+=a.childCount)}}var C_=!1;function b_(){if(!C_){C_=!0;var e=mr()?{setCurrentNode:Q_,createRootView:k_,createEmbeddedView:S_,createComponentView:D_,createNgModuleRef:T_,overrideProvider:N_,overrideComponentView:P_,clearOverrides:R_,checkAndUpdateView:L_,checkNoChangesView:V_,destroyView:U_,createDebugContext:function(e,t){return new J_(e,t)},handleEvent:z_,updateDirectives:G_,updateRenderer:K_}:{setCurrentNode:function(){},createRootView:E_,createEmbeddedView:n_,createComponentView:i_,createNgModuleRef:fd,overrideProvider:rf,overrideComponentView:rf,clearOverrides:rf,checkAndUpdateView:c_,checkNoChangesView:u_,destroyView:p_,createDebugContext:function(e,t){return new J_(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?M_:j_,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?M_:j_,e)}};nf.setCurrentNode=e.setCurrentNode,nf.createRootView=e.createRootView,nf.createEmbeddedView=e.createEmbeddedView,nf.createComponentView=e.createComponentView,nf.createNgModuleRef=e.createNgModuleRef,nf.overrideProvider=e.overrideProvider,nf.overrideComponentView=e.overrideComponentView,nf.clearOverrides=e.clearOverrides,nf.checkAndUpdateView=e.checkAndUpdateView,nf.checkNoChangesView=e.checkNoChangesView,nf.destroyView=e.destroyView,nf.resolveDep=Nd,nf.createDebugContext=e.createDebugContext,nf.handleEvent=e.handleEvent,nf.updateDirectives=e.updateDirectives,nf.updateRenderer=e.updateRenderer,nf.dirtyParentQueries=Um}}function E_(e,t,n,r,i,o){var a=i.injector.get(yh);return r_(I_(e,i,a,t,n),r,o)}function k_(e,t,n,r,i,o){var a=i.injector.get(yh),s=I_(e,i,new rw(a),t,n),u=F_(r);return tw(W_.create,r_,null,[s,u,o])}function I_(e,t,n,r,i){var o=t.injector.get(Ch),a=t.injector.get(Jn),s=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function S_(e,t,n,r){var i=F_(n);return tw(W_.create,n_,null,[e,t,i,r])}function D_(e,t,n,r){return n=O_.get(t.element.componentProvider.provider.token)||F_(n),tw(W_.create,i_,null,[e,t,n,r])}function T_(e,t,n,r){return fd(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===A_.size||(e.providers.forEach((function(e){var r=A_.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){x_.forEach((function(r,i){T(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))}))),{hasOverrides:t,hasDeprecatedOverrides:n}}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=A_.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=kf(i.deps),n.value=i.value)}if(x_.size>0){var o=new Set(e.modules);x_.forEach((function(t,n){if(o.has(T(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:kf(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[af(n)]=i}}))}}(e=e.factory((function(){return rf}))),e):e}(r))}var A_=new Map,x_=new Map,O_=new Map;function N_(e){var t;A_.set(e.token,e),"function"==typeof e.token&&(t=T(e.token))&&"function"==typeof t.providedIn&&x_.set(e.token,e)}function P_(e,t){var n=Df(ed(t)),r=Df(n.nodes[0].element.componentView);O_.set(e,r)}function R_(){A_.clear(),x_.clear(),O_.clear()}function F_(e){if(0===A_.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&A_.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return rf}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=A_.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=kf(o.deps),i.value=o.value)}}}}function M_(e,t,n,r,i,o,a,s,u,c,l,h,f){var d=e.def.nodes[t];return l_(e,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?Jh(e,t).value:void 0}function j_(e,t,n,r,i,o,a,s,u,c,l,h,f){var d=e.def.nodes[t];return f_(e,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?Jh(e,t).value:void 0}function L_(e){return tw(W_.detectChanges,c_,null,[e])}function V_(e){return tw(W_.checkNoChanges,u_,null,[e])}function U_(e){return tw(W_.destroy,p_,null,[e])}var B_,q_,H_,W_=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function Q_(e,t){q_=e,H_=t}function z_(e,t,n,r){return Q_(e,t),tw(W_.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function G_(e,t){if(128&e.state)throw Gh(W_[B_]);return Q_(e,$_(e,0)),e.def.updateDirectives((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===t?Y_(e,i,r,a):Z_(e,i,r,a),16384&i.flags&&Q_(e,$_(e,n)),224&i.flags?Jh(e,i.nodeIndex).value:void 0}),e)}function K_(e,t){if(128&e.state)throw Gh(W_[B_]);return Q_(e,X_(e,0)),e.def.updateRenderer((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===t?Y_(e,i,r,a):Z_(e,i,r,a),3&i.flags&&Q_(e,X_(e,n)),224&i.flags?Jh(e,i.nodeIndex).value:void 0}),e)}function Y_(e,t,n,r){if(l_.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&t.flags){for(var o={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],u=i[a];8&s.flags&&(o[ri(s.nonMinifiedName)]=oi(u))}var c=t.parent,l=$h(e,c.nodeIndex).renderElement;if(c.element.name)for(var h in o){var f=o[h];null!=f?e.renderer.setAttribute(l,h,f):e.renderer.removeAttribute(l,h)}else e.renderer.setValue(l,"bindings="+JSON.stringify(o,null,2))}}}function Z_(e,t,n,r){f_.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))}function $_(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function X_(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var J_=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,i=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=gf(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var a=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(i,o),s=-1;i.factory((function(){var t;return++s===a?(t=e.error).bind.apply(t,[e].concat(n)):rf})),s<a&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return $h(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return cd(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){ew(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&ew(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!wf(e);)e=e.parent;return e.parent?$h(e.parent,gf(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?mf(this.view,this.nodeDef):mf(this.elView,this.elDef)}}]),e}();function ew(e,t,n){for(var r in t.references)n[r]=Hm(e,t,t.references[r])}function tw(e,t,n,r){var i,o,a=B_,s=q_,u=H_;try{B_=e;var c=t.apply(n,r);return q_=s,H_=u,B_=a,c}catch(l){if(Zn(l)||!q_)throw l;throw i=l,o=nw(),i instanceof Error||(i=new Error(i.toString())),zh(i,o),i}}function nw(){return q_?new J_(q_,H_):null}var rw=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"createRenderer",value:function(e,t){return new iw(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),iw=function(){function e(t){_classCallCheck(this,e),this.delegate=t,this.debugContextFactory=nw,this.data=this.delegate.data}return _createClass(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=_m(e);!function(e){gm.delete(e.nativeNode)}(t),t instanceof am&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new sm(n,null,r);i.name=e,bm(i)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&bm(new am(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&bm(new am(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=_m(e),r=_m(t);n&&r&&n instanceof sm&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=_m(e),i=_m(t),o=_m(n);r&&i&&r instanceof sm&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=_m(e),r=_m(t);n&&r&&n instanceof sm&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=nw();return r&&bm(new sm(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var i=_m(e);i&&i instanceof sm&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=_m(e);r&&r instanceof sm&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=_m(e);n&&n instanceof sm&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=_m(e);n&&n instanceof sm&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var i=_m(e);i&&i instanceof sm&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=_m(e);r&&r instanceof sm&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=_m(e);r&&r instanceof sm&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=_m(e);r&&r.listeners.push(new om(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();function ow(e){return b_(),nf.overrideProvider(e)}function aw(e,t){return b_(),nf.overrideComponentView(e,t)}function sw(){return b_(),nf.clearOverrides()}function uw(e,t,n){return new cw(e,t,n)}var cw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).moduleType=e,o._bootstrapComponents=r,o._ngModuleDefFactory=i,o}return _createClass(n,[{key:"create",value:function(e){b_();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,scope:e.scope,providers:t,modules:n,providersByKey:r}}(Df(this._ngModuleDefFactory));return nf.createNgModuleRef(this.moduleType,e||rs.NULL,this._bootstrapComponents,t)}}]),n}(we)},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},hI8m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("fXoL");var r=n("ofXK"),i=(n("mJn+"),n("bnWe")),o=n("fXoL"),a=(n("mJn+"),n("ofXK"),function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[i.FlashMessagesService]}},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},providers:[],imports:[[r.CommonModule]]}),e}());t.FlashMessagesModule=a},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},"mJn+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fXoL"),i=n("nRU1"),o=n("bnWe"),a=n("fXoL"),s=n("ofXK");function u(e,t){1&e&&a.\u0275\u0275element(0,"div",3)}function c(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",7),a.\u0275\u0275listener("click",(function(){a.\u0275\u0275restoreView(n);var e=a.\u0275\u0275nextContext().$implicit;return a.\u0275\u0275nextContext().close(e)})),a.\u0275\u0275elementStart(1,"span",8),a.\u0275\u0275text(2,"\xd7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}var l=function(e){return{"alert-dismissible":e}};function h(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",4),a.\u0275\u0275listener("click",(function(){a.\u0275\u0275restoreView(n);var e=t.$implicit;return a.\u0275\u0275nextContext().alertClicked(e)})),a.\u0275\u0275template(1,c,3,0,"button",5),a.\u0275\u0275element(2,"div",6),a.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;a.\u0275\u0275classMapInterpolate1("alert flash-message ",r.cssClass,""),a.\u0275\u0275styleProp("cursor",r.closeOnClick?"pointer":"inherit"),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(8,l,r.showCloseBtn)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.showCloseBtn),a.\u0275\u0275advance(1),a.\u0275\u0275property("innerHTML",r.text,a.\u0275\u0275sanitizeHtml)}}var f=function(){function e(e,t){this._flashMessagesService=e,this._cdRef=t,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return e.prototype.ngOnInit=function(){},e.prototype.show=function(e,t){var n=this;void 0===t&&(t={});var r={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var o in t)r[o]=t[o];var a=new i.FlashMessage(e,r.cssClass,r.closeOnClick,r.showCloseBtn);a.timer=window.setTimeout((function(){n._remove(a),n._cdRef.detectChanges()}),r.timeout),this.messages.push(a),this._cdRef.detectChanges()},e.prototype.close=function(e){clearTimeout(e.timer),this._remove(e),this._cdRef.detectChanges()},e.prototype.alertClicked=function(e){e.closeOnClick&&this.close(e)},e.prototype.grayOut=function(e){void 0===e&&(e=!1),this._grayOut=e},e.prototype._remove=function(e){this.messages=this.messages.filter((function(t){return t.id!==e.id}))},e.ctorParameters=function(){return[{type:o.FlashMessagesService},{type:r.ChangeDetectorRef}]},e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(o.FlashMessagesService),a.\u0275\u0275directiveInject(a.ChangeDetectorRef))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,u,1,0,"div",1),a.\u0275\u0275template(2,h,3,10,"div",2),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",t._grayOut&&t.messages.length),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",t.messages))},directives:[s.NgIf,s.NgForOf,s.NgClass],encapsulation:2}),e}();t.FlashMessagesComponent=f},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return y})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return m})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return b})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return k})),n.d(t,"__classPrivateFieldGet",(function(){return I})),n.d(t,"__classPrivateFieldSet",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},nRU1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t,n,r,i){this.id=e.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,t&&(this.text=t),n&&(this.cssClass=n),r&&(this.closeOnClick=r),i&&(this.showCloseBtn=i)}return e.nextId=0,e}();t.FlashMessage=r},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},ofXK:function(e,t,n){"use strict";n.r(t),n.d(t,"APP_BASE_HREF",(function(){return w})),n.d(t,"AsyncPipe",(function(){return Je})),n.d(t,"CommonModule",(function(){return mt})),n.d(t,"CurrencyPipe",(function(){return dt})),n.d(t,"DOCUMENT",(function(){return u})),n.d(t,"DatePipe",(function(){return it})),n.d(t,"DecimalPipe",(function(){return ht})),n.d(t,"FormStyle",(function(){return A})),n.d(t,"FormatWidth",(function(){return O})),n.d(t,"HashLocationStrategy",(function(){return b})),n.d(t,"I18nPluralPipe",(function(){return at})),n.d(t,"I18nSelectPipe",(function(){return st})),n.d(t,"JsonPipe",(function(){return ut})),n.d(t,"KeyValuePipe",(function(){return ct})),n.d(t,"LOCATION_INITIALIZED",(function(){return h})),n.d(t,"Location",(function(){return E})),n.d(t,"LocationStrategy",(function(){return m})),n.d(t,"LowerCasePipe",(function(){return et})),n.d(t,"NgClass",(function(){return Ne})),n.d(t,"NgComponentOutlet",(function(){return Pe})),n.d(t,"NgForOf",(function(){return Fe})),n.d(t,"NgForOfContext",(function(){return Re})),n.d(t,"NgIf",(function(){return je})),n.d(t,"NgIfContext",(function(){return Le})),n.d(t,"NgLocaleLocalization",(function(){return Ae})),n.d(t,"NgLocalization",(function(){return De})),n.d(t,"NgPlural",(function(){return We})),n.d(t,"NgPluralCase",(function(){return Qe})),n.d(t,"NgStyle",(function(){return ze})),n.d(t,"NgSwitch",(function(){return Be})),n.d(t,"NgSwitchCase",(function(){return qe})),n.d(t,"NgSwitchDefault",(function(){return He})),n.d(t,"NgTemplateOutlet",(function(){return Ge})),n.d(t,"NumberFormatStyle",(function(){return D})),n.d(t,"NumberSymbol",(function(){return N})),n.d(t,"PathLocationStrategy",(function(){return C})),n.d(t,"PercentPipe",(function(){return ft})),n.d(t,"PlatformLocation",(function(){return c})),n.d(t,"Plural",(function(){return T})),n.d(t,"SlicePipe",(function(){return yt})),n.d(t,"TitleCasePipe",(function(){return nt})),n.d(t,"TranslationWidth",(function(){return x})),n.d(t,"UpperCasePipe",(function(){return rt})),n.d(t,"VERSION",(function(){return Dt})),n.d(t,"ViewportScroller",(function(){return Tt})),n.d(t,"WeekDay",(function(){return P})),n.d(t,"formatCurrency",(function(){return be})),n.d(t,"formatDate",(function(){return le})),n.d(t,"formatNumber",(function(){return ke})),n.d(t,"formatPercent",(function(){return Ee})),n.d(t,"getCurrencySymbol",(function(){return ne})),n.d(t,"getLocaleCurrencyCode",(function(){return K})),n.d(t,"getLocaleCurrencyName",(function(){return G})),n.d(t,"getLocaleCurrencySymbol",(function(){return z})),n.d(t,"getLocaleDateFormat",(function(){return B})),n.d(t,"getLocaleDateTimeFormat",(function(){return H})),n.d(t,"getLocaleDayNames",(function(){return M})),n.d(t,"getLocaleDayPeriods",(function(){return F})),n.d(t,"getLocaleDirection",(function(){return J})),n.d(t,"getLocaleEraNames",(function(){return L})),n.d(t,"getLocaleExtraDayPeriodRules",(function(){return $})),n.d(t,"getLocaleExtraDayPeriods",(function(){return X})),n.d(t,"getLocaleFirstDayOfWeek",(function(){return V})),n.d(t,"getLocaleId",(function(){return R})),n.d(t,"getLocaleMonthNames",(function(){return j})),n.d(t,"getLocaleNumberFormat",(function(){return Q})),n.d(t,"getLocaleNumberSymbol",(function(){return W})),n.d(t,"getLocalePluralCase",(function(){return Y})),n.d(t,"getLocaleTimeFormat",(function(){return q})),n.d(t,"getLocaleWeekEndRange",(function(){return U})),n.d(t,"getNumberOfCurrencyDigits",(function(){return re})),n.d(t,"isPlatformBrowser",(function(){return Et})),n.d(t,"isPlatformServer",(function(){return kt})),n.d(t,"isPlatformWorkerApp",(function(){return It})),n.d(t,"isPlatformWorkerUi",(function(){return St})),n.d(t,"registerLocaleData",(function(){return xe})),n.d(t,"\u0275BrowserPlatformLocation",(function(){return f})),n.d(t,"\u0275DomAdapter",(function(){return s})),n.d(t,"\u0275NullViewportScroller",(function(){return xt})),n.d(t,"\u0275PLATFORM_BROWSER_ID",(function(){return _t})),n.d(t,"\u0275PLATFORM_SERVER_ID",(function(){return wt})),n.d(t,"\u0275PLATFORM_WORKER_APP_ID",(function(){return Ct})),n.d(t,"\u0275PLATFORM_WORKER_UI_ID",(function(){return bt})),n.d(t,"\u0275angular_packages_common_common_a",(function(){return l})),n.d(t,"\u0275angular_packages_common_common_b",(function(){return p})),n.d(t,"\u0275angular_packages_common_common_c",(function(){return k})),n.d(t,"\u0275angular_packages_common_common_d",(function(){return _})),n.d(t,"\u0275angular_packages_common_common_e",(function(){return Ke})),n.d(t,"\u0275angular_packages_common_common_f",(function(){return gt})),n.d(t,"\u0275getDOM",(function(){return o})),n.d(t,"\u0275parseCookieValue",(function(){return Oe})),n.d(t,"\u0275setRootDomAdapter",(function(){return a}));var r=n("fXoL"),i=null;function o(){return i}function a(e){i||(i=e)}var s=function e(){_classCallCheck(this,e)},u=new r.InjectionToken("DocumentToken"),c=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:l,token:e,providedIn:"platform"}),e}();function l(){return Object(r["\u0275\u0275inject"])(f)}var h=new r.InjectionToken("Location Initialized"),f=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=o().getLocation(),this._history=o().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return o().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){d()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){d()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(c);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](u))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:p,token:e,providedIn:"platform"}),e}();function d(){return!!window.history.pushState}function p(){return new f(Object(r["\u0275\u0275inject"])(u))}function v(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function y(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}var m=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:_,token:e,providedIn:"root"}),e}();function _(e){var t=Object(r["\u0275\u0275inject"])(u).location;return new C(Object(r["\u0275\u0275inject"])(c),t&&t.origin||"")}var w=new r.InjectionToken("appBaseHref"),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return v(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),b=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=v(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),E=function(){var e=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=y(I(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+g(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,I(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](m),r["\u0275\u0275inject"](c))},e.normalizeQueryParams=g,e.joinWithSlash=v,e.stripTrailingSlash=y,e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:k,token:e,providedIn:"root"}),e}();function k(){return new E(Object(r["\u0275\u0275inject"])(m),Object(r["\u0275\u0275inject"])(c))}function I(e){return e.replace(/\/index.html$/,"")}var S={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},D=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),T=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),A=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),x=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),O=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),N=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}(),P=function(){var e={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return e[e.Sunday]="Sunday",e[e.Monday]="Monday",e[e.Tuesday]="Tuesday",e[e.Wednesday]="Wednesday",e[e.Thursday]="Thursday",e[e.Friday]="Friday",e[e.Saturday]="Saturday",e}();function R(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].LocaleId]}function F(e,t,n){var i=Object(r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].DayPeriodsFormat],i[r["\u0275LocaleDataIndex"].DayPeriodsStandalone]],t);return ee(o,n)}function M(e,t,n){var i=Object(r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].DaysFormat],i[r["\u0275LocaleDataIndex"].DaysStandalone]],t);return ee(o,n)}function j(e,t,n){var i=Object(r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].MonthsFormat],i[r["\u0275LocaleDataIndex"].MonthsStandalone]],t);return ee(o,n)}function L(e,t){return ee(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Eras],t)}function V(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].FirstDayOfWeek]}function U(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].WeekendRange]}function B(e,t){return ee(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateFormat],t)}function q(e,t){return ee(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].TimeFormat],t)}function H(e,t){return ee(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateTimeFormat],t)}function W(e,t){var n=Object(r["\u0275findLocaleData"])(e),i=n[r["\u0275LocaleDataIndex"].NumberSymbols][t];if(void 0===i){if(t===N.CurrencyDecimal)return n[r["\u0275LocaleDataIndex"].NumberSymbols][N.Decimal];if(t===N.CurrencyGroup)return n[r["\u0275LocaleDataIndex"].NumberSymbols][N.Group]}return i}function Q(e,t){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].NumberFormats][t]}function z(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencySymbol]||null}function G(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencyName]||null}function K(e){return Object(r["\u0275getLocaleCurrencyCode"])(e)}var Y=r["\u0275getLocalePluralCase"];function Z(e){if(!e[r["\u0275LocaleDataIndex"].ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[r["\u0275LocaleDataIndex"].LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function $(e){var t=Object(r["\u0275findLocaleData"])(e);return Z(t),(t[r["\u0275LocaleDataIndex"].ExtraData][2]||[]).map((function(e){return"string"==typeof e?te(e):[te(e[0]),te(e[1])]}))}function X(e,t,n){var i=Object(r["\u0275findLocaleData"])(e);Z(i);var o=ee([i[r["\u0275LocaleDataIndex"].ExtraData][0],i[r["\u0275LocaleDataIndex"].ExtraData][1]],t)||[];return ee(o,n)||[]}function J(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Directionality]}function ee(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function te(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=function(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Currencies]}(n)[e]||S[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}function re(e){var t,n=S[e];return n&&(t=n[2]),"number"==typeof t?t:2}var ie=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oe={},ae=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,se=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),ue=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),ce=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function le(e,t,n,r){var i=function(e){if(_e(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(ie))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,u,c),t}(t)}var s=new Date(e);if(!_e(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var r=R(t);if(oe[r]=oe[r]||{},oe[r][n])return oe[r][n];var i="";switch(n){case"shortDate":i=B(t,O.Short);break;case"mediumDate":i=B(t,O.Medium);break;case"longDate":i=B(t,O.Long);break;case"fullDate":i=B(t,O.Full);break;case"shortTime":i=q(t,O.Short);break;case"mediumTime":i=q(t,O.Medium);break;case"longTime":i=q(t,O.Long);break;case"fullTime":i=q(t,O.Full);break;case"short":var o=e(t,"shortTime"),a=e(t,"shortDate");i=he(H(t,O.Short),[o,a]);break;case"medium":var s=e(t,"mediumTime"),u=e(t,"mediumDate");i=he(H(t,O.Medium),[s,u]);break;case"long":var c=e(t,"longTime"),l=e(t,"longDate");i=he(H(t,O.Long),[c,l]);break;case"full":var h=e(t,"fullTime"),f=e(t,"fullDate");i=he(H(t,O.Full),[h,f])}return i&&(oe[r][n]=i),i}(n,t)||t;for(var o,a=[];t;){if(!(o=ae.exec(t))){a.push(t);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;t=s}var u=i.getTimezoneOffset();r&&(u=me(r,u),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(me(t,r)-r))}(i,r));var c="";return a.forEach((function(e){var t=function(e){if(ge[e])return ge[e];var t;switch(e){case"G":case"GG":case"GGG":t=pe(ce.Eras,x.Abbreviated);break;case"GGGG":t=pe(ce.Eras,x.Wide);break;case"GGGGG":t=pe(ce.Eras,x.Narrow);break;case"y":t=de(ue.FullYear,1,0,!1,!0);break;case"yy":t=de(ue.FullYear,2,0,!0,!0);break;case"yyy":t=de(ue.FullYear,3,0,!1,!0);break;case"yyyy":t=de(ue.FullYear,4,0,!1,!0);break;case"M":case"L":t=de(ue.Month,1,1);break;case"MM":case"LL":t=de(ue.Month,2,1);break;case"MMM":t=pe(ce.Months,x.Abbreviated);break;case"MMMM":t=pe(ce.Months,x.Wide);break;case"MMMMM":t=pe(ce.Months,x.Narrow);break;case"LLL":t=pe(ce.Months,x.Abbreviated,A.Standalone);break;case"LLLL":t=pe(ce.Months,x.Wide,A.Standalone);break;case"LLLLL":t=pe(ce.Months,x.Narrow,A.Standalone);break;case"w":t=ye(1);break;case"ww":t=ye(2);break;case"W":t=ye(1,!0);break;case"d":t=de(ue.Date,1);break;case"dd":t=de(ue.Date,2);break;case"E":case"EE":case"EEE":t=pe(ce.Days,x.Abbreviated);break;case"EEEE":t=pe(ce.Days,x.Wide);break;case"EEEEE":t=pe(ce.Days,x.Narrow);break;case"EEEEEE":t=pe(ce.Days,x.Short);break;case"a":case"aa":case"aaa":t=pe(ce.DayPeriods,x.Abbreviated);break;case"aaaa":t=pe(ce.DayPeriods,x.Wide);break;case"aaaaa":t=pe(ce.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":t=pe(ce.DayPeriods,x.Abbreviated,A.Standalone,!0);break;case"bbbb":t=pe(ce.DayPeriods,x.Wide,A.Standalone,!0);break;case"bbbbb":t=pe(ce.DayPeriods,x.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":t=pe(ce.DayPeriods,x.Abbreviated,A.Format,!0);break;case"BBBB":t=pe(ce.DayPeriods,x.Wide,A.Format,!0);break;case"BBBBB":t=pe(ce.DayPeriods,x.Narrow,A.Format,!0);break;case"h":t=de(ue.Hours,1,-12);break;case"hh":t=de(ue.Hours,2,-12);break;case"H":t=de(ue.Hours,1);break;case"HH":t=de(ue.Hours,2);break;case"m":t=de(ue.Minutes,1);break;case"mm":t=de(ue.Minutes,2);break;case"s":t=de(ue.Seconds,1);break;case"ss":t=de(ue.Seconds,2);break;case"S":t=de(ue.FractionalSeconds,1);break;case"SS":t=de(ue.FractionalSeconds,2);break;case"SSS":t=de(ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ve(se.Short);break;case"ZZZZZ":t=ve(se.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ve(se.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ve(se.Long);break;default:return null}return ge[e]=t,t}(e);c+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}function he(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(e,t){switch(e){case ue.FullYear:return t.getFullYear();case ue.Month:return t.getMonth();case ue.Date:return t.getDate();case ue.Hours:return t.getHours();case ue.Minutes:return t.getMinutes();case ue.Seconds:return t.getSeconds();case ue.FractionalSeconds:return t.getMilliseconds();case ue.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===ue.Hours)0===u&&-12===n&&(u=12);else if(e===ue.FractionalSeconds)return s=t,fe(u,3).substr(0,s);var c=W(a,N.MinusSign);return fe(u,t,c,r,i)}}function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(e,t,n,r,i,o){switch(n){case ce.Months:return j(t,i,r)[e.getMonth()];case ce.Days:return M(t,i,r)[e.getDay()];case ce.DayPeriods:var a=e.getHours(),s=e.getMinutes();if(o){var u,c=$(t),l=X(t,i,r);if(c.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],c=o.hours,h=o.minutes;a>=r&&s>=i&&(a<c||a===c&&s<h)&&(u=l[t])}else{var f=e.hours,d=e.minutes;f===a&&d===s&&(u=l[t])}})),u)return u}return F(t,i,r)[a<12?0:1];case ce.Eras:return L(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,e,t,n,r)}}function ve(e){return function(t,n,r){var i=-1*r,o=W(n,N.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case se.Short:return(i>=0?"+":"")+fe(a,2,o)+fe(Math.abs(i%60),2,o);case se.ShortGMT:return"GMT"+(i>=0?"+":"")+fe(a,1,o);case se.Long:return"GMT"+(i>=0?"+":"")+fe(a,2,o)+":"+fe(Math.abs(i%60),2,o);case se.Extended:return 0===r?"Z":(i>=0?"+":"")+fe(a,2,o)+":"+fe(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return fe(i,e,W(r,N.MinusSign))}}var ge={};function me(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function _e(e){return e instanceof Date&&!isNaN(e.valueOf())}var we=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ce(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(e)){var c=function(e){var t,n,r,i,o,a=Math.abs(e)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))t=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(a.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);a&&(c=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));var l=t.minInt,h=t.minFrac,f=t.maxFrac;if(o){var d=o.match(we);if(null===d)throw new Error(o+" is not a valid digit info");var p=d[1],v=d[3],y=d[5];null!=p&&(l=Se(p)),null!=v&&(h=Se(v)),null!=y?f=Se(y):null!=v&&h>f&&(f=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,s=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=t+e.integerLen,d=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),t>=10?1:0}),0);d&&(r.unshift(d),e.integerLen++)}(c,h,f);var g=c.digits,m=c.integerLen,_=c.exponent,w=[];for(u=g.every((function(e){return!e}));m<l;m++)g.unshift(0);for(;m<0;m++)g.unshift(0);m>0?w=g.splice(m,g.length):(w=g,g=[0]);var C=[];for(g.length>=t.lgSize&&C.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)C.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&C.unshift(g.join("")),s=C.join(W(n,r)),w.length&&(s+=W(n,i)+w.join("")),_&&(s+=W(n,N.Exponential)+"+"+_)}else s=W(n,N.Infinity);return s=e<0&&!u?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}function be(e,t,n,r,i){var o=Ie(Q(t,D.Currency),W(t,N.MinusSign));return o.minFrac=re(r),o.maxFrac=o.minFrac,Ce(e,o,t,N.CurrencyGroup,N.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function Ee(e,t,n){return Ce(e,Ie(Q(t,D.Percent),W(t,N.MinusSign)),t,N.Group,N.Decimal,n,!0).replace(new RegExp("%","g"),W(t,N.PercentSign))}function ke(e,t,n){return Ce(e,Ie(Q(t,D.Decimal),W(t,N.MinusSign)),t,N.Group,N.Decimal,n)}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Se(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var De=function e(){_classCallCheck(this,e)};function Te(e,t,n,r){var i="="+e;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'.concat(e,'"'))}var Ae=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(Y(t||this.locale)(e)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}]),n}(De);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](r.LOCALE_ID))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function xe(e,t,n){return Object(r["\u0275registerLocaleData"])(e,t,n)}function Oe(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var Ne=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["\u0275stringify"])(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.IterableDiffers),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),Pe=function(){var e=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=t.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var i=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}},{key:"ngOnDestroy",value:function(){this._moduleRef&&this._moduleRef.destroy()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e}(),Re=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Fe=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Re(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new Me(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new Me(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Object(r.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.IterableDiffers))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),Me=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},je=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Le,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Ve("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Ve("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),Le=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Ve(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r["\u0275stringify"])(t),"'."))}var Ue=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Be=function(){var e=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),qe=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.ngSwitch=r,r._addCase(),this._view=new Ue(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Be,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}(),He=function(){var e=function e(t,n,r){_classCallCheck(this,e),r._addDefault(new Ue(t,n))};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Be,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchDefault",""]]}),e}(),We=function(){var e=function(){function e(t){_classCallCheck(this,e),this._localization=t,this._caseViews={}}return _createClass(e,[{key:"addCase",value:function(e,t){this._caseViews[e]=t}},{key:"_updateView",value:function(){this._clearViews();var e=Object.keys(this._caseViews),t=Te(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}},{key:"_clearViews",value:function(){this._activeView&&this._activeView.destroy()}},{key:"_activateView",value:function(e){e&&(this._activeView=e,this._activeView.create())}},{key:"ngPlural",set:function(e){this._switchValue=e,this._updateView()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](De))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e}(),Qe=function(){var e=function e(t,n,r,i){_classCallCheck(this,e),this.value=t;var o=!isNaN(Number(t));i.addCase(o?"="+t:t,new Ue(r,n))};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275injectAttribute"]("ngPluralCase"),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](We,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPluralCase",""]]}),e}(),ze=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),r=n[0],i=n[1];null!=(t=null!=t&&i?"".concat(t).concat(i):t)?this._renderer.setStyle(this._ngEl.nativeElement,r,t):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}},{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),Ge=function(){var e=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===t.indexOf(o))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e}(),Ke=[Ne,Pe,Fe,je,Ge,ze,Be,qe,He,We,Qe];function Ye(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(r["\u0275stringify"])(e),"'"))}var Ze=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),$e=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Xe=new Ze,Je=function(){var e=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Object(r["\u0275looseIdentical"])(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(Object(r["\u0275isPromise"])(t))return $e;if(Object(r["\u0275isObservable"])(t))return Xe;throw Ye(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275injectPipeChangeDetectorRef"]())},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"async",type:e,pure:!1}),e}(),et=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Ye(e,t);return t.toLowerCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"lowercase",type:e,pure:!0}),e}(),tt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,nt=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Ye(e,t);return t.replace(tt,(function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"titlecase",type:e,pure:!0}),e}(),rt=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Ye(e,t);return t.toUpperCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"uppercase",type:e,pure:!0}),e}(),it=function(){var e=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return le(t,n,i||this.locale,r)}catch(o){throw Ye(e,o.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"date",type:e,pure:!0}),e}(),ot=/#/g,at=function(){var e=function(){function e(t){_classCallCheck(this,e),this._localization=t}return _createClass(e,[{key:"transform",value:function(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw Ye(e,n);return n[Te(t,Object.keys(n),this._localization,r)].replace(ot,t.toString())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](De))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nPlural",type:e,pure:!0}),e}(),st=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Ye(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nSelect",type:e,pure:!0}),e}(),ut=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return JSON.stringify(e,null,2)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"json",type:e,pure:!1}),e}(),ct=function(){var e=function(){function e(t){_classCallCheck(this,e),this.differs=t,this.keyValues=[]}return _createClass(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var r=this.differ.diff(e);return r&&(this.keyValues=[],r.forEachItem((function(e){t.keyValues.push({key:e.key,value:e.currentValue})})),this.keyValues.sort(n)),this.keyValues}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.KeyValueDiffers))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"keyvalue",type:e,pure:!1}),e}();function lt(e,t){var n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var ht=function(){var e=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,r){if(pt(t))return null;r=r||this._locale;try{return ke(vt(t),r,n)}catch(i){throw Ye(e,i.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"number",type:e,pure:!0}),e}(),ft=function(){var e=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,r){if(pt(t))return null;r=r||this._locale;try{return Ee(vt(t),r,n)}catch(i){throw Ye(e,i.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"percent",type:e,pure:!0}),e}(),dt=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck(this,e),this._locale=t,this._defaultCurrencyCode=n}return _createClass(e,[{key:"transform",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(pt(t))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?ne(a,"symbol"===r?"wide":"narrow",o):r);try{return be(vt(t),o,a,n,i)}catch(s){throw Ye(e,s.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID),r["\u0275\u0275directiveInject"](r.DEFAULT_CURRENCY_CODE))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"currency",type:e,pure:!0}),e}();function pt(e){return null==e||""===e||e!=e}function vt(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}var yt=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t,n,r){if(null==t)return t;if(!this.supports(t))throw Ye(e,t);return t.slice(n,r)}},{key:"supports",value:function(e){return"string"==typeof e||Array.isArray(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"slice",type:e,pure:!1}),e}(),gt=[Je,rt,et,ut,yt,ht,ft,nt,dt,it,at,st,ct],mt=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[{provide:De,useClass:Ae}]}),e}(),_t="browser",wt="server",Ct="browserWorkerApp",bt="browserWorkerUi";function Et(e){return e===_t}function kt(e){return e===wt}function It(e){return e===Ct}function St(e){return e===bt}var Dt=new r.Version("9.1.11"),Tt=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({token:e,providedIn:"root",factory:function(){return new At(Object(r["\u0275\u0275inject"])(u),window,Object(r["\u0275\u0275inject"])(r.ErrorHandler))}}),e}(),At=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),xt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setOffset",value:function(e){}},{key:"getScrollPosition",value:function(){return[0,0]}},{key:"scrollToPosition",value:function(e){}},{key:"scrollToAnchor",value:function(e){}},{key:"setHistoryScrollRestoration",value:function(e){}}]),e}()},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return a})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return f})),n.d(t,"setUserLogHandler",(function(){return d}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!0,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),c=((i=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){t=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof u?t=t.concat(l(p.errors)):t.push(p)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((r=new i).closed=!0,r),i);function l(e){return e.reduce((function(e,t){return e.concat(t instanceof u?t.errors:t)}),[])}},sriv:function(e,t,n){var r=n("mJn+");Object.defineProperty(t,"__esModule",{value:!0});var i=n("hI8m");t.FlashMessagesModule=i.FlashMessagesModule;var o=n("bnWe");t.FlashMessagesService=o.FlashMessagesService,t.FlashMessagesComponent=r.FlashMessagesComponent},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),a=n("quSY");function s(){return function(e){return e.lift(new c(e))}}var u,c=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new l(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(o.a),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e}},{key:"refCount",value:function(){return s()(this)}}]),n}(i.a),f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(u=h.prototype)._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}},d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function p(){return new r.a}function v(){return function(e){return s()((t=p,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,f);return r.source=e,r.subjectFactory=n,r})(e));var t}}},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n("mrSG"),a=n("zVF4"),s=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.15.5",INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!a.contains(t,e=e||"[DEFAULT]"))throw l.create("no-app",{appName:e});return t[e]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw l.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),r[h]=d,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?e:[])}}try{for(var p=o.__values(Object.keys(t)),v=p.next();!v.done;v=p.next())t[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,e)};var m=p;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.7",void 0),e.registerVersion("fire-js","")}(m),t.default=m,t.firebase=m},x7I3:function(e,t,n){"use strict";function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(t),n.d(t,"ErrorCode",(function(){return Kn})),n.d(t,"EventType",(function(){return Yn})),n.d(t,"WebChannel",(function(){return Zn})),n.d(t,"XhrIo",(function(){return $n})),n.d(t,"createWebChannelTransport",(function(){return Gn}));var i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},s=o||self;function u(){}function c(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function l(e){var t=c(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function g(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var m=Date.now||function(){return+new Date};function _(e,t){function n(){}n.prototype=t.prototype,e.M=t.prototype,e.prototype=new n,e.prototype.constructor=e}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++d)}(this)},w.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},b=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function E(e){return Array.prototype.concat.apply([],arguments)}function k(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function I(e){return/^[\s\xa0]*$/.test(e)}var S,D=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function T(e,t){return-1!=e.indexOf(t)}function A(e,t){return e<t?-1:e>t?1:0}e:{var x=s.navigator;if(x){var O=x.userAgent;if(O){S=O;break e}}S=""}function N(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function P(e){var t={};for(var n in e)t[n]=e[n];return t}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<R.length;o++)n=R[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){return M[" "](e),e}M[" "]=u;var j,L,V=T(S,"Opera"),U=T(S,"Trident")||T(S,"MSIE"),B=T(S,"Edge"),q=B||U,H=T(S,"Gecko")&&!(T(S.toLowerCase(),"webkit")&&!T(S,"Edge"))&&!(T(S,"Trident")||T(S,"MSIE"))&&!T(S,"Edge"),W=T(S.toLowerCase(),"webkit")&&!T(S,"Edge");function Q(){var e=s.document;return e?e.documentMode:void 0}e:{var z="",G=(L=S,H?/rv:([^\);]+)(\)|;)/.exec(L):B?/Edge\/([\d\.]+)/.exec(L):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(L):W?/WebKit\/(\S+)/.exec(L):V?/(?:Version)[ \/]?(\S+)/.exec(L):void 0);if(G&&(z=G?G[1]:""),U){var K=Q();if(null!=K&&K>parseFloat(z)){j=String(K);break e}}j=z}var Y={};function Z(e){return function(e,t){var n=Y;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=D(String(j)).split("."),r=D(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=A(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||A(0==a[2].length,0==s[2].length)||A(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var $=s.document&&U&&(Q()||parseInt(j,10))||void 0,X=!U||9<=Number($),J=U&&!Z("9"),ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",u,t),s.removeEventListener("test",u,t)}catch(n){}return e}();function te(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ne(e,t){if(te.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(H){e:{try{M(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:re[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}te.prototype.b=function(){this.defaultPrevented=!0},_(ne,te);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.b=function(){ne.M.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,J)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ie="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ae(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.aa=i,this.key=++oe,this.V=this.X=!1}function se(e){e.V=!0,e.listener=null,e.proxy=null,e.src=null,e.aa=null}function ue(e){this.src=e,this.a={},this.b=0}function ce(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=C(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(se(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function le(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.V&&o.listener==t&&o.capture==!!n&&o.aa==r)return i}return-1}ue.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=le(e,t,r,i);return-1<a?(t=e[a],n||(t.X=!1)):((t=new ae(t,this.src,o,!!r,i)).X=n,e.push(t)),t};var he="closure_lm_"+(1e6*Math.random()|0),fe={};function de(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Ce(r),t&&t[ie]?t.sa(n,r,h(i)?!!i.capture:!!i,o):pe(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)de(e,t[o],n,r,i);return null}return n=Ce(n),e&&e[ie]?e.ra(t,n,h(r)?!!r.capture:!!r,i):pe(e,t,n,!1,r,i)}function pe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i;if(a&&!X)return null;var s=_e(e);if(s||(e[he]=s=new ue(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=me,t=X?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ee||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ye(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ve(e){if("number"!=typeof e&&e&&!e.V){var t=e.src;if(t&&t[ie])ce(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ye(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_e(t))?(ce(n,e),0==n.b&&(n.src=null,t[he]=null)):se(e)}}}function ye(e){return e in fe?fe[e]:fe[e]="on"+e}function ge(e,t){var n=e.listener,r=e.aa||e.src;return e.X&&ve(e),n.call(r,t)}function me(e,t){if(e.V)return!0;if(!X){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return ge(e,t=new ne(t,this))}return ge(e,new ne(t,this))}function _e(e){return(e=e[he])instanceof ue?e:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ce(e){return"function"==c(e)?e:(e[we]||(e[we]=function(t){return e.handleEvent(t)}),e[we])}function be(){w.call(this),this.c=new ue(this),this.J=this,this.A=null}function Ee(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.V&&a.capture==n){var s=a.listener,u=a.aa||a.src;a.X&&ce(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}_(be,w),be.prototype[ie]=!0,(i=be.prototype).addEventListener=function(e,t,n,r){de(this,e,t,n,r)},i.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=h(i)?!!i.capture:!!i,r=Ce(r),t&&t[ie]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=le(a=t.a[n],r,i,o))&&(se(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=_e(t))&&(n=t.a[n.toString()],t=-1,n&&(t=le(n,r,i,o)),(r=-1<t?n[t]:null)&&ve(r))}(this,e,t,n,r)},i.dispatchEvent=function(e){var t,n=this.A;if(n)for(t=[];n;n=n.A)t.push(n);n=this.J;var r=e.type||e;if("string"==typeof e)e=new te(e,n);else if(e instanceof te)e.target=e.target||n;else{var i=e;F(e=new te(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Ee(a,r,!0,e)&&i}if(i=Ee(a=e.a=n,r,!0,e)&&i,i=Ee(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ee(a=e.a=t[o],r,!1,e)&&i;return i},i.C=function(){if(be.M.C.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)se(n[r]);delete t.a[e],t.b--}}this.A=null},i.ra=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},i.sa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var ke=s.JSON.stringify;function Ie(){this.b=this.a=null}var Se,De=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Ae}),(function(e){e.reset()}),100);function Te(){var e=Pe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ae(){this.next=this.b=this.a=null}function xe(e){s.setTimeout((function(){throw e}),0)}function Oe(e,t){Se||function(){var e=s.Promise.resolve(void 0);Se=function(){e.then(Re)}}(),Ne||(Se(),Ne=!0),Pe.add(e,t)}Ie.prototype.add=function(e,t){var n=De.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ae.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ae.prototype.reset=function(){this.next=this.b=this.a=null};var Ne=!1,Pe=new Ie;function Re(){for(var e;e=Te();){try{e.a.call(e.b)}catch(n){xe(n)}var t=De;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}Ne=!1}function Fe(e,t){be.call(this),this.b=e||1,this.a=t||s,this.f=y(this.Ua,this),this.g=m()}function Me(e){e.Z=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function je(e,t,n){if("function"==c(e))n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Le(e,t,n){w.call(this),this.f=null!=n?y(e,n):e,this.c=t,this.b=y(this.Pa,this),this.a=[]}function Ve(e){e.T=je(e.b,e.c),e.f.apply(null,e.a)}function Ue(e){w.call(this),this.b=e,this.a={}}_(Fe,be),(i=Fe.prototype).Z=!1,i.L=null,i.Ua=function(){if(this.Z){var e=m()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Me(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=m())},i.C=function(){Fe.M.C.call(this),Me(this),delete this.a},_(Le,w),(i=Le.prototype).ba=!1,i.T=null,i.Ia=function(e){this.a=arguments,this.T?this.ba=!0:Ve(this)},i.C=function(){Le.M.C.call(this),this.T&&(s.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Ve(this))},_(Ue,w);var Be=[];function qe(e,t,n,r){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var i=0;i<n.length;i++){var o=de(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function He(e){N(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ve(e)}),e),e.a={}}function We(){}Ue.prototype.C=function(){Ue.M.C.call(this),He(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=null;function ze(){return Qe=Qe||new be}function Ge(e){te.call(this,"serverreachability",e)}function Ke(e){var t=ze();t.dispatchEvent(new Ge(t,e))}function Ye(e){te.call(this,"statevent",e)}function Ze(e){var t=ze();t.dispatchEvent(new Ye(t,e))}function $e(e){te.call(this,"timingevent",e)}function Xe(e,t){if("function"!=c(e))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}_(Ge,te),_(Ye,te),_($e,te);var Je={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},et={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function tt(){}function nt(){}tt.prototype.a=null;var rt,it={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function ot(){te.call(this,"d")}function at(){te.call(this,"c")}function st(){}function ut(e,t,n){this.g=e,this.W=t,this.U=n||1,this.G=new Ue(this),this.N=ct,this.O=new Fe(e=q?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}_(ot,te),_(at,te),_(st,tt),rt=new st;var ct=45e3,lt={},ht={};function ft(e,t,n){e.B=1,e.f=Rt(Tt(t)),e.j=n,e.F=!0,dt(e,null)}function dt(e,t){e.s=m(),yt(e),e.A=Tt(e.f);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Gt(n.b,"t",r),e.w=0,e.a=Vn(e.g,e.g.w?t:null),0<e.J&&(e.D=new Le(y(e.ya,e,e.a),e.J)),qe(e.G,e.a,"readystatechange",e.Sa),t=e.m?P(e.m):{},e.j?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.$(e.A,e.v,e.j,t)):(e.v="GET",e.a.$(e.A,e.v,null,t)),Ke(1)}function pt(e,t,n){for(var r=!0;!e.l&&e.w<n.length;){var i=vt(e,n);if(i==ht){4==t&&(e.c=4,Ze(14),r=!1);break}if(i==lt){e.c=4,Ze(15),r=!1;break}Ct(e,i)}4==t&&0==n.length&&(e.c=1,Ze(16),r=!1),e.b=e.b&&r,r||(wt(e),_t(e))}function vt(e,t){var n=e.w,r=t.indexOf("\n",n);return-1==r?ht:(n=Number(t.substring(n,r)),isNaN(n)?lt:(r+=1)+n>t.length?ht:(t=t.substr(r,n),e.w=r+n,t))}function yt(e){e.P=m()+e.N,gt(e,e.N)}function gt(e,t){if(null!=e.h)throw Error("WatchDog timer not null");e.h=Xe(y(e.Qa,e),t)}function mt(e){e.h&&(s.clearTimeout(e.h),e.h=null)}function _t(e){0==e.g.u||e.l||Rn(e.g,e)}function wt(e){mt(e);var t=e.D;t&&"function"==typeof t.da&&t.da(),e.D=null,Me(e.O),He(e.G),e.a&&(t=e.a,e.a=null,t.abort(),t.da())}function Ct(e,t){try{var n=e.g;if(0!=n.u&&(n.a==e||en(n.b,e)))if(n.A=e.H,!e.o&&en(n.b,e)&&3==n.u){try{var r=n.ja.a.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.i){if(n.a){if(!(n.a.s+3e3<e.s))break e;Pn(n),n.a.cancel(),n.a=null}Nn(n),Ze(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Xe(y(n.Na,n),6e3));if(1>=Jt(n.b)&&n.O){try{n.O()}catch(v){}n.O=void 0}}else Mn(n,11)}else if((e.o||n.a==e)&&Pn(n),!I(t))for(t=r=n.ja.a.parse(t),r=0;r<t.length;r++)if(n.G=(i=t[r])[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var a=i[5];null!=a&&"number"==typeof a&&0<a&&(n.D=1.5*a);var s=n,u=e.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=s.b;!l.a&&(T(c,"spdy")||T(c,"quic")||T(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(tn(l,l.b),l.b=null))}if(s.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.ha=h,Pt(s.v,s.s,h))}}n.u=3,n.c&&n.c.na();var f=e;if((s=n).ea=Ln(s,s.w?s.R:null,s.P),f.o){nn(s.b,f);var d=f,p=s.D;p&&d.setTimeout(p),d.h&&(mt(d),yt(d)),s.a=f}else On(s);0<n.f.length&&Dn(n)}else"stop"!=i[0]&&"close"!=i[0]||Mn(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Mn(n,7):kn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Ke(4)}catch(v){}}function bt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"==typeof e)b(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.I&&"function"==typeof e.I)n=void 0;else if(l(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.I&&"function"==typeof e.I)return e.I();if("string"==typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Et(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Et)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function kt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];It(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)It(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function It(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=ut.prototype).setTimeout=function(e){this.N=e},i.Sa=function(e){e=e.target;var t=this.D;t&&3==wn(e)?t.Ia():this.ya(e)},i.ya=function(e){try{if(e==this.a)e:{var t=wn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>t||3==t&&!q&&!this.a.Y())){this.l||4!=t||7==n||Ke(8==n||0>=r?3:2),mt(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.c=3,Ze(12),wt(this),_t(this);break e}this.o=!0,Ct(this,u)}this.F?(pt(this,t,o),q&&this.b&&3==t&&(qe(this.G,this.O,"tick",this.Ra),this.O.start())):Ct(this,o),4==t&&wt(this),this.b&&!this.l&&(4==t?Rn(this.g,this):(this.b=!1,yt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Ze(12)):(this.c=0,Ze(13)),wt(this),_t(this)}}}catch(c){}},i.Ra=function(){if(this.a){var e=wn(this.a),t=this.a.Y();this.w<t.length&&(mt(this),pt(this,e,t),this.b&&4!=e&&yt(this))}},i.cancel=function(){this.l=!0,wt(this)},i.Qa=function(){this.h=null;var e=m();0<=e-this.P?(2!=this.B&&(Ke(3),Ze(17)),wt(this),this.c=2,_t(this)):gt(this,this.P-e)},(i=Et.prototype).I=function(){kt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},i.K=function(){return kt(this),this.a.concat()},i.get=function(e,t){return It(this.b,e)?this.b[e]:t},i.set=function(e,t){It(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},i.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var St=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Dt){this.a=void 0!==t?t:e.a,At(this,e.f),this.j=e.j,xt(this,e.c),Ot(this,e.h),this.g=e.g,t=e.b;var n=new Ht;n.c=t.c,t.a&&(n.a=new Et(t.a),n.b=t.b),Nt(this,n),this.i=e.i}else e&&(n=String(e).match(St))?(this.a=!!t,At(this,n[1]||"",!0),this.j=Ft(n[2]||""),xt(this,n[3]||"",!0),Ot(this,n[4]),this.g=Ft(n[5]||"",!0),Nt(this,n[6]||"",!0),this.i=Ft(n[7]||"")):(this.a=!!t,this.b=new Ht(null,this.a))}function Tt(e){return new Dt(e)}function At(e,t,n){e.f=n?Ft(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function xt(e,t,n){e.c=n?Ft(t,!0):t}function Ot(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Nt(e,t,n){t instanceof Ht?(e.b=t,function(e,t){t&&!e.f&&(Wt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qt(this,t),Gt(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Mt(t,Bt)),e.b=new Ht(t,e.a))}function Pt(e,t,n){e.b.set(t,n)}function Rt(e){return Pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),e}function Ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,jt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Mt(t,Lt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Mt(t,Lt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mt(n,"/"==n.charAt(0)?Ut:Vt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Mt(n,qt)),e.join("")};var Lt=/[#\/\?@]/g,Vt=/[#\?:]/g,Ut=/[#\?]/g,Bt=/[#\?@]/g,qt=/#/g;function Ht(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Wt(e){e.a||(e.a=new Et,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qt(e,t){Wt(e),t=Kt(e,t),It(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,It((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&kt(e)))}function zt(e,t){return Wt(e),t=Kt(e,t),It(e.a.b,t)}function Gt(e,t,n){Qt(e,t),0<n.length&&(e.c=null,e.a.set(Kt(e,t),k(n)),e.b+=n.length)}function Kt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Yt(e,t){this.b=e,this.a=t}function Zt(e){this.g=e||$t,e=s.PerformanceNavigationTiming?0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(s.ca&&s.ca.ua&&s.ca.ua()&&s.ca.ua().mb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=Ht.prototype).add=function(e,t){Wt(this),this.c=null,e=Kt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},i.forEach=function(e,t){Wt(this),this.a.forEach((function(n,r){b(n,(function(n){e.call(t,n,r,this)}),this)}),this)},i.K=function(){Wt(this);for(var e=this.a.I(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},i.I=function(e){Wt(this);var t=[];if("string"==typeof e)zt(this,e)&&(t=E(t,this.a.get(Kt(this,e))));else{e=this.a.I();for(var n=0;n<e.length;n++)t=E(t,e[n])}return t},i.set=function(e,t){return Wt(this),this.c=null,zt(this,e=Kt(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},i.get=function(e,t){return e&&0<(e=this.I(e)).length?String(e[0]):t},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var $t=10;function Xt(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Jt(e){return e.b?1:e.a?e.a.size:0}function en(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function tn(e,t){e.a?e.a.add(t):e.b=t}function nn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function rn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.i);if(null!=e.a&&0!==e.a.size){var i=e.c;try{for(var o=r(e.a.values()),a=o.next();!a.done;a=o.next())i=i.concat(a.value.i)}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return k(e.c)}function on(){}function an(){this.a=new on}function sn(e,t,n){var r=n||"";try{bt(e,(function(e,n){var i=e;h(e)&&(i=ke(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function un(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Zt.prototype.cancel=function(){var e,t;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},on.prototype.stringify=function(e){return s.JSON.stringify(e,void 0)},on.prototype.parse=function(e){return s.JSON.parse(e,void 0)};var cn=s.JSON.parse;function ln(e){be.call(this),this.headers=new Et,this.G=e||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}_(ln,be);var hn="",fn=/^https?$/i,dn=["POST","PUT"];function pn(e){return"content-type"==e.toLowerCase()}function vn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,yn(e),mn(e)}function yn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function gn(e){if(e.b&&void 0!==a&&(!e.s[1]||4!=wn(e)||2!=e.S()))if(e.l&&4==wn(e))je(e.va,0,e);else if(e.dispatchEvent("readystatechange"),4==wn(e)){e.b=!1;try{var t,n=e.S();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.D).match(St)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!fn.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var c=2<wn(e)?e.a.statusText:""}catch(l){c=""}e.f=c+" ["+e.S()+"]",yn(e)}}finally{mn(e)}}}function mn(e,t){if(e.a){_n(e);var n=e.a,r=e.s[0]?u:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function _n(e){e.a&&e.B&&(e.a.ontimeout=null),e.m&&(s.clearTimeout(e.m),e.m=null)}function wn(e){return e.a?e.a.readyState:0}function Cn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return N(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Pt(e,t,n))}function bn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function En(e){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=bn("failFast",!1,e),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=bn("baseRetryDelayMs",5e3,e),this.Ga=bn("retryDelaySeedMs",1e4,e),this.Da=bn("forwardChannelMaxRetries",2,e),this.ga=bn("forwardChannelRequestTimeoutMs",2e4,e),this.Ea=e&&e.nb||void 0,this.D=void 0,this.w=e&&e.supportsCrossDomainXhr||!1,this.B="",this.b=new Zt(e&&e.concurrentRequestLimit),this.ja=new an,this.fa=e&&e.fastHandshake||!1,e&&e.forceLongPolling&&(this.W=!1),this.O=void 0}function kn(e){if(In(e),3==e.u){var t=e.H++,n=Tt(e.v);Pt(n,"SID",e.B),Pt(n,"RID",t),Pt(n,"TYPE","terminate"),An(e,n),(t=new ut(e,t,void 0)).B=2,t.f=Rt(Tt(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(t.f.toString(),"")),!n&&s.Image&&((new Image).src=t.f,n=!0),n||(t.a=Vn(t.g,null),t.a.$(t.f)),t.s=m(),yt(t)}jn(e)}function In(e){e.a&&(e.a.cancel(),e.a=null),e.i&&(s.clearTimeout(e.i),e.i=null),Pn(e),e.b.cancel(),e.g&&("number"==typeof e.g&&s.clearTimeout(e.g),e.g=null)}function Sn(e,t){e.f.push(new Yt(e.Fa++,t)),3==e.u&&Dn(e)}function Dn(e){Xt(e.b)||e.g||(e.g=!0,Oe(e.xa,e),e.o=0)}function Tn(e,t){var n;n=t?t.W:e.H++;var r=Tt(e.v);Pt(r,"SID",e.B),Pt(r,"RID",n),Pt(r,"AID",e.G),An(e,r),e.h&&e.j&&Cn(r,e.h,e.j),n=new ut(e,n,e.o+1),null===e.h&&(n.m=e.j),t&&(e.f=t.i.concat(e.f)),t=xn(e,n,1e3),n.setTimeout(Math.round(.5*e.ga)+Math.round(.5*e.ga*Math.random())),tn(e.b,n),ft(n,r,t)}function An(e,t){e.c&&bt({},(function(e,n){Pt(t,n,e)}))}function xn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?y(e.c.Ha,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{sn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.i=e,r}function On(e){e.a||e.i||(e.J=1,Oe(e.wa,e),e.m=0)}function Nn(e){return!(e.a||e.i||3<=e.m||(e.J++,e.i=Xe(y(e.wa,e),Fn(e,e.m)),e.m++,0))}function Pn(e){null!=e.l&&(s.clearTimeout(e.l),e.l=null)}function Rn(e,t){var n=null;if(e.a==t){Pn(e),e.a=null;var r=2}else{if(!en(e.b,t))return;n=t.i,nn(e.b,t),r=1}if(e.A=t.H,0!=e.u)if(t.b)if(1==r){n=t.j?t.j.length:0,t=m()-t.s;var i=e.o;(r=ze()).dispatchEvent(new $e(r,n,t,i)),Dn(e)}else On(e);else if(3==(i=t.c)||0==i&&0<e.A||!(1==r&&function(e,t){return!(Jt(e.b)>=e.b.f-(e.g?1:0)||(e.g?(e.f=t.i.concat(e.f),0):1==e.u||2==e.u||e.o>=(e.Ca?0:e.Da)||(e.g=Xe(y(e.xa,e,t),Fn(e,e.o)),e.o++,0)))}(e,t)||2==r&&Nn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Mn(e,5);break;case 4:Mn(e,10);break;case 3:Mn(e,6);break;default:Mn(e,2)}}function Fn(e,t){var n=e.Ba+Math.floor(Math.random()*e.Ga);return e.c||(n*=2),n*t}function Mn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=y(e.Ta,e);n||(n=new Dt("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||At(n,"https"),Rt(n)),function(e,t){var n=new We;if(s.Image){var r=new Image;r.onload=g(un,n,r,"TestLoadImage: loaded",!0,t),r.onerror=g(un,n,r,"TestLoadImage: error",!1,t),r.onabort=g(un,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=g(un,n,r,"TestLoadImage: timeout",!1,t),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ze(2);e.u=0,e.c&&e.c.la(t),jn(e),In(e)}function jn(e){e.u=0,e.A=-1,e.c&&(0==rn(e.b).length&&0==e.f.length||(e.b.c.length=0,k(e.f),e.f.length=0),e.c.ka())}function Ln(e,t,n){var r=function(e){return e instanceof Dt?Tt(e):new Dt(e,void 0)}(n);if(""!=r.c)t&&xt(r,t+"."+r.c),Ot(r,r.h);else{var i=s.location;r=function(e,t,n,r){var i=new Dt(null,void 0);return e&&At(i,e),t&&xt(i,t),n&&Ot(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.N&&N(e.N,(function(e,t){Pt(r,t,e)})),n=e.ha,(t=e.s)&&n&&Pt(r,t,n),Pt(r,"VER",e.oa),An(e,r),r}function Vn(e,t){if(t&&!e.w)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ln(e.Ea)).F=e.w,t}function Un(){}function Bn(){if(U&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function qn(e,t){be.call(this),this.a=new En(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.j=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.pa&&(e?e["X-WebChannel-Client-Profile"]=t.pa:e={"X-WebChannel-Client-Profile":t.pa}),this.a.F=e,(e=t&&t.httpHeadersOverwriteParam)&&!I(e)&&(this.a.h=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.a.s=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Qn(this)}function Hn(e){ot.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Wn(){at.call(this),this.status=1}function Qn(e){this.a=e}(i=ln.prototype).$=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.G?this.G:rt),this.a.onreadystatechange=y(this.va,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void vn(this,o)}e=n||"";var i=new Et(this.headers);r&&bt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=pn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.K()),n=s.FormData&&e instanceof s.FormData,!(0<=C(dn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_n(this),0<this.o&&((this.B=function(e){return U&&Z(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.ta,this)):this.m=je(this.ta,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){vn(this,o)}},i.ta=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mn(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),mn(this,!0)),ln.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?gn(this):this.Oa())},i.Oa=function(){gn(this)},i.S=function(){try{return 2<wn(this)?this.a.status:-1}catch(L){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(L){return""}},i.Ja=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cn(t)}},i.qa=function(){return this.h},i.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=En.prototype).oa=8,i.u=1,i.xa=function(e){if(this.g)if(this.g=null,1==this.u){if(!e){this.H=Math.floor(1e5*Math.random());var t,n=new ut(this,e=this.H++,void 0),r=this.j;if(this.F&&(r?F(r=P(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=xn(this,n,t),Pt(i=Tt(this.v),"RID",e),Pt(i,"CVER",22),this.s&&Pt(i,"X-HTTP-Session-Id",this.s),An(this,i),this.h&&r&&Cn(i,this.h,r),tn(this.b,n),this.fa?(Pt(i,"$req",t),Pt(i,"SID","null"),n.R=!0,ft(n,i,null)):ft(n,i,t),this.u=2}}else 3==this.u&&(e?Tn(this,e):0==this.f.length||Xt(this.b)||Tn(this))},i.wa=function(){this.i=null,this.a=new ut(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var e=Tt(this.ea);Pt(e,"RID","rpc"),Pt(e,"SID",this.B),Pt(e,"CI",this.U?"0":"1"),Pt(e,"AID",this.G),An(this,e),Pt(e,"TYPE","xmlhttp"),this.h&&this.j&&Cn(e,this.h,this.j),this.D&&this.a.setTimeout(this.D);var t=this.a,n=this.R;t.B=1,t.f=Rt(Tt(e)),t.j=null,t.F=!0,dt(t,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Nn(this),Ze(19))},i.Ta=function(e){Ze(e?2:1)},(i=Un.prototype).na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},Bn.prototype.a=function(e,t){return new qn(e,t)},_(qn,be),(i=qn.prototype).addEventListener=function(e,t,n,r){qn.M.addEventListener.call(this,e,t,n,r)},i.removeEventListener=function(e,t,n,r){qn.M.removeEventListener.call(this,e,t,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var e=this.a,t=this.l,n=this.b||void 0;Ze(0),e.P=t,e.N=n||{},e.U=e.W,e.v=Ln(e,null,e.P),Dn(e)},i.close=function(){kn(this.a)},i.La=function(e){if("string"==typeof e){var t={};t.__data__=e,Sn(this.a,t)}else this.g?((t={}).__data__=ke(e),Sn(this.a,t)):Sn(this.a,e)},i.C=function(){this.a.c=null,delete this.f,kn(this.a),delete this.a,qn.M.C.call(this)},_(Hn,ot),_(Wn,at),_(Qn,Un),Qn.prototype.na=function(){this.a.dispatchEvent("a")},Qn.prototype.ma=function(e){this.a.dispatchEvent(new Hn(e))},Qn.prototype.la=function(e){this.a.dispatchEvent(new Wn(e))},Qn.prototype.ka=function(){this.a.dispatchEvent("b")},Bn.prototype.createWebChannel=Bn.prototype.a,qn.prototype.send=qn.prototype.La,qn.prototype.open=qn.prototype.Ka,qn.prototype.close=qn.prototype.close,Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,et.COMPLETE="complete",nt.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",be.prototype.listen=be.prototype.ra,ln.prototype.listenOnce=ln.prototype.sa,ln.prototype.getLastError=ln.prototype.Ma,ln.prototype.getLastErrorCode=ln.prototype.qa,ln.prototype.getStatus=ln.prototype.S,ln.prototype.getResponseJson=ln.prototype.Ja,ln.prototype.getResponseText=ln.prototype.Y,ln.prototype.send=ln.prototype.$;var zn={createWebChannelTransport:function(){return new Bn},ErrorCode:Je,EventType:et,WebChannel:nt,XhrIo:ln},Gn=zn.createWebChannelTransport,Kn=zn.ErrorCode,Yn=zn.EventType,Zn=zn.WebChannel,$n=zn.XhrIo;t.default=zn},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},zUnb:function(e,t,n){"use strict";n.r(t);var r,i,o,a,s=n("fXoL"),u={apiKey:"AIzaSyB3cTzJctzOelp0sqSexjV7IE0NxnJBMls",authDomain:"clientpanel-d418c.firebaseapp.com",databaseURL:"https://clientpanel-d418c.firebaseio.com",projectId:"clientpanel-d418c",storageBucket:"clientpanel-d418c.appspot.com",messagingSenderId:"844121403405",appId:"1:844121403405:web:f7bcafff04258108eda544",measurementId:"G-QM3383BKFM"},c=n("ofXK"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=h||(h=document.querySelector("base"))?h.getAttribute("href"):null;return null==n?null:(t=n,r||(r=document.createElement("a")),r.setAttribute("href",t),"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname)}},{key:"resetBaseElement",value:function(){h=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(c["\u0275parseCookieValue"])(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(c["\u0275setRootDomAdapter"])(new n)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(c["\u0275DomAdapter"])),h=null,f=new s.InjectionToken("TRANSITION_ID"),d=[{provide:s.APP_INITIALIZER,useFactory:function(e,t,n){return function(){n.get(s.ApplicationInitStatus).donePromise.then((function(){var n=Object(c["\u0275getDOM"])();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[f,c.DOCUMENT,s.Injector],multi:!0}],p=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){s["\u0275global"].getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},s["\u0275global"].getAllAngularTestabilities=function(){return e.getAllTestabilities()},s["\u0275global"].getAllAngularRootElements=function(){return e.getAllRootElements()},s["\u0275global"].frameworkStabilizers||(s["\u0275global"].frameworkStabilizers=[]),s["\u0275global"].frameworkStabilizers.push((function(e){var t=s["\u0275global"].getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Object(c["\u0275getDOM"])().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.setTestabilityGetter)(new e)}}]),e}(),v=new s.InjectionToken("EventManagerPlugins"),y=((i=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||i)(s["\u0275\u0275inject"](v),s["\u0275\u0275inject"](s.NgZone))},i.\u0275prov=s["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac}),i),g=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Object(c["\u0275getDOM"])().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),m=((a=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275prov=s["\u0275\u0275defineInjectable"]({token:a,factory:a.\u0275fac}),a),_=((o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Object(c["\u0275getDOM"])().remove(e)}))}}]),n}(m)).\u0275fac=function(e){return new(e||o)(s["\u0275\u0275inject"](c.DOCUMENT))},o.\u0275prov=s["\u0275\u0275defineInjectable"]({token:o,factory:o.\u0275fac}),o),w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C=/%COMP%/g;function b(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?b(e,i,n):(i=i.replace(C,e),n.push(i))}return n}function E(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var k,I,S,D,T=((k=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new A(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case s.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new x(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case s.ViewEncapsulation.Native:case s.ViewEncapsulation.ShadowDom:return new O(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=b(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||k)(s["\u0275\u0275inject"](y),s["\u0275\u0275inject"](_),s["\u0275\u0275inject"](s.APP_ID))},k.\u0275prov=s["\u0275\u0275defineInjectable"]({token:k,factory:k.\u0275fac}),k),A=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(w[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=w[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=w[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&s.RendererStyleFlags2.DashCase?e.style.setProperty(t,n,r&s.RendererStyleFlags2.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&s.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,E(n)):this.eventManager.addEventListener(e,t,E(n))}}]),e}(),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=b(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(C,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(C,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(A),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===s.ViewEncapsulation.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=b(o.id,o.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],a.shadowRoot.appendChild(l)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(A),N=((I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(g)).\u0275fac=function(e){return new(e||I)(s["\u0275\u0275inject"](c.DOCUMENT))},I.\u0275prov=s["\u0275\u0275defineInjectable"]({token:I,factory:I.\u0275fac}),I),P=["alt","control","meta","shift"],R={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},M={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},j=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(c["\u0275getDOM"])().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(P.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&F.hasOwnProperty(t)&&(t=F[t]))}return R[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),P.forEach((function(r){r!=n&&(0,M[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(g)).\u0275fac=function(e){return new(e||S)(s["\u0275\u0275inject"](c.DOCUMENT))},S.\u0275prov=s["\u0275\u0275defineInjectable"]({token:S,factory:S.\u0275fac}),S),L=[{provide:s.PLATFORM_ID,useValue:c["\u0275PLATFORM_BROWSER_ID"]},{provide:s.PLATFORM_INITIALIZER,useValue:function(){l.makeCurrent(),p.init()},multi:!0},{provide:c.DOCUMENT,useFactory:function(){return Object(s["\u0275setDocument"])(document),document},deps:[]}],V=Object(s.createPlatformFactory)(s.platformCore,"browser",L),U=[[],{provide:s["\u0275INJECTOR_SCOPE"],useValue:"root"},{provide:s.ErrorHandler,useFactory:function(){return new s.ErrorHandler},deps:[]},{provide:v,useClass:N,multi:!0,deps:[c.DOCUMENT,s.NgZone,s.PLATFORM_ID]},{provide:v,useClass:j,multi:!0,deps:[c.DOCUMENT]},[],{provide:T,useClass:T,deps:[y,_,s.APP_ID]},{provide:s.RendererFactory2,useExisting:T},{provide:m,useExisting:_},{provide:_,useClass:_,deps:[c.DOCUMENT]},{provide:s.Testability,useClass:s.Testability,deps:[s.NgZone]},{provide:y,useClass:y,deps:[v,s.NgZone]},[]],B=((D=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:s.APP_ID,useValue:t.appId},{provide:f,useExisting:s.APP_ID},d]}}}]),e}()).\u0275mod=s["\u0275\u0275defineNgModule"]({type:D}),D.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||D)(s["\u0275\u0275inject"](D,12))},providers:U,imports:[c.CommonModule,s.ApplicationModule]}),D);"undefined"!=typeof window&&window;var q=n("z+Ro"),H=n("yCtX"),W=n("jZKg");function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return Object(q.a)(r)?(t.pop(),Object(W.a)(t,r)):Object(H.a)(t)}var z=n("Cfvw"),G=n("XNiG"),K=n("9ppp"),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new K.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(G.a),Z=n("HDdC"),$=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),X=n("DH7j"),J=n("l7GE"),ee=n("ZUHj"),te={},ne=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new re(e,this.resultSelector))}}]),e}(),re=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(te),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(ee.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===te?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(J.a),ie=new Z.a((function(e){return e.complete()}));function oe(e){return e?function(e){return new Z.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):ie}function ae(e){return new Z.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(z.a)(n):oe()).subscribe(t)}))}var se=n("lJxs"),ue=n("bHdf");function ce(){return Object(ue.a)(1)}var le=n("7o/Q");function he(e,t){return function(n){return n.lift(new fe(e,t))}}var fe=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new de(e,this.predicate,this.thisArg))}}]),e}(),de=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(le.a),pe=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function ve(e){return function(t){return 0===e?oe():t.lift(new ye(e))}}var ye=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new pe}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ge(e,this.total))}}]),e}(),ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(le.a);function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce;return function(t){return t.lift(new _e(e))}}var _e=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new we(e,this.errorFactory))}}]),e}(),we=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(le.a);function Ce(){return new $}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Ee(e))}}var Ee=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ke(e,this.defaultValue))}}]),e}(),ke=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(le.a),Ie=n("SpAZ");function Se(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?he((function(t,n){return e(t,n,r)})):Ie.a,ve(1),n?be(t):me((function(){return new $})))}}var De=n("51Dv");function Te(e){return function(t){var n=new Ae(e),r=t.lift(n);return n.caught=r}}var Ae=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new xe(e,this.selector,this.caught))}}]),e}(),xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new De.a(this,void 0,void 0);this.add(r);var i=Object(ee.a)(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(J.a);function Oe(e){return function(t){return 0===e?oe():t.lift(new Ne(e))}}var Ne=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new pe}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Pe(e,this.total))}}]),e}(),Pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(le.a);function Re(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?he((function(t,n){return e(t,n,r)})):Ie.a,Oe(1),n?be(t):me((function(){return new $})))}}var Fe=n("5+tZ"),Me=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new je(e,this.predicate,this.thisArg,this.source))}}]),e}(),je=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(le.a);function Le(e,t){return"function"==typeof t?function(n){return n.pipe(Le((function(n,r){return Object(z.a)(e(n,r)).pipe(Object(se.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Ve(e))}}var Ve=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ue(e,this.project))}}]),e}(),Ue=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new De.a(this,t,n),o=this.destination;o.add(i),this.innerSubscription=Object(ee.a)(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(J.a);function Be(){return ce()(Q.apply(void 0,arguments))}function qe(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new He(e,t,n))}}var He=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new We(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),We=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(le.a);function Qe(e,t){return Object(Fe.a)(e,t,1)}var ze=n("mCNh");function Ge(){}var Ke=n("n6bG");function Ye(e,t,n){return function(r){return r.lift(new $e(e,t,n))}}var Ze,$e=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Xe(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e))._tapNext=Ge,a._tapError=Ge,a._tapComplete=Ge,a._tapError=i||Ge,a._tapComplete=o||Ge,Object(Ke.a)(r)?(a._context=_assertThisInitialized(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||Ge,a._tapError=r.error||Ge,a._tapComplete=r.complete||Ge),a}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(le.a),Je=n("quSY"),et=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new tt(e,this.callback))}}]),e}(),tt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new Je.a(r)),i}return n}(le.a),nt=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},rt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(nt),it=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(nt),ot=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(nt),at=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(nt),st=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(nt),ut=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(nt),ct=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(nt),lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(nt),ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(nt),ft=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),dt=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),pt=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),vt=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),yt=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),gt=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),mt=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),_t=((Ze=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ze)},Ze.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ze,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&s["\u0275\u0275element"](0,"router-outlet")},directives:function(){return[Dr]},encapsulation:2}),Ze),wt=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Ct(e){return new wt(e)}function bt(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Et(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var kt=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function It(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];St(r,Dt(t,r))}}function St(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&It(e.children,t)}function Dt(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Tt(e){var t=e.children&&e.children.map(Tt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=_t),n}function At(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!xt(e[n=r[o]],t[n]))return!1;return!0}function xt(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Ot(e){return Array.prototype.concat.apply([],e)}function Nt(e){return e.length>0?e[e.length-1]:null}function Pt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Rt(e){return Object(s["\u0275isObservable"])(e)?e:Object(s["\u0275isPromise"])(e)?Object(z.a)(Promise.resolve(e)):Q(e)}function Ft(e,t,n){return n?function(e,t){return At(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Vt(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return xt(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Vt(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Vt(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Vt(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var Mt=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return Ht.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}}]),e}(),jt=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Pt(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Wt(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Lt=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Zt(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Ct(this.parameters)),this._parameterMap}}]),e}();function Vt(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Ut(e,t){var n=[];return Pt(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Pt(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Bt=function e(){_classCallCheck(this,e)},qt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new tn(e);return new Mt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return Wt(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Pt(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Ut(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Wt(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(zt(e),"=").concat(zt(t))})).join("&"):"".concat(zt(e),"=").concat(zt(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),Ht=new qt;function Wt(e){return e.segments.map((function(e){return Zt(e)})).join("/")}function Qt(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zt(e){return Qt(e).replace(/%3B/gi,";")}function Gt(e){return Qt(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kt(e){return decodeURIComponent(e)}function Yt(e){return Kt(e.replace(/\+/g,"%20"))}function Zt(e){return"".concat(Gt(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Gt(e),"=").concat(Gt(t[e]))})).join("")));var t}var $t=/^[^\/()?;=#]+/;function Xt(e){var t=e.match($t);return t?t[0]:""}var Jt=/^[^=?&#]+/,en=/^[^?&#]+/,tn=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new jt(e,t)),n}},{key:"parseSegment",value:function(){var e=Xt(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Lt(Kt(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Xt(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Xt(this.remaining);r&&(n=r,this.capture(n))}e[Kt(t)]=Kt(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Jt);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(en);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Yt(t),o=Yt(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Xt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new jt([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),nn=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=rn(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=rn(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=on(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return on(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function rn(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=rn(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function on(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=on(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var an=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function sn(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var un=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,pn(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(nn);function cn(e,t){var n=function(e,t){var n=new fn([],{},{},"",{},"primary",t,null,e.root,-1,{});return new dn("",new an(n,[]))}(e,t),r=new Y([new Lt("",{})]),i=new Y({}),o=new Y({}),a=new Y({}),s=new Y(""),u=new ln(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new un(new an(u,[]),n)}var ln=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(se.a)((function(e){return Ct(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(se.a)((function(e){return Ct(e)})))),this._queryParamMap}}]),e}();function hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var fn=function(){function e(t,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Ct(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}}]),e}(),dn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,pn(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return vn(this._root)}}]),n}(nn);function pn(e,t){t.value._routerState=e,t.children.forEach((function(t){return pn(e,t)}))}function vn(e){var t=e.children.length>0?" { ".concat(e.children.map(vn).join(", ")," } "):"";return"".concat(e.value).concat(t)}function yn(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,At(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),At(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!At(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),At(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function gn(e,t){var n,r;return At(e.params,t.params)&&Vt(n=e.url,r=t.url)&&n.every((function(e,t){return At(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||gn(e.parent,t.parent))}function mn(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function _n(e,t,n,r,i){var o={};return r&&Pt(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new Mt(n.root===e?t:function e(t,n,r){var i={};return Pt(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new jt(t.segments,i)}(n.root,e,t),o,i)}var wn=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&mn(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Nt(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Cn=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function bn(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function En(e,t,n){if(e||(e=new jt([],{})),0===e.segments.length&&e.hasChildren())return kn(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=bn(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Tn(s,u,a))return o;r+=2}else{if(!Tn(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new jt(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new jt(e.segments.slice(r.pathIndex),e.children),kn(o,0,i)}return r.match&&0===i.length?new jt(e.segments,{}):r.match&&!e.hasChildren()?In(e,t,n):r.match?kn(e,0,i):In(e,t,n)}function kn(e,t,n){if(0===n.length)return new jt(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Pt(r,(function(n,r){null!==n&&(i[r]=En(e.children[r],t,n))})),Pt(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new jt(e.segments,i)}function In(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Sn(n[i].outlets);return new jt(r,o)}if(0===i&&mn(n[0]))r.push(new Lt(e.segments[t].path,n[0])),i++;else{var a=bn(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&mn(s)?(r.push(new Lt(a,Dn(s))),i+=2):(r.push(new Lt(a,{})),i++)}}return new jt(r,{})}function Sn(e){var t={};return Pt(e,(function(e,n){null!==e&&(t[n]=In(new jt([],{}),0,e))})),t}function Dn(e){var t={};return Pt(e,(function(e,n){return t[n]=""+e})),t}function Tn(e,t,n){return e==n.path&&At(t,n.parameters)}var An=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),yn(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=sn(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Pt(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=sn(e),o=e.value.component?r.children:t;Pt(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=sn(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new gt(e.value.snapshot))})),e.children.length&&this.forwardEvent(new vt(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(yn(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),xn(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function xn(e){yn(e.value),e.children.forEach(xn)}function On(e){return"function"==typeof e}function Nn(e){return e instanceof Mt}var Pn=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Rn=function e(t){_classCallCheck(this,e),this.urlTree=t};function Fn(e){return new Z.a((function(t){return t.error(new Pn(e))}))}function Mn(e){return new Z.a((function(t){return t.error(new Rn(e))}))}function jn(e){return new Z.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Ln=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.NgModuleRef)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(se.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Te((function(t){if(t instanceof Rn)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Pn)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(se.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Te((function(e){if(e instanceof Pn)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new jt([],{primary:e}):e;return new Mt(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(se.a)((function(e){return new jt([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Q({});var o=[],a=[],s={};return Pt(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(Object(se.a)((function(e){return s[i]=e})));"primary"===i?o.push(l):a.push(l)})),Q.apply(null,o.concat(a)).pipe(ce(),Se(),Object(se.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return Q.apply(void 0,_toConsumableArray(n)).pipe(Object(se.a)((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Te((function(e){if(e instanceof Pn)return Q(null);throw e})))})),ce(),Re((function(e){return!!e})),Te((function(e,n){if(e instanceof $||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return Q(new jt([],{}));throw new Pn(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return qn(r)!==o?Fn(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Fn(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Mn(o):this.lineralizeSegments(n,o).pipe(Object(Fe.a)((function(n){var o=new jt(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=Vn(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Fn(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Mn(f):this.lineralizeSegments(r,f).pipe(Object(Fe.a)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(se.a)((function(e){return n._loadedConfig=e,new jt(r,{})}))):Q(new jt(r,{}));var o=Vn(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return Fn(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(Object(Fe.a)((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Bn(e,t,n)&&"primary"!==qn(n)}))}(e,n,r)?{segmentGroup:Un(new jt(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==qn(o)&&(n[qn(o)]=new jt([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new jt(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Bn(e,t,n)}))}(e,n,r)?{segmentGroup:Un(new jt(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Bn(e,t,s)&&!r[qn(s)]&&(o[qn(s)]=new jt([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(se.a)((function(e){return new jt(s,e)}))):0===r.length&&0===u.length?Q(new jt(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(se.a)((function(e){return new jt(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Q(new kt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Q(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(z.a)(i).pipe(Object(se.a)((function(r){var i,o=e.get(r);if(function(e){return e&&On(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!On(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Rt(i)}))).pipe(ce(),(r=function(e){return!0===e},function(e){return e.lift(new Me(r,void 0,e))})):Q(!0)}(e.injector,t,n).pipe(Object(Fe.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(se.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new Z.a((function(t){return t.error(bt("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Q(new kt([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Q(n);if(r.numberOfChildren>1||!r.children.primary)return jn(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Mt(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Pt(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Pt(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new jt(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function Vn(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Et)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Un(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new jt(e.segments.concat(t.segments),t.children)}return e}function Bn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function qn(e){return e.outlet||"primary"}var Hn=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Wn=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Qn(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function zn(e,t,n){var r=sn(e),i=e.value;Pt(r,(function(e,r){zn(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Wn(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Gn=Symbol("INITIAL_VALUE");function Kn(){return Le((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(q.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(X.a)(t[0])&&(t=t[0]),Object(H.a)(t,i).lift(new ne(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Oe(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return Object(q.a)(r)?(t.pop(),function(e){return Be(t,e,r)}):function(e){return Be(t,e)}}(Gn))})))).pipe(qe((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Gn)return e;if(r===Gn&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Nn(r))return r}return e}),e)}),Gn),he((function(e){return e!==Gn})),Object(se.a)((function(e){return Nn(e)?e:!0===e})),Oe(1))}))}function Yn(e,t){return null!==e&&t&&t(new yt(e)),Q(!0)}function Zn(e,t){return null!==e&&t&&t(new pt(e)),Q(!0)}function $n(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Q(r.map((function(r){return ae((function(){var i,o=Qn(r,t,n);if(function(e){return e&&On(e.canActivate)}(o))i=Rt(o.canActivate(t,e));else{if(!On(o))throw new Error("Invalid CanActivate guard");i=Rt(o(t,e))}return i.pipe(Re())}))}))).pipe(Kn()):Q(!0)}function Xn(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return ae((function(){return Q(t.guards.map((function(i){var o,a=Qn(i,t.node,n);if(function(e){return e&&On(e.canActivateChild)}(a))o=Rt(a.canActivateChild(r,e));else{if(!On(a))throw new Error("Invalid CanActivateChild guard");o=Rt(a(r,e))}return o.pipe(Re())}))).pipe(Kn())}))}));return Q(i).pipe(Kn())}var Jn=function e(){_classCallCheck(this,e)},er=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=rr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new fn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new an(n,t),i=new dn(this.url,r);return this.inheritParamsAndData(i._root),Q(i)}catch(o){return new Z.a((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=hn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Ut(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(s){if(!(s instanceof Jn))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new Jn}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Jn;if((e.outlet||"primary")!==r)throw new Jn;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Nt(n).parameters:{};i=new fn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ar(e),r,e.component,e,tr(t),nr(t)+n.length,sr(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Jn;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Et)(n,e,t);if(!r)throw new Jn;var i={};Pt(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new fn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ar(e),r,e.component,e,tr(t),nr(t)+o.length,sr(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=rr(t,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new an(i,d)]}if(0===c.length&&0===f.length)return[new an(i,[])];var p=this.processSegment(c,h,f,"primary");return[new an(i,p)]}}]),e}();function tr(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function nr(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function rr(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return ir(e,t,n)&&"primary"!==or(n)}))}(e,n,r)){var o=new jt(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==or(s)){var u=new jt([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[or(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(e,t,r,new jt(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return ir(e,t,n)}))}(e,n,r)){var a=new jt(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(ir(e,n,c)&&!i[or(c)]){var l=new jt([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[or(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new jt(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function ir(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function or(e){return e.outlet||"primary"}function ar(e){return e.data||{}}function sr(e){return e.resolve||{}}function ur(e,t,n,r){var i=Qn(e,t,r);return Rt(i.resolve?i.resolve(t,n):i(t,n))}function cr(e){return function(t){return t.pipe(Le((function(t){var n=e(t);return n?Object(z.a)(n).pipe(Object(se.a)((function(){return t}))):Object(z.a)([t])})))}}var lr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),hr=new s.InjectionToken("ROUTES"),fr=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(se.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new kt(Ot(i.injector.get(hr)).map(Tt),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(z.a)(this.loader.load(e)):Rt(e()).pipe(Object(Fe.a)((function(e){return e instanceof s.NgModuleFactory?Q(e):Object(z.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),dr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function pr(e){throw e}function vr(e,t,n){return t.parse("/")}function yr(e,t){return Q(null)}var gr,mr,_r=((mr=function(){function e(t,n,r,i,o,a,u,c){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new G.a,this.errorHandler=pr,this.malformedUriErrorHandler=vr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yr,afterPreactivation:yr},this.urlHandlingStrategy=new dr,this.routeReuseStrategy=new lr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(s.NgModuleRef),this.console=o.get(s["\u0275Console"]);var h=o.get(s.NgZone);this.isNgZoneEnabled=h instanceof s.NgZone,this.resetConfig(c),this.currentUrlTree=new Mt(new jt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fr(a,u,(function(e){return l.triggerEvent(new ft(e))}),(function(e){return l.triggerEvent(new dt(e))})),this.routerState=cn(this.currentUrlTree,this.rootComponentType),this.transitions=new Y({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(he((function(e){return 0!==e.id})),Object(se.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Le((function(e){var r,i,o,a,s=!1,u=!1;return Q(e).pipe(Ye((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Le((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Q(e).pipe(Le((function(e){var r=t.transitions.getValue();return n.next(new rt(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?ie:[e]})),Le((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(Le((function(e){return function(e,t,n,r,i){return new Ln(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(Object(se.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Ye((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(Fe.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new er(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(se.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Ye((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Ye((function(e){var r=new st(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,h=e.restoredState,f=e.extras,d=new rt(u,t.serializeUrl(c),l,h);n.next(d);var p=cn(c,t.rootComponentType).snapshot;return Q(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ie})),cr((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Ye((function(e){var n=new ut(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(se.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=sn(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Vt(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Vt(e.url,t.url)||!At(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gn(e,t)||!At(e.queryParams,t.queryParams);case"paramsChange":default:return!gn(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Hn(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Wn(u&&u.outlet&&u.outlet.component||null,s))}else s&&zn(n,u,o),o.canActivateChecks.push(new Hn(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),Pt(a,(function(e,t){return zn(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(Fe.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Q(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(z.a)(e).pipe(Object(Fe.a)((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Q(o.map((function(o){var a,s=Qn(o,t,i);if(function(e){return e&&On(e.canDeactivate)}(s))a=Rt(s.canDeactivate(e,t,n,r));else{if(!On(s))throw new Error("Invalid CanDeactivate guard");a=Rt(s(e,t,n,r))}return a.pipe(Re())}))).pipe(Kn()):Q(!0)}(e.component,e.route,n,t,r)})),Re((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(Object(Fe.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(z.a)(t).pipe(Qe((function(t){return Object(z.a)([Zn(t.route.parent,r),Yn(t.route,r),Xn(e,t.path,n),$n(e,t.route,n)]).pipe(ce(),Re((function(e){return!0!==e}),!0))})),Re((function(e){return!0!==e}),!0))}(r,a,e,t):Q(n)})),Object(se.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Ye((function(e){if(Nn(e.guardsResult)){var n=bt('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Ye((function(e){var n=new ct(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),he((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new ot(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),cr((function(e){if(e.guards.canActivateChecks.length)return Q(e).pipe(Ye((function(e){var n=new lt(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(Fe.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(z.a)(i).pipe(Qe((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Q({});if(1===i.length){var o=i[0];return ur(e[o],t,n,r).pipe(Object(se.a)((function(e){return _defineProperty({},o,e)})))}var a={};return Object(z.a)(i).pipe(Object(Fe.a)((function(i){return ur(e[i],t,n,r).pipe(Object(se.a)((function(e){return a[i]=e,e})))}))).pipe(Se(),Object(se.a)((function(){return a})))}(e._resolve,e,t,r).pipe(Object(se.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),hn(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return Object(ze.a)(qe(e,t),ve(1),be(t))(n)}:function(t){return Object(ze.a)(qe((function(t,n,r){return e(t,n,r+1)})),ve(1))(t)}}((function(e,t){return e})),Object(se.a)((function(t){return e}))):Q(e)})))}),Ye((function(e){var n=new ht(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),cr((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(se.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new an(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,c=new ln(new Y((u=n.value).url),new Y(u.params),new Y(u.queryParams),new Y(u.fragment),new Y(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return e(t,n)}));return new an(c,l)}(e,t._root,n?n._root:void 0);return new un(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Ye((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},Object(se.a)((function(e){return new An(o,e.targetRouterState,e.currentRouterState,a).activate(i),e}))),Ye({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new ot(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new et(r))}),Te((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Nn(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new ot(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new at(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var s;return ie})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){It(e),this.config=e.map(Tt),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,a=t.queryParamsHandling,u=t.preserveFragment;Object(s.isDevMode)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:i,h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=o?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return _n(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wn(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Pt(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new wn(n,t,r)}(n);if(o.toRoot())return _n(t.root,new jt([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new Cn(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Cn(n.snapshot._urlSegment,!0,0);var r=mn(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Cn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?kn(a.segmentGroup,a.index,o.commands):En(a.segmentGroup,a.index,o.commands);return _n(a.segmentGroup,s,t,r,i)}(c,this.currentUrlTree,e,h,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(s.isDevMode)()&&this.isNgZoneEnabled&&!s.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Nn(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Nn(e))return Ft(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Ft(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new it(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){s["\u0275\u0275invalidFactory"]()},mr.\u0275dir=s["\u0275\u0275defineDirective"]({type:mr}),mr),wr=((gr=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof it&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Cr(this.skipLocationChange),replaceUrl:Cr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(s.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Cr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Cr(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||gr)(s["\u0275\u0275directiveInject"](_r),s["\u0275\u0275directiveInject"](ln),s["\u0275\u0275directiveInject"](c.LocationStrategy))},gr.\u0275dir=s["\u0275\u0275defineDirective"]({type:gr,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(s["\u0275\u0275hostProperty"]("href",t.href,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275attribute"]("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[s["\u0275\u0275NgOnChangesFeature"]]}),gr);function Cr(e){return""===e||!!e}var br,Er,kr,Ir=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Sr,this.attachRef=null},Sr=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Ir,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Dr=((br=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.EventEmitter,this.deactivateEvents=new s.EventEmitter,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Tr(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||br)(s["\u0275\u0275directiveInject"](Sr),s["\u0275\u0275directiveInject"](s.ViewContainerRef),s["\u0275\u0275directiveInject"](s.ComponentFactoryResolver),s["\u0275\u0275injectAttribute"]("name"),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},br.\u0275dir=s["\u0275\u0275defineDirective"]({type:br,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),br),Tr=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===ln?this.route:e===Sr?this.childContexts:this.parent.get(e,t)}}]),e}(),Ar=function e(){_classCallCheck(this,e)},xr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Q(null)}}]),e}(),Or=((kr=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new fr(n,r,(function(e){return t.triggerEvent(new ft(e))}),(function(e){return t.triggerEvent(new dt(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(he((function(e){return e instanceof it})),Qe((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(s.NgModuleRef);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(z.a)(r).pipe(Object(ue.a)(),Object(se.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(Fe.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||kr)(s["\u0275\u0275inject"](_r),s["\u0275\u0275inject"](s.NgModuleFactoryLoader),s["\u0275\u0275inject"](s.Compiler),s["\u0275\u0275inject"](s.Injector),s["\u0275\u0275inject"](Ar))},kr.\u0275prov=s["\u0275\u0275defineInjectable"]({token:kr,factory:kr.\u0275fac}),kr),Nr=((Er=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof rt?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof it&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof mt&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new mt(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){s["\u0275\u0275invalidFactory"]()},Er.\u0275dir=s["\u0275\u0275defineDirective"]({type:Er}),Er),Pr=new s.InjectionToken("ROUTER_CONFIGURATION"),Rr=new s.InjectionToken("ROUTER_FORROOT_GUARD"),Fr=[c.Location,{provide:Bt,useClass:qt},{provide:_r,useFactory:function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new _r(null,e,t,n,r,i,o,Ot(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),s.errorHandler&&(h.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(h.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var f=Object(c["\u0275getDOM"])();h.events.subscribe((function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return s.onSameUrlNavigation&&(h.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(h.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(h.relativeLinkResolution=s.relativeLinkResolution),h},deps:[Bt,Sr,c.Location,s.Injector,s.NgModuleFactoryLoader,s.Compiler,hr,Pr,[function(){return function e(){_classCallCheck(this,e)}}(),new s.Optional],[function(){return function e(){_classCallCheck(this,e)}}(),new s.Optional]]},Sr,{provide:ln,useFactory:function(e){return e.routerState.root},deps:[_r]},{provide:s.NgModuleFactoryLoader,useClass:s.SystemJsNgModuleLoader},Or,xr,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Te((function(){return Q(null)})))}}]),e}(),{provide:Pr,useValue:{enableTracing:!1}}];function Mr(){return new s.NgProbeToken("Router",_r)}var jr,Lr=((jr=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Fr,qr(t),{provide:Rr,useFactory:Br,deps:[[_r,new s.Optional,new s.SkipSelf]]},{provide:Pr,useValue:n||{}},{provide:c.LocationStrategy,useFactory:Ur,deps:[c.PlatformLocation,[new s.Inject(c.APP_BASE_HREF),new s.Optional],Pr]},{provide:Nr,useFactory:Vr,deps:[_r,c.ViewportScroller,Pr]},{provide:Ar,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:xr},{provide:s.NgProbeToken,multi:!0,useFactory:Mr},[Wr,{provide:s.APP_INITIALIZER,multi:!0,useFactory:Qr,deps:[Wr]},{provide:Kr,useFactory:zr,deps:[Wr]},{provide:s.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Kr}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[qr(t)]}}}]),e}()).\u0275mod=s["\u0275\u0275defineNgModule"]({type:jr}),jr.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||jr)(s["\u0275\u0275inject"](Rr,8),s["\u0275\u0275inject"](_r,8))}}),jr);function Vr(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Nr(e,t,n)}function Ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new c.HashLocationStrategy(e,t):new c.PathLocationStrategy(e,t)}function Br(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function qr(e){return[{provide:s.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:hr,multi:!0,useValue:e}]}var Hr,Wr=((Hr=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new G.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(c.LOCATION_INITIALIZED,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(_r),i=e.injector.get(Pr);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Q(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Pr),n=this.injector.get(Or),r=this.injector.get(Nr),i=this.injector.get(_r),o=this.injector.get(s.ApplicationRef);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||Hr)(s["\u0275\u0275inject"](s.Injector))},Hr.\u0275prov=s["\u0275\u0275defineInjectable"]({token:Hr,factory:Hr.\u0275fac}),Hr);function Qr(e){return e.appInitializer.bind(e)}function zr(e){return e.bootstrapListener.bind(e)}var Gr,Kr=new s.InjectionToken("Router Initializer"),Yr=n("sriv"),Zr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(Je.a)),$r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),Xr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r.now;return _classCallCheck(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}($r),Jr=new Xr(Zr),ei=((Gr=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Q(this.value);case"E":return e=this.error,new Z.a((function(t){return t.error(e)}));case"C":return oe()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Gr("C"),Gr.undefinedValueNotification=new Gr("N",void 0),Gr);function ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new ni(e,t))}}var ni=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ri(e,this.scheduler,this.delay))}}]),e}(),ri=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new ii(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(ei.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(ei.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(ei.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(le.a),ii=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},oi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(Zr),ai=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Xr))(oi),si=1,ui=Promise.resolve(),ci={};function li(e){return e in ci&&(delete ci[e],!0)}var hi=function(e){var t=si++;return ci[t]=!0,ui.then((function(){return li(t)&&e()})),t},fi=function(e){li(e)},di=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=hi(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(fi(t),e.scheduled=void 0)}}]),n}(Zr),pi=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(Xr))(di),vi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pi;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=a,i=o,(Object(X.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=pi),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pi;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(Z.a),yi=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new vi(t,this.delay,this.scheduler).subscribe(e)}}]),e}(),gi=n("Wcq6");function mi(){}var _i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ai;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),wi=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",mi,{},mi,mi)})),t.pipe(Ye({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),Ci=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new _i(Zone.current)})),this.insideAngular=t.run((function(){return new _i(Zone.current,Jr)}))};function bi(e){return function(t){return(t=t.lift(new wi(e.ngZone))).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new yi(e,t))}}(e.outsideAngular),ti(e.insideAngular))}}var Ei=new s.InjectionToken("angularfire2.app.options"),ki=new s.InjectionToken("angularfire2.app.nameOrConfig"),Ii=new s.Version("6.0.2");function Si(e,t,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",gi.apps.filter((function(e){return e&&e.name===r.name}))[0]||t.runOutsideAngular((function(){return Object(gi.initializeApp)(e,r)}))}var Di,Ti={provide:function e(){_classCallCheck(this,e)},useFactory:Si,deps:[Ei,s.NgZone,[new s.Optional,ki]]},Ai=((Di=function(){function e(t){_classCallCheck(this,e),Object(gi.registerVersion)("angularfire",Ii.full,t.toString()),Object(gi.registerVersion)("angular",s.VERSION.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:Ei,useValue:t},{provide:ki,useValue:n}]}}}]),e}()).\u0275mod=s["\u0275\u0275defineNgModule"]({type:Di}),Di.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Di)(s["\u0275\u0275inject"](s.PLATFORM_ID))},providers:[Ti]}),Di),xi=n("wj3C"),Oi=n.n(xi),Ni=n("6Joi");function Pi(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr;return new Z.a((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot(n)})):r=e.onSnapshot(n),function(){null!=r&&r()}}))}(e,t)}function Ri(e,t){return Pi(e,t).pipe(Object(se.a)((function(e){return{payload:e,type:"query"}})))}function Fi(e,t){return Ri(e,t).pipe(Object(se.a)((function(e){return e.payload.docChanges().map((function(e){return{type:e.type,payload:e}}))})))}function Mi(e,t,n){return Ri(e,n).pipe(Object(se.a)((function(e){return e.payload.docChanges()})),qe((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))})),e}(e,n,t)}),[]),Object(se.a)((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function ji(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var Li=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?Fi(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),he((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):Fi(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(qe((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=ji(e);return Mi(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ri(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(z.a)(this.query.get(e)).pipe(ti(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new Vi(this.ref.doc(e),this.afs)}}]),e}(),Vi=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=Wi(this.ref.collection(e),t),r=n.ref,i=n.query;return new Li(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Pi(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(se.a)((function(e){return{payload:e,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(Object(se.a)((function(e){return e.payload.data()})))}},{key:"get",value:function(e){return Object(z.a)(this.ref.get(e)).pipe(ti(this.afs.schedulers.insideAngular))}}]),e}(),Ui=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?Fi(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),he((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):Fi(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(qe((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=ji(e);return Mi(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return Ri(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)((function(e){return e.payload.docs.map((function(e){return e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(z.a)(this.query.get(e)).pipe(ti(this.afs.schedulers.insideAngular))}}]),e}(),Bi=new s.InjectionToken("angularfire2.enableFirestorePersistence"),qi=new s.InjectionToken("angularfire2.firestore.persistenceSettings"),Hi=new s.InjectionToken("angularfire2.firestore.settings");function Wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var Qi,zi,Gi=((zi=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this.schedulers=new Ci(a),this.keepUnstableUntilFirst=bi(this.schedulers),this.firestore=a.runOutsideAngular((function(){var e=Si(t,a,n);Ni.registerFirestore&&Object(Ni.registerFirestore)(Oi.a);var r=e.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!Object(c.isPlatformServer)(o)?a.runOutsideAngular((function(){try{return Object(z.a)(u.firestore.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return Q(!1)}})):Q(!1)}return _createClass(e,[{key:"collection",value:function(e,t){var n=Wi("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new Li(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new Ui(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run((function(){return t}));return new Vi(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}()).\u0275fac=function(e){return new(e||zi)(s["\u0275\u0275inject"](Ei),s["\u0275\u0275inject"](ki,8),s["\u0275\u0275inject"](Bi,8),s["\u0275\u0275inject"](Hi,8),s["\u0275\u0275inject"](s.PLATFORM_ID),s["\u0275\u0275inject"](s.NgZone),s["\u0275\u0275inject"](qi,8))},zi.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new zi(Object(s["\u0275\u0275inject"])(Ei),Object(s["\u0275\u0275inject"])(ki,8),Object(s["\u0275\u0275inject"])(Bi,8),Object(s["\u0275\u0275inject"])(Hi,8),Object(s["\u0275\u0275inject"])(s.PLATFORM_ID),Object(s["\u0275\u0275inject"])(s.NgZone),Object(s["\u0275\u0275inject"])(qi,8))},token:zi,providedIn:"any"}),zi),Ki=((Qi=function(){function e(t){_classCallCheck(this,e),this.afs=t,this.clientsCollection=t.collection("clients")}return _createClass(e,[{key:"getClients",value:function(){return this.clientsCollection.snapshotChanges().pipe(Object(se.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)}))})))}},{key:"addClients",value:function(e){this.clientsCollection.add(e)}},{key:"getClient",value:function(e){return this.ClientDoc=this.afs.doc("clients/"+e),this.ClientDoc.snapshotChanges().pipe(Object(se.a)((function(e){if(0==e.payload.exists)return null;var t=e.payload.data();return t.id=e.payload.id,t})))}},{key:"updateClient",value:function(e){this.ClientDoc=this.afs.doc("clients/"+e.id),this.ClientDoc.update(e)}},{key:"deleteClient",value:function(e){console.log("--delete client---",e),this.ClientDoc=this.afs.doc("clients/"+e.id),this.ClientDoc.delete()}}]),e}()).\u0275fac=function(e){return new(e||Qi)(s["\u0275\u0275inject"](Gi))},Qi.\u0275prov=s["\u0275\u0275defineInjectable"]({token:Qi,factory:Qi.\u0275fac,providedIn:"root"}),Qi),Yi=n("XoHu");function Zi(e,t){return new Z.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(z.a)(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var $i,Xi,Ji,eo,to=new s.InjectionToken("NgValueAccessor"),no={provide:to,useExisting:Object(s.forwardRef)((function(){return ro})),multi:!0},ro=(($i=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||$i)(s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](s.ElementRef))},$i.\u0275dir=s["\u0275\u0275defineDirective"]({type:$i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[s["\u0275\u0275ProvidersFeature"]([no])]}),$i),io={provide:to,useExisting:Object(s.forwardRef)((function(){return ao})),multi:!0},oo=new s.InjectionToken("CompositionEventMode"),ao=((eo=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Object(c["\u0275getDOM"])()?Object(c["\u0275getDOM"])().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||eo)(s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](oo,8))},eo.\u0275dir=s["\u0275\u0275defineDirective"]({type:eo,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[s["\u0275\u0275ProvidersFeature"]([io])]}),eo),so=((Ji=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||Ji)},Ji.\u0275dir=s["\u0275\u0275defineDirective"]({type:Ji}),Ji),uo=((Xi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(so)).\u0275fac=function(e){return co(e||Xi)},Xi.\u0275dir=s["\u0275\u0275defineDirective"]({type:Xi,features:[s["\u0275\u0275InheritDefinitionFeature"]]}),Xi),co=s["\u0275\u0275getInheritedFactory"](uo);function lo(){throw new Error("unimplemented")}var ho,fo,po=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return lo()}},{key:"asyncValidator",get:function(){return lo()}}]),n}(so),vo=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),yo=((fo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(vo)).\u0275fac=function(e){return new(e||fo)(s["\u0275\u0275directiveInject"](po,2))},fo.\u0275dir=s["\u0275\u0275defineDirective"]({type:fo,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&s["\u0275\u0275classProp"]("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[s["\u0275\u0275InheritDefinitionFeature"]]}),fo),go=((ho=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(vo)).\u0275fac=function(e){return new(e||ho)(s["\u0275\u0275directiveInject"](uo,2))},ho.\u0275dir=s["\u0275\u0275defineDirective"]({type:ho,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&s["\u0275\u0275classProp"]("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[s["\u0275\u0275InheritDefinitionFeature"]]}),ho);function mo(e){return null==e||0===e.length}var _o=new s.InjectionToken("NgValidators"),wo=new s.InjectionToken("NgAsyncValidators"),Co=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,bo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(mo(t.value)||mo(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(mo(t.value)||mo(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return mo(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return mo(e.value)||Co.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(mo(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(mo(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Eo);return 0==t.length?null:function(e){return Io(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Eo);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Object(X.a)(r))return Zi(r,null);if(Object(Yi.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Zi(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Zi(t=1===t.length&&Object(X.a)(t[0])?t[0]:t,null).pipe(Object(se.a)((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return Zi(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(ko)).pipe(Object(se.a)(Io))}}}]),e}();function Eo(e){return null!=e}function ko(e){var t=Object(s["\u0275isPromise"])(e)?Object(z.a)(e):e;if(!Object(s["\u0275isObservable"])(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Io(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function So(e){return e.validate?function(t){return e.validate(t)}:e}function Do(e){return e.validate?function(t){return e.validate(t)}:e}var To,Ao,xo,Oo,No,Po,Ro={provide:to,useExisting:Object(s.forwardRef)((function(){return Fo})),multi:!0},Fo=((To=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||To)(s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](s.ElementRef))},To.\u0275dir=s["\u0275\u0275defineDirective"]({type:To,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[s["\u0275\u0275ProvidersFeature"]([Ro])]}),To),Mo={provide:to,useExisting:Object(s.forwardRef)((function(){return Lo})),multi:!0},jo=((xo=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||xo)},xo.\u0275prov=s["\u0275\u0275defineInjectable"]({token:xo,factory:xo.\u0275fac}),xo),Lo=((Ao=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(po),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||Ao)(s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](jo),s["\u0275\u0275directiveInject"](s.Injector))},Ao.\u0275dir=s["\u0275\u0275defineDirective"]({type:Ao,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s["\u0275\u0275ProvidersFeature"]([Mo])]}),Ao),Vo={provide:to,useExisting:Object(s.forwardRef)((function(){return Uo})),multi:!0},Uo=((Oo=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Oo)(s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](s.ElementRef))},Oo.\u0275dir=s["\u0275\u0275defineDirective"]({type:Oo,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[s["\u0275\u0275ProvidersFeature"]([Vo])]}),Oo),Bo='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',qo='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Ho={provide:to,useExisting:Object(s.forwardRef)((function(){return Wo})),multi:!0},Wo=((No=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=s["\u0275looseIdentical"]}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||No)(s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](s.ElementRef))},No.\u0275dir=s["\u0275\u0275defineDirective"]({type:No,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[s["\u0275\u0275ProvidersFeature"]([Ho])]}),No),Qo={provide:to,useExisting:Object(s.forwardRef)((function(){return zo})),multi:!0},zo=((Po=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=s["\u0275looseIdentical"]}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||Po)(s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](s.ElementRef))},Po.\u0275dir=s["\u0275\u0275defineDirective"]({type:Po,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[s["\u0275\u0275ProvidersFeature"]([Qo])]}),Po);function Go(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Ko(e,t){e||Zo(t,"Cannot find control with"),t.valueAccessor||Zo(t,"No value accessor for form control with"),e.validator=bo.compose([e.validator,t.validator]),e.asyncValidator=bo.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Yo(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Yo(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Yo(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Zo(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function $o(e){return null!=e?bo.compose(e.map(So)):null}function Xo(e){return null!=e?bo.composeAsync(e.map(Do)):null}var Jo=[ro,Uo,Fo,Wo,zo,Lo];function ea(e){var t=na(e)?e.validators:e;return Array.isArray(t)?$o(t):t||null}function ta(e,t){var n=na(t)?t.asyncValidators:e;return Array.isArray(n)?Xo(n):n||null}function na(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var ra,ia,oa,aa,sa,ua,ca,la,ha,fa,da,pa=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=ea(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=ta(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=ko(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof ya?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof ga&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new s.EventEmitter,this.statusChanges=new s.EventEmitter}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){na(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),va=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,ea(i),ta(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(pa),ya=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,ea(r),ta(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof va?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(pa),ga=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,ea(r),ta(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof va?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(pa),ma={provide:uo,useExisting:Object(s.forwardRef)((function(){return wa}))},_a=Promise.resolve(null),wa=((ia=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new s.EventEmitter,i.form=new ya({},$o(e),Xo(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;_a.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Ko(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;_a.then((function(){var n,r,i,o=t._findContainer(e.path);o&&o.removeControl(e.name),n=t._directives,r=e,(i=n.indexOf(r))>-1&&n.splice(i,1)}))}},{key:"addFormGroup",value:function(e){var t=this;_a.then((function(){var n=t._findContainer(e.path),r=new ya({});(function(e,t){null==e&&Zo(t,"Cannot find control with"),e.validator=bo.compose([e.validator,t.validator]),e.asyncValidator=bo.composeAsync([e.asyncValidator,t.asyncValidator])})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;_a.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;_a.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(uo)).\u0275fac=function(e){return new(e||ia)(s["\u0275\u0275directiveInject"](_o,10),s["\u0275\u0275directiveInject"](wo,10))},ia.\u0275dir=s["\u0275\u0275defineDirective"]({type:ia,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s["\u0275\u0275ProvidersFeature"]([ma]),s["\u0275\u0275InheritDefinitionFeature"]]}),ia),Ca=((ra=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Go(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return $o(this._validators)}},{key:"asyncValidator",get:function(){return Xo(this._asyncValidators)}}]),n}(uo)).\u0275fac=function(e){return ba(e||ra)},ra.\u0275dir=s["\u0275\u0275defineDirective"]({type:ra,features:[s["\u0275\u0275InheritDefinitionFeature"]]}),ra),ba=s["\u0275\u0275getInheritedFactory"](Ca),Ea=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Bo,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(qo))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Bo,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(qo))}}]),e}(),ka={provide:uo,useExisting:Object(s.forwardRef)((function(){return Ia}))},Ia=((oa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof wa||Ea.modelGroupParentException()}}]),n}(Ca)).\u0275fac=function(e){return new(e||oa)(s["\u0275\u0275directiveInject"](uo,5),s["\u0275\u0275directiveInject"](_o,10),s["\u0275\u0275directiveInject"](wo,10))},oa.\u0275dir=s["\u0275\u0275defineDirective"]({type:oa,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[s["\u0275\u0275ProvidersFeature"]([ka]),s["\u0275\u0275InheritDefinitionFeature"]]}),oa),Sa={provide:po,useExisting:Object(s.forwardRef)((function(){return Ta}))},Da=Promise.resolve(null),Ta=((sa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this)).control=new va,a._registered=!1,a.update=new s.EventEmitter,a._parent=e,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Zo(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===ao?n=t:(o=t,Jo.some((function(e){return o.constructor===e}))?(r&&Zo(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Zo(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Zo(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(s["\u0275looseIdentical"])(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Ko(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Ia)&&this._parent instanceof Ca?Ea.formGroupNameException():this._parent instanceof Ia||this._parent instanceof wa||Ea.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ea.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;Da.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;Da.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?Go(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return $o(this._rawValidators)}},{key:"asyncValidator",get:function(){return Xo(this._rawAsyncValidators)}}]),n}(po)).\u0275fac=function(e){return new(e||sa)(s["\u0275\u0275directiveInject"](uo,9),s["\u0275\u0275directiveInject"](_o,10),s["\u0275\u0275directiveInject"](wo,10),s["\u0275\u0275directiveInject"](to,10))},sa.\u0275dir=s["\u0275\u0275defineDirective"]({type:sa,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s["\u0275\u0275ProvidersFeature"]([Sa]),s["\u0275\u0275InheritDefinitionFeature"],s["\u0275\u0275NgOnChangesFeature"]]}),sa),Aa=((aa=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||aa)},aa.\u0275dir=s["\u0275\u0275defineDirective"]({type:aa,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),aa),xa={provide:_o,useExisting:Object(s.forwardRef)((function(){return Oa})),multi:!0},Oa=((ua=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this.required?bo.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}}]),e}()).\u0275fac=function(e){return new(e||ua)},ua.\u0275dir=s["\u0275\u0275defineDirective"]({type:ua,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&s["\u0275\u0275attribute"]("required",t.required?"":null)},inputs:{required:"required"},features:[s["\u0275\u0275ProvidersFeature"]([xa])]}),ua),Na={provide:_o,useExisting:Object(s.forwardRef)((function(){return Pa})),multi:!0},Pa=((ca=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null==this.minlength?null:this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=bo.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),e}()).\u0275fac=function(e){return new(e||ca)},ca.\u0275dir=s["\u0275\u0275defineDirective"]({type:ca,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&s["\u0275\u0275attribute"]("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[s["\u0275\u0275ProvidersFeature"]([Na]),s["\u0275\u0275NgOnChangesFeature"]]}),ca),Ra={provide:_o,useExisting:Object(s.forwardRef)((function(){return Fa})),multi:!0},Fa=((fa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=bo.pattern(this.pattern)}}]),e}()).\u0275fac=function(e){return new(e||fa)},fa.\u0275dir=s["\u0275\u0275defineDirective"]({type:fa,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&s["\u0275\u0275attribute"]("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[s["\u0275\u0275ProvidersFeature"]([Ra]),s["\u0275\u0275NgOnChangesFeature"]]}),fa),Ma=((ha=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:ha}),ha.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ha)}}),ha),ja=((la=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:la}),la.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||la)},providers:[jo],imports:[Ma]}),la),La=["clientForm"],Va=function(e){return{"is-invalid":e}},Ua=((da=function(){function e(t,n,r){_classCallCheck(this,e),this._flashMessagesService=t,this.router=n,this.clientService=r,this.client={firstName:"",lastName:"",email:"",phone:"",balance:0},this.disableBalanceOnAdd=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=e.value,n=e.valid;console.log("clientForm",t,n),n?(this.clientService.addClients(t),this._flashMessagesService.show("Saved Successfully!",{cssClass:"alert-success",timeout:1e3}),this.router.navigate(["/"])):this._flashMessagesService.show("Form is not valid!",{cssClass:"alert-danger",timeout:1e3})}}]),e}()).\u0275fac=function(e){return new(e||da)(s["\u0275\u0275directiveInject"](Yr.FlashMessagesService),s["\u0275\u0275directiveInject"](_r),s["\u0275\u0275directiveInject"](Ki))},da.\u0275cmp=s["\u0275\u0275defineComponent"]({type:da,selectors:[["app-add-client"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275viewQuery"](La,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.form=n.first)},decls:56,vars:30,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit"],["clientForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","name","firstName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","lastName"],["type","text","name","lastName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientLastName","ngModel"],["for","phone"],["type","text","name","phone","minlength","10","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientPhone","ngModel"],["for","email"],["type","email","name","email","pattern","^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientEmail","ngModel"],["type","balance","name","balance","required","",1,"form-control",3,"ngClass","ngModel","disabled","ngModelChange"],["clientBalance","ngModel"],["type","submit","value","Submit"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"a",2),s["\u0275\u0275element"](3,"i",3),s["\u0275\u0275text"](4," Back To dashboard "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"div",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",4),s["\u0275\u0275elementStart"](7,"div",5),s["\u0275\u0275text"](8," Add Client "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",6),s["\u0275\u0275elementStart"](10,"form",7,8),s["\u0275\u0275listener"]("ngSubmit",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275reference"](11);return t.onSubmit(e)})),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"label",10),s["\u0275\u0275text"](14," First Name "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"input",11,12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.firstName=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",13),s["\u0275\u0275text"](18," First name is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",13),s["\u0275\u0275text"](20," Must be atleast two characters "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",9),s["\u0275\u0275elementStart"](22,"label",14),s["\u0275\u0275text"](23," Last Name "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"input",15,16),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.lastName=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"div",13),s["\u0275\u0275text"](27," Last name is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",13),s["\u0275\u0275text"](29," Must be atleast two characters "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",9),s["\u0275\u0275elementStart"](31,"label",17),s["\u0275\u0275text"](32," Phone Number "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"input",18,19),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.phone=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",13),s["\u0275\u0275text"](36," Phone number is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](37,"div",13),s["\u0275\u0275text"](38," Must be atleast ten characters "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"div",9),s["\u0275\u0275elementStart"](40,"label",20),s["\u0275\u0275text"](41," Email "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](42,"input",21,22),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.email=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](44,"div",13),s["\u0275\u0275text"](45," Email is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](46,"div",13),s["\u0275\u0275text"](47," Must be valid email address "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](48,"div",9),s["\u0275\u0275elementStart"](49,"label",20),s["\u0275\u0275text"](50," Balance "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](51,"input",23,24),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.balance=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](53,"div",13),s["\u0275\u0275text"](54," Balance is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](55,"input",25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275reference"](16),i=s["\u0275\u0275reference"](25),o=s["\u0275\u0275reference"](34),a=s["\u0275\u0275reference"](43),u=s["\u0275\u0275reference"](52);s["\u0275\u0275advance"](15),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](20,Va,r.errors&&r.touched))("ngModel",t.client.firstName),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.required)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.minlength)),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](22,Va,i.errors&&i.touched))("ngModel",t.client.lastName),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=i.errors&&i.errors.required)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=i.errors&&i.errors.minlength)),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](24,Va,o.errors&&o.touched))("ngModel",t.client.phone),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.required)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.minlength)),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](26,Va,a.errors&&a.touched))("ngModel",t.client.email),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=a.errors&&a.errors.required)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=a.errors&&a.errors.pattern)),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](28,Va,u.errors&&u.touched))("ngModel",t.client.balance)("disabled",t.disableBalanceOnAdd),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=u.errors&&u.errors.required))}},directives:[wr,Aa,go,wa,ao,Pa,Oa,c.NgClass,yo,Ta,Fa],styles:[""]}),da);function Ba(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",18),s["\u0275\u0275listener"]("submit",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275nextContext"]();return e.updateBalance(e.id)})),s["\u0275\u0275elementStart"](1,"div",19),s["\u0275\u0275elementStart"](2,"input",20),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().client.balance=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"span",21),s["\u0275\u0275elementStart"](4,"button",22),s["\u0275\u0275text"](5,"Update"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngModel",r.client.balance)}}var qa,Ha=((qa=function(){function e(t,n,r,i){_classCallCheck(this,e),this.clientService=t,this.router=n,this.route=r,this._flashMessagesService=i,this.hasBalance=!1,this.showBalanceUpdateInput=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe((function(t){null!=t&&t.balance>0&&(e.hasBalance=!0),e.client=t}))}},{key:"onDeleteClick",value:function(e){this.clientService.deleteClient(this.client),this._flashMessagesService.show("Removed Successfully!",{cssClass:"alert-danger",timeout:3e3}),this.router.navigate(["/"])}},{key:"updateBalance",value:function(e){this.clientService.updateClient(this.client),this._flashMessagesService.show("Saved Successfully!",{cssClass:"alert-success",timeout:3e3})}}]),e}()).\u0275fac=function(e){return new(e||qa)(s["\u0275\u0275directiveInject"](Ki),s["\u0275\u0275directiveInject"](_r),s["\u0275\u0275directiveInject"](ln),s["\u0275\u0275directiveInject"](Yr.FlashMessagesService))},qa.\u0275cmp=s["\u0275\u0275defineComponent"]({type:qa,selectors:[["app-client-details"]],decls:37,vars:16,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"btn-group","pull-right"],[1,"btn","btn-dark",3,"routerLink"],[1,"btn","btn-danger",3,"click"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"cold-md8","col-sm-6"],[1,"pull-right"],[3,"click"],[1,"fa","fa-pencil"],[1,"clearfix"],[3,"submit",4,"ngIf"],[1,"list-group"],[1,"list-group","item"],[3,"submit"],[1,"input-group"],["type","text","name","balance",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-btn"],[1,"btn","btn-primary"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"a",2),s["\u0275\u0275element"](3,"i",3),s["\u0275\u0275text"](4," Back to dashoard"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",1),s["\u0275\u0275elementStart"](6,"div",4),s["\u0275\u0275elementStart"](7,"a",5),s["\u0275\u0275text"](8," Edit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",6),s["\u0275\u0275listener"]("click",(function(){return t.onDeleteClick(t.id)})),s["\u0275\u0275text"](10," Delete "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](11,"hr"),s["\u0275\u0275elementStart"](12,"div",7),s["\u0275\u0275elementStart"](13,"h3",8),s["\u0275\u0275text"](14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",9),s["\u0275\u0275elementStart"](16,"div",0),s["\u0275\u0275elementStart"](17,"div",10),s["\u0275\u0275elementStart"](18,"h4"),s["\u0275\u0275text"](19),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",10),s["\u0275\u0275elementStart"](21,"h4",11),s["\u0275\u0275text"](22," Balance "),s["\u0275\u0275elementStart"](23,"span"),s["\u0275\u0275text"](24),s["\u0275\u0275pipe"](25,"currency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"small"),s["\u0275\u0275elementStart"](27,"a",12),s["\u0275\u0275listener"]("click",(function(){return t.showBalanceUpdateInput=!t.showBalanceUpdateInput})),s["\u0275\u0275element"](28,"i",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",14),s["\u0275\u0275template"](30,Ba,6,1,"form",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](31,"hr"),s["\u0275\u0275elementStart"](32,"ul",16),s["\u0275\u0275elementStart"](33,"li",17),s["\u0275\u0275text"](34),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"li",17),s["\u0275\u0275text"](36),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275propertyInterpolate1"]("routerLink","/client/edit/",t.id,""),s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate2"]("",null==t.client?null:t.client.firstName," ",null==t.client?null:t.client.lastName,""),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"]("Client ID: ",null==t.client?null:t.client.id,""),s["\u0275\u0275advance"](4),s["\u0275\u0275classProp"]("text-success",t.hasBalance)("text-danger",!t.hasBalance),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind3"](25,12,null==t.client?null:t.client.balance,"USD","symbol")," "),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",t.showBalanceUpdateInput),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"]("Client Email: ",null==t.client?null:t.client.email,""),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"]("Client Phone: ",null==t.client?null:t.client.phone,""))},directives:[wr,c.NgIf,Aa,go,wa,ao,yo,Ta],pipes:[c.CurrencyPipe],styles:[""]}),qa);function Wa(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"td"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"td"),s["\u0275\u0275text"](6),s["\u0275\u0275pipe"](7,"currency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"td"),s["\u0275\u0275elementStart"](9,"a",8),s["\u0275\u0275element"](10,"i",9),s["\u0275\u0275text"](11,"Details"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate2"]("",n.firstName," ",n.lastName,""),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.email),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind3"](7,5,n.balance,"USD","symbol")),s["\u0275\u0275advance"](3),s["\u0275\u0275propertyInterpolate1"]("routerLink","client/",n.id,"")}}function Qa(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"table",6),s["\u0275\u0275elementStart"](1,"thead"),s["\u0275\u0275elementStart"](2,"tr"),s["\u0275\u0275elementStart"](3,"th"),s["\u0275\u0275text"](4,"Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"th"),s["\u0275\u0275text"](6,"Email"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"th"),s["\u0275\u0275text"](8,"Balance"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"tbody"),s["\u0275\u0275template"](10,Wa,12,9,"tr",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("ngForOf",n.clients)}}function za(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"h4",10),s["\u0275\u0275text"](1,"No clients found!"),s["\u0275\u0275elementEnd"]())}var Ga,Ka,Ya,Za,$a,Xa,Ja,es,ts,ns,rs,is=((Ya=function(){function e(t){_classCallCheck(this,e),this.clientService=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.clientService.getClients().subscribe((function(t){e.clients=t,e.getTotalowed()}))}},{key:"getTotalowed",value:function(){var e=this.clients.reduce((function(e,t){return e+parseFloat(t.balance.toString())}),0);this.totalOwed=e}}]),e}()).\u0275fac=function(e){return new(e||Ya)(s["\u0275\u0275directiveInject"](Ki))},Ya.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ya,selectors:[["app-clients"]],decls:12,vars:7,consts:[[1,"row"],[1,"col-md-6"],[1,"fa","fa-users"],[1,"text-right","text-secondary"],["class","table table-stripped",4,"ngIf","ngIfElse"],["noClients",""],[1,"table","table-stripped"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],[1,"fa","fa-arrow-circle-o-right"],[1,"text-secondary"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"h3"),s["\u0275\u0275element"](3,"i",2),s["\u0275\u0275text"](4,"Clients"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",1),s["\u0275\u0275elementStart"](6,"h5",3),s["\u0275\u0275text"](7),s["\u0275\u0275pipe"](8,"currency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,Qa,11,1,"table",4),s["\u0275\u0275template"](10,za,2,0,"ng-template",null,5,s["\u0275\u0275templateRefExtractor"])),2&e){var n=s["\u0275\u0275reference"](11);s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate1"]("Total owed: ",s["\u0275\u0275pipeBind3"](8,3,t.totalOwed,"USD","symbol"),""),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",(null==t.clients?null:t.clients.length)>0)("ngIfElse",n)}},directives:[c.NgIf,c.NgForOf,wr],pipes:[c.CurrencyPipe],styles:[""]}),Ya),os=((Ka=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ka)},Ka.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ka,selectors:[["app-sidebar"]],decls:3,vars:0,consts:[["routerLink","client/add",1,"btn","btn-success","btn-block"],[1,"fa","fa-plus"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"a",0),s["\u0275\u0275element"](1,"i",1),s["\u0275\u0275text"](2," New\n"),s["\u0275\u0275elementEnd"]())},directives:[wr],styles:[""]}),Ka),as=((Ga=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ga)},Ga.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ga,selectors:[["app-dashboard"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-10"],[1,"col-md-2"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275element"](2,"app-clients"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",2),s["\u0275\u0275element"](4,"app-sidebar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},directives:[is,os],styles:[""]}),Ga),ss=function(e){return{"is-invalid":e}},us=((Ja=function(){function e(t,n,r,i){_classCallCheck(this,e),this.clientService=t,this.router=n,this.route=r,this._flashMessagesService=i,this.showBalanceUpdateInput=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe((function(t){e.client=t}))}},{key:"onSubmit",value:function(e){var t=e.value,n=e.valid;console.log("clientForm",t,n),n?(t.id=this.id.toString(),this.clientService.updateClient(t),this._flashMessagesService.show("Edited Successfully!",{cssClass:"alert-success",timeout:3e3}),this.router.navigate(["/client/"+this.id])):this._flashMessagesService.show("Form is not valid!",{cssClass:"alert-danger",timeout:1e3})}}]),e}()).\u0275fac=function(e){return new(e||Ja)(s["\u0275\u0275directiveInject"](Ki),s["\u0275\u0275directiveInject"](_r),s["\u0275\u0275directiveInject"](ln),s["\u0275\u0275directiveInject"](Yr.FlashMessagesService))},Ja.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ja,selectors:[["app-edit-client"]],decls:56,vars:29,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit"],["clientForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","name","firstName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","lastName"],["type","text","name","lastName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientLastName","ngModel"],["for","phone"],["type","text","name","phone","minlength","10","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientPhone","ngModel"],["for","email"],["type","email","name","email","pattern","^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientEmail","ngModel"],["type","balance","name","balance","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientBalance","ngModel"],["type","submit","value","Submit"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"a",2),s["\u0275\u0275element"](3,"i",3),s["\u0275\u0275text"](4," Back To dashboard "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"div",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",4),s["\u0275\u0275elementStart"](7,"div",5),s["\u0275\u0275text"](8," Edit Client "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",6),s["\u0275\u0275elementStart"](10,"form",7,8),s["\u0275\u0275listener"]("ngSubmit",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275reference"](11);return t.onSubmit(e)})),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"label",10),s["\u0275\u0275text"](14," First Name "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"input",11,12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.firstName=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",13),s["\u0275\u0275text"](18," First name is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",13),s["\u0275\u0275text"](20," Must be atleast two characters "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",9),s["\u0275\u0275elementStart"](22,"label",14),s["\u0275\u0275text"](23," Last Name "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"input",15,16),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.lastName=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"div",13),s["\u0275\u0275text"](27," Last name is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",13),s["\u0275\u0275text"](29," Must be atleast two characters "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",9),s["\u0275\u0275elementStart"](31,"label",17),s["\u0275\u0275text"](32," Phone Number "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"input",18,19),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.phone=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",13),s["\u0275\u0275text"](36," Phone number is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](37,"div",13),s["\u0275\u0275text"](38," Must be atleast ten characters "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"div",9),s["\u0275\u0275elementStart"](40,"label",20),s["\u0275\u0275text"](41," Email "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](42,"input",21,22),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.email=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](44,"div",13),s["\u0275\u0275text"](45," Email is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](46,"div",13),s["\u0275\u0275text"](47," Must be valid email address "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](48,"div",9),s["\u0275\u0275elementStart"](49,"label",20),s["\u0275\u0275text"](50," Balance "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](51,"input",23,24),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.client.balance=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](53,"div",13),s["\u0275\u0275text"](54," Balance is required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](55,"input",25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275reference"](16),i=s["\u0275\u0275reference"](25),o=s["\u0275\u0275reference"](34),a=s["\u0275\u0275reference"](43),u=s["\u0275\u0275reference"](52);s["\u0275\u0275advance"](15),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](19,ss,r.errors&&r.touched))("ngModel",t.client.firstName),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.required)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.minlength)),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](21,ss,i.errors&&i.touched))("ngModel",t.client.lastName),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=i.errors&&i.errors.required)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=i.errors&&i.errors.minlength)),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](23,ss,o.errors&&o.touched))("ngModel",t.client.phone),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.required)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.minlength)),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](25,ss,a.errors&&a.touched))("ngModel",t.client.email),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=a.errors&&a.errors.required)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=a.errors&&a.errors.pattern)),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](27,ss,u.errors&&u.touched))("ngModel",t.client.balance),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidden",!(null!=u.errors&&u.errors.required))}},directives:[wr,Aa,go,wa,ao,Pa,Oa,c.NgClass,yo,Ta,Fa],styles:[""]}),Ja),cs=((Xa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Xa)},Xa.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Xa,selectors:[["app-not-found"]],decls:2,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1,"not-found works!"),s["\u0275\u0275elementEnd"]())},styles:[""]}),Xa),ls=(($a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||$a)},$a.\u0275cmp=s["\u0275\u0275defineComponent"]({type:$a,selectors:[["app-register"]],decls:2,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1,"register works!"),s["\u0275\u0275elementEnd"]())},styles:[""]}),$a),hs=((Za=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Za)},Za.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Za,selectors:[["app-settings"]],decls:2,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1,"settings works!"),s["\u0275\u0275elementEnd"]())},styles:[""]}),Za),fs=[{path:"",component:as},{path:"client/add",component:Ua},{path:"client/edit/:id",component:us},{path:"client/:id",component:Ha},{path:"login",component:(es=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),es.\u0275fac=function(e){return new(e||es)},es.\u0275cmp=s["\u0275\u0275defineComponent"]({type:es,selectors:[["app-login"]],decls:2,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1,"login works!"),s["\u0275\u0275elementEnd"]())},styles:[""]}),es)},{path:"register",component:ls},{path:"settings",component:hs},{path:"sidebar",component:os},{path:"**",component:cs}],ds=((rs=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:rs}),rs.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||rs)},imports:[[Lr.forRoot(fs)],Lr]}),rs),ps=((ns=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ns)},ns.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ns,selectors:[["app-navbar"]],decls:18,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","mb-4"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarMain",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarMain",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/",1,"nav-link"],[1,"navbar-nav","ml-auto"],["routerLink","/register",1,"nav-link"],["routerLink","/login",1,"nav-link"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nav",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"a",2),s["\u0275\u0275text"](3,"ClientPanel"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"button",3),s["\u0275\u0275element"](5,"span",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",5),s["\u0275\u0275elementStart"](7,"ul",6),s["\u0275\u0275elementStart"](8,"li",7),s["\u0275\u0275elementStart"](9,"a",8),s["\u0275\u0275text"](10,"Dashboard"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"ul",9),s["\u0275\u0275elementStart"](12,"li",7),s["\u0275\u0275elementStart"](13,"a",10),s["\u0275\u0275text"](14," Register "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"li",7),s["\u0275\u0275elementStart"](16,"a",11),s["\u0275\u0275text"](17," Login "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},directives:[wr],styles:[""]}),ns),vs=((ts=function e(){_classCallCheck(this,e),this.title="Welcome to clientPanel"}).\u0275fac=function(e){return new(e||ts)},ts.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ts,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(e,t){1&e&&(s["\u0275\u0275element"](0,"app-navbar"),s["\u0275\u0275elementStart"](1,"div",0),s["\u0275\u0275element"](2,"flash-messages"),s["\u0275\u0275element"](3,"router-outlet"),s["\u0275\u0275elementEnd"]())},directives:[ps,Yr.FlashMessagesComponent,Dr],styles:[""]}),ts),ys=n("VRyK"),gs=n("w1tV"),ms=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _s(e,this.compare,this.keySelector))}}]),e}(),_s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(le.a),ws=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Cs(e,this.observables,this.project))}}]),e}(),Cs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n),(o=t.call(this,e)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++){var c=r[u];o.add(Object(ee.a)(_assertThisInitialized(o),c,c,u))}return o}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(J.a),bs=function(){function e(t){_classCallCheck(this,e),this.predicate=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Es(e,this.predicate))}}]),e}(),Es=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).predicate=r,i.skipping=!0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),n}(le.a);function ks(e){return null==e}function Is(e){return"function"==typeof e.set}function Ss(e,t){return Is(t)?t:e.ref(t)}function Ds(e,t){if("string"==typeof e)return t.stringCase();if(Is(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function Ts(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jr;return new Z.a((function(i){var o;return o=e[n](t,(function(e,t){r.schedule((function(){i.next({snapshot:e,prevKey:t})})),"once"===n&&r.schedule((function(){return i.complete()}))}),(function(e){r.schedule((function(){return i.error(e)}))})),"on"===n?{unsubscribe:function(){null!=o&&e.off(t,o)}}:{unsubscribe:function(){}}})).pipe(Object(se.a)((function(e){var n=e.snapshot,r=e.prevKey,i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}})),Object(gs.a)())}function As(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function xs(e,t){var n=t.payload,r=t.prevKey,i=t.key,o=As(e,i),a=function(e,t){if(ks(t))return 0;var n=As(e,t);return-1===n?e.length:n+1}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){var s=null;t.payload.forEach((function(t){var n={payload:t,type:"value",prevKey:s,key:t.key};return s=t.key,e=[].concat(_toConsumableArray(e),[n]),!1}))}return e;case"child_added":if(o>-1){var u=e[o-1];(u&&u.key||null)!==r&&(e=e.filter((function(e){return e.payload.key!==n.key}))).splice(a,0,t)}else{if(null==r)return[t].concat(_toConsumableArray(e));(e=e.slice()).splice(a,0,t)}return e;case"child_removed":return e.filter((function(e){return e.payload.key!==n.key}));case"child_changed":return e.map((function(e){return e.payload.key===i?t:e}));case"child_moved":if(o>-1){var c=e.splice(o,1)[0];return(e=e.slice()).splice(a,0,c),e}return e;default:return e}}function Os(e){return(ks(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function Ns(e,t,n){return function(e,t,n){return Ts(e,"value","once",n).pipe(Le((function(r){var i=[Q(r)];return t.forEach((function(t){return i.push(Ts(e,t,"on",n))})),Object(ys.a).apply(void 0,i).pipe(qe(xs,[]))})),(function(e){return e.lift(new ms(void 0,void 0))}))}(e,t=Os(t),n)}function Ps(e,t,n){var r=(t=Os(t)).map((function(t){return Ts(e,t,"on",n)}));return Object(ys.a).apply(void 0,_toConsumableArray(r))}function Rs(e,t){return function(n,r){return Ds(n,{stringCase:function(){return e.child(n)[t](r)},firebaseCase:function(){return n[t](r)},snapshotCase:function(){return n.ref[t](r)}})}}function Fs(e,t){return function(){return Ts(e,"value","on",t)}}n("NSPt");var Ms,js,Ls,Vs=new s.InjectionToken("angularfire2.realtimeDatabaseURL"),Us=((Ls=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.schedulers=new Ci(o),this.keepUnstableUntilFirst=bi(this.schedulers),this.database=o.runOutsideAngular((function(){return Si(t,o,n).database(r||void 0)}))}return _createClass(e,[{key:"list",value:function(e,t){var n=Ss(this.database,e),r=n;return t&&(r=t(n)),function(e,t){var n,r=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run((function(){return e.ref}));return{query:e,update:Rs(i,"update"),set:Rs(i,"set"),push:function(e){return i.push(e)},remove:(n=i,function(e){return e?Ds(e,{stringCase:function(){return n.child(e).remove()},firebaseCase:function(){return e.remove()},snapshotCase:function(){return e.ref.remove()}}):n.remove()}),snapshotChanges:function(n){return Ns(e,n,r).pipe(t.keepUnstableUntilFirst)},stateChanges:function(n){return Ps(e,n,r).pipe(t.keepUnstableUntilFirst)},auditTrail:function(n){return function(e,t,n){return function(e,t,n){return function(e,t){return Ts(e,"value","on",t).pipe(Object(se.a)((function(e){var t;return e.payload.forEach((function(e){return t=e.key,!1})),{data:e,lastKeyToLoad:t}})))}(e,n).pipe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new ws(t,n))}}(t),Object(se.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=n.lastKeyToLoad,o=r.map((function(e){return e.key}));return{actions:r,lastKeyToLoad:i,loadedKeys:o}})),(r=function(e){return-1===e.loadedKeys.indexOf(e.lastKeyToLoad)},function(e){return e.lift(new bs(r))}),Object(se.a)((function(e){return e.actions})));var r}(e,Ps(e,t).pipe(qe((function(e,t){return[].concat(_toConsumableArray(e),[t])}),[])),n)}(e,n,r).pipe(t.keepUnstableUntilFirst)},valueChanges:function(n){return Ns(e,n,r).pipe(Object(se.a)((function(e){return e.map((function(e){return e.payload.val()}))})),t.keepUnstableUntilFirst)}}}(r,this)}},{key:"object",value:function(e){var t,n,r=Ss(this.database,e);return n=this,{query:t=r,snapshotChanges:function(){return Fs(t,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(e){return t.ref.update(e)},set:function(e){return t.ref.set(e)},remove:function(){return t.ref.remove()},valueChanges:function(){return Fs(t,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,Object(se.a)((function(e){return e.payload.exists()?e.payload.val():null})))}}}},{key:"createPushId",value:function(){return this.database.ref().push().key}}]),e}()).\u0275fac=function(e){return new(e||Ls)(s["\u0275\u0275inject"](Ei),s["\u0275\u0275inject"](ki,8),s["\u0275\u0275inject"](Vs,8),s["\u0275\u0275inject"](s.PLATFORM_ID),s["\u0275\u0275inject"](s.NgZone))},Ls.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new Ls(Object(s["\u0275\u0275inject"])(Ei),Object(s["\u0275\u0275inject"])(ki,8),Object(s["\u0275\u0275inject"])(Vs,8),Object(s["\u0275\u0275inject"])(s.PLATFORM_ID),Object(s["\u0275\u0275inject"])(s.NgZone))},token:Ls,providedIn:"any"}),Ls),Bs=((js=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:js}),js.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||js)},providers:[Us]}),js),qs=((Ms=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:Ms,bootstrap:[vs]}),Ms.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ms)},providers:[],imports:[[B,ds,Ai.initializeApp(u,"clientPanel"),Yr.FlashMessagesModule.forRoot(),Bs,ja]]}),Ms);Object(s.enableProdMode)(),V().bootstrapModule(qs).catch((function(e){return console.error(e)}))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}var p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(t,e),t}(Error),v=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function y(e,t){return e.replace(g,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function m(e){return JSON.parse(e)}var _=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),C=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function b(){}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=v,t.FirebaseError=p,t.Sha1=w,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new C(e,t);return n.subscribe.bind(n)},t.decode=_,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=E,t.getUA=f,t.isAdmin=function(e){var t=_(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return f().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=d,t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return f().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=_(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=_(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=_(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=m,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);